/*
 jQuery UI Datepicker 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 Hammer.JS - v2.0.8 - 2016-04-23
 http://hammerjs.github.io/

 Copyright (c) 2016 Jorik Tangelder;
 Licensed under the MIT license  mustache.js - Logic-less {{mustache}} templates with JavaScript
 http://github.com/janl/mustache.js
 jQuery Mustache - v0.2.8 - 2013-06-23
 https://github.com/jonnyreeves/jquery-Mustache
 Copyright (c) 2013 Jonny Reeves; Licensed MIT */
(function(M){"function"===typeof define&&define.amd?define(["jquery","../version","../keycode"],M):M(jQuery)})(function(M){function Y(c){for(var p;c.length&&c[0]!==document;){p=c.css("position");if("absolute"===p||"relative"===p||"fixed"===p)if(p=parseInt(c.css("zIndex"),10),!isNaN(p)&&0!==p)return p;c=c.parent()}return 0}function I(){this._curInst=null;this._keyEvent=!1;this._disabledInputs=[];this._inDialog=this._datepickerShowing=!1;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";
this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:"January February March April May June July August September October November December".split(" "),
monthNamesShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),dayNames:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),dayNamesShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),dayNamesMin:"Su Mo Tu We Th Fr Sa".split(" "),weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,
navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1};M.extend(this._defaults,
this.regional[""]);this.regional.en=M.extend(!0,{},this.regional[""]);this.regional["en-US"]=M.extend(!0,{},this.regional.en);this.dpDiv=z(M("\x3cdiv id\x3d'"+this._mainDivId+"' class\x3d'ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'\x3e\x3c/div\x3e"))}function z(c){return c.on("mouseout","button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a",function(){M(this).removeClass("ui-state-hover");-1!==this.className.indexOf("ui-datepicker-prev")&&
M(this).removeClass("ui-datepicker-prev-hover");-1!==this.className.indexOf("ui-datepicker-next")&&M(this).removeClass("ui-datepicker-next-hover")}).on("mouseover","button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a",m)}function m(){M.datepicker._isDisabledDatepicker(l.inline?l.dpDiv.parent()[0]:l.input[0])||(M(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),M(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&
M(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&M(this).addClass("ui-datepicker-next-hover"))}function n(c,p){M.extend(c,p);for(var d in p)null==p[d]&&(c[d]=p[d]);return c}M.extend(M.ui,{datepicker:{version:"1.12.1"}});var l;M.extend(I.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(c){n(this._defaults,c||{});return this},_attachDatepicker:function(c,p){var d=c.nodeName.toLowerCase();
var a="div"===d||"span"===d;c.id||(this.uuid+=1,c.id="dp"+this.uuid);var b=this._newInst(M(c),a);b.settings=M.extend({},p||{});"input"===d?this._connectDatepicker(c,b):a&&this._inlineDatepicker(c,b)},_newInst:function(c,p){return{id:c[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:c,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:p,dpDiv:p?z(M("\x3cdiv class\x3d'"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'\x3e\x3c/div\x3e")):
this.dpDiv}},_connectDatepicker:function(c,p){var d=M(c);p.append=M([]);p.trigger=M([]);d.hasClass(this.markerClassName)||(this._attachments(d,p),d.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(p),M.data(c,"datepicker",p),p.settings.disabled&&this._disableDatepicker(c))},_attachments:function(c,p){var d=this._get(p,"appendText");var a=this._get(p,"isRTL");p.append&&p.append.remove();d&&(p.append=M("\x3cspan class\x3d'"+
this._appendClass+"'\x3e"+d+"\x3c/span\x3e"),c[a?"before":"after"](p.append));c.off("focus",this._showDatepicker);p.trigger&&p.trigger.remove();d=this._get(p,"showOn");if("focus"===d||"both"===d)c.on("focus",this._showDatepicker);if("button"===d||"both"===d){d=this._get(p,"buttonText");var b=this._get(p,"buttonImage");p.trigger=M(this._get(p,"buttonImageOnly")?M("\x3cimg/\x3e").addClass(this._triggerClass).attr({src:b,alt:d,title:d}):M("\x3cbutton type\x3d'button'\x3e\x3c/button\x3e").addClass(this._triggerClass).html(b?
M("\x3cimg/\x3e").attr({src:b,alt:d,title:d}):d));c[a?"before":"after"](p.trigger);p.trigger.on("click",function(){M.datepicker._datepickerShowing&&M.datepicker._lastInput===c[0]?M.datepicker._hideDatepicker():(M.datepicker._datepickerShowing&&M.datepicker._lastInput!==c[0]&&M.datepicker._hideDatepicker(),M.datepicker._showDatepicker(c[0]));return!1})}},_autoSize:function(c){if(this._get(c,"autoSize")&&!c.inline){var p,d,a,b=new Date(2009,11,20),f=this._get(c,"dateFormat");if(f.match(/[DM]/)){var e=
function(k){for(a=d=p=0;a<k.length;a++)k[a].length>p&&(p=k[a].length,d=a);return d};b.setMonth(e(this._get(c,f.match(/MM/)?"monthNames":"monthNamesShort")));b.setDate(e(this._get(c,f.match(/DD/)?"dayNames":"dayNamesShort"))+20-b.getDay())}c.input.attr("size",this._formatDate(c,b).length)}},_inlineDatepicker:function(c,p){var d=M(c);d.hasClass(this.markerClassName)||(d.addClass(this.markerClassName).append(p.dpDiv),M.data(c,"datepicker",p),this._setDate(p,this._getDefaultDate(p),!0),this._updateDatepicker(p),
this._updateAlternate(p),p.settings.disabled&&this._disableDatepicker(c),p.dpDiv.css("display","block"))},_dialogDatepicker:function(c,p,d,a,b){c=this._dialogInst;c||(this.uuid+=1,c="dp"+this.uuid,this._dialogInput=M("\x3cinput type\x3d'text' id\x3d'"+c+"' style\x3d'position: absolute; top: -100px; width: 0px;'/\x3e"),this._dialogInput.on("keydown",this._doKeyDown),M("body").append(this._dialogInput),c=this._dialogInst=this._newInst(this._dialogInput,!1),c.settings={},M.data(this._dialogInput[0],
"datepicker",c));n(c.settings,a||{});p=p&&p.constructor===Date?this._formatDate(c,p):p;this._dialogInput.val(p);this._pos=b?b.length?b:[b.pageX,b.pageY]:null;if(!this._pos){p=document.documentElement.clientWidth;a=document.documentElement.clientHeight;b=document.documentElement.scrollLeft||document.body.scrollLeft;var f=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[p/2-100+b,a/2-150+f]}this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px");c.settings.onSelect=
d;this._inDialog=!0;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);M.blockUI&&M.blockUI(this.dpDiv);M.data(this._dialogInput[0],"datepicker",c);return this},_destroyDatepicker:function(c){var p=M(c),d=M.data(c,"datepicker");if(p.hasClass(this.markerClassName)){var a=c.nodeName.toLowerCase();M.removeData(c,"datepicker");"input"===a?(d.append.remove(),d.trigger.remove(),p.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",
this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==a&&"span"!==a||p.removeClass(this.markerClassName).empty();l===d&&(l=null)}},_enableDatepicker:function(c){var p=M(c),d=M.data(c,"datepicker");if(p.hasClass(this.markerClassName)){var a=c.nodeName.toLowerCase();if("input"===a)c.disabled=!1,d.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if("div"===a||"span"===a)a=p.children("."+this._inlineClass),a.children().removeClass("ui-state-disabled"),
a.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1);this._disabledInputs=M.map(this._disabledInputs,function(b){return b===c?null:b})}},_disableDatepicker:function(c){var p=M(c),d=M.data(c,"datepicker");if(p.hasClass(this.markerClassName)){var a=c.nodeName.toLowerCase();if("input"===a)c.disabled=!0,d.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if("div"===a||"span"===a)a=p.children("."+this._inlineClass),
a.children().addClass("ui-state-disabled"),a.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0);this._disabledInputs=M.map(this._disabledInputs,function(b){return b===c?null:b});this._disabledInputs[this._disabledInputs.length]=c}},_isDisabledDatepicker:function(c){if(!c)return!1;for(var p=0;p<this._disabledInputs.length;p++)if(this._disabledInputs[p]===c)return!0;return!1},_getInst:function(c){try{return M.data(c,"datepicker")}catch(p){throw"Missing instance data for this datepicker";
}},_optionDatepicker:function(c,p,d){var a=this._getInst(c);if(2===arguments.length&&"string"===typeof p)return"defaults"===p?M.extend({},M.datepicker._defaults):a?"all"===p?M.extend({},a.settings):this._get(a,p):null;var b=p||{};"string"===typeof p&&(b={},b[p]=d);if(a){this._curInst===a&&this._hideDatepicker();var f=this._getDateDatepicker(c,!0);var e=this._getMinMaxDate(a,"min");var k=this._getMinMaxDate(a,"max");n(a.settings,b);null!==e&&void 0!==b.dateFormat&&void 0===b.minDate&&(a.settings.minDate=
this._formatDate(a,e));null!==k&&void 0!==b.dateFormat&&void 0===b.maxDate&&(a.settings.maxDate=this._formatDate(a,k));"disabled"in b&&(b.disabled?this._disableDatepicker(c):this._enableDatepicker(c));this._attachments(M(c),a);this._autoSize(a);this._setDate(a,f);this._updateAlternate(a);this._updateDatepicker(a)}},_changeDatepicker:function(c,p,d){this._optionDatepicker(c,p,d)},_refreshDatepicker:function(c){(c=this._getInst(c))&&this._updateDatepicker(c)},_setDateDatepicker:function(c,p){if(c=this._getInst(c))this._setDate(c,
p),this._updateDatepicker(c),this._updateAlternate(c)},_getDateDatepicker:function(c,p){(c=this._getInst(c))&&!c.inline&&this._setDateFromField(c,p);return c?this._getDate(c):null},_doKeyDown:function(c){var p=M.datepicker._getInst(c.target);var d=!0;var a=p.dpDiv.is(".ui-datepicker-rtl");p._keyEvent=!0;if(M.datepicker._datepickerShowing)switch(c.keyCode){case 9:M.datepicker._hideDatepicker();d=!1;break;case 13:return d=M("td."+M.datepicker._dayOverClass+":not(."+M.datepicker._currentClass+")",p.dpDiv),
d[0]&&M.datepicker._selectDay(c.target,p.selectedMonth,p.selectedYear,d[0]),(c=M.datepicker._get(p,"onSelect"))?(d=M.datepicker._formatDate(p),c.apply(p.input?p.input[0]:null,[d,p])):M.datepicker._hideDatepicker(),!1;case 27:M.datepicker._hideDatepicker();break;case 33:M.datepicker._adjustDate(c.target,c.ctrlKey?-M.datepicker._get(p,"stepBigMonths"):-M.datepicker._get(p,"stepMonths"),"M");break;case 34:M.datepicker._adjustDate(c.target,c.ctrlKey?+M.datepicker._get(p,"stepBigMonths"):+M.datepicker._get(p,
"stepMonths"),"M");break;case 35:(c.ctrlKey||c.metaKey)&&M.datepicker._clearDate(c.target);d=c.ctrlKey||c.metaKey;break;case 36:(c.ctrlKey||c.metaKey)&&M.datepicker._gotoToday(c.target);d=c.ctrlKey||c.metaKey;break;case 37:(c.ctrlKey||c.metaKey)&&M.datepicker._adjustDate(c.target,a?1:-1,"D");d=c.ctrlKey||c.metaKey;c.originalEvent.altKey&&M.datepicker._adjustDate(c.target,c.ctrlKey?-M.datepicker._get(p,"stepBigMonths"):-M.datepicker._get(p,"stepMonths"),"M");break;case 38:(c.ctrlKey||c.metaKey)&&M.datepicker._adjustDate(c.target,
-7,"D");d=c.ctrlKey||c.metaKey;break;case 39:(c.ctrlKey||c.metaKey)&&M.datepicker._adjustDate(c.target,a?-1:1,"D");d=c.ctrlKey||c.metaKey;c.originalEvent.altKey&&M.datepicker._adjustDate(c.target,c.ctrlKey?+M.datepicker._get(p,"stepBigMonths"):+M.datepicker._get(p,"stepMonths"),"M");break;case 40:(c.ctrlKey||c.metaKey)&&M.datepicker._adjustDate(c.target,7,"D");d=c.ctrlKey||c.metaKey;break;default:d=!1}else 36===c.keyCode&&c.ctrlKey?M.datepicker._showDatepicker(this):d=!1;d&&(c.preventDefault(),c.stopPropagation())},
_doKeyPress:function(c){var p=M.datepicker._getInst(c.target);if(M.datepicker._get(p,"constrainInput")){p=M.datepicker._possibleChars(M.datepicker._get(p,"dateFormat"));var d=String.fromCharCode(null==c.charCode?c.keyCode:c.charCode);return c.ctrlKey||c.metaKey||" ">d||!p||-1<p.indexOf(d)}},_doKeyUp:function(c){var p;c=M.datepicker._getInst(c.target);if(c.input.val()!==c.lastVal)try{if(p=M.datepicker.parseDate(M.datepicker._get(c,"dateFormat"),c.input?c.input.val():null,M.datepicker._getFormatConfig(c)))M.datepicker._setDateFromField(c),
M.datepicker._updateAlternate(c),M.datepicker._updateDatepicker(c)}catch(d){}return!0},_showDatepicker:function(c){c=c.target||c;"input"!==c.nodeName.toLowerCase()&&(c=M("input",c.parentNode)[0]);if(!M.datepicker._isDisabledDatepicker(c)&&M.datepicker._lastInput!==c){var p=M.datepicker._getInst(c);M.datepicker._curInst&&M.datepicker._curInst!==p&&(M.datepicker._curInst.dpDiv.stop(!0,!0),p&&M.datepicker._datepickerShowing&&M.datepicker._hideDatepicker(M.datepicker._curInst.input[0]));var d=(d=M.datepicker._get(p,
"beforeShow"))?d.apply(c,[c,p]):{};if(!1!==d){n(p.settings,d);p.lastVal=null;M.datepicker._lastInput=c;M.datepicker._setDateFromField(p);M.datepicker._inDialog&&(c.value="");M.datepicker._pos||(M.datepicker._pos=M.datepicker._findPos(c),M.datepicker._pos[1]+=c.offsetHeight);var a=!1;M(c).parents().each(function(){a|="fixed"===M(this).css("position");return!a});d={left:M.datepicker._pos[0],top:M.datepicker._pos[1]};M.datepicker._pos=null;p.dpDiv.empty();p.dpDiv.css({position:"absolute",display:"block",
top:"-1000px"});M.datepicker._updateDatepicker(p);d=M.datepicker._checkOffset(p,d,a);p.dpDiv.css({position:M.datepicker._inDialog&&M.blockUI?"static":a?"fixed":"absolute",display:"none",left:d.left+"px",top:d.top+"px"});if(!p.inline){d=M.datepicker._get(p,"showAnim");var b=M.datepicker._get(p,"duration");p.dpDiv.css("z-index",Y(M(c))+1);M.datepicker._datepickerShowing=!0;if(M.effects&&M.effects.effect[d])p.dpDiv.show(d,M.datepicker._get(p,"showOptions"),b);else p.dpDiv[d||"show"](d?b:null);M.datepicker._shouldFocusInput(p)&&
p.input.trigger("focus");M.datepicker._curInst=p}}}},_updateDatepicker:function(c){this.maxRows=4;l=c;c.dpDiv.empty().append(this._generateHTML(c));this._attachHandlers(c);var p=this._getNumberOfMonths(c),d=p[1],a=c.dpDiv.find("."+this._dayOverClass+" a");0<a.length&&m.apply(a.get(0));c.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");1<d&&c.dpDiv.addClass("ui-datepicker-multi-"+d).css("width",17*d+"em");c.dpDiv[(1!==p[0]||1!==p[1]?"add":"remove")+"Class"]("ui-datepicker-multi");
c.dpDiv[(this._get(c,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");c===M.datepicker._curInst&&M.datepicker._datepickerShowing&&M.datepicker._shouldFocusInput(c)&&c.input.trigger("focus");if(c.yearshtml){var b=c.yearshtml;setTimeout(function(){b===c.yearshtml&&c.yearshtml&&c.dpDiv.find("select.ui-datepicker-year:first").replaceWith(c.yearshtml);b=c.yearshtml=null},0)}},_shouldFocusInput:function(c){return c.input&&c.input.is(":visible")&&!c.input.is(":disabled")&&!c.input.is(":focus")},_checkOffset:function(c,
p,d){var a=c.dpDiv.outerWidth(),b=c.dpDiv.outerHeight(),f=c.input?c.input.outerWidth():0,e=c.input?c.input.outerHeight():0,k=document.documentElement.clientWidth+(d?0:M(document).scrollLeft()),h=document.documentElement.clientHeight+(d?0:M(document).scrollTop());p.left-=this._get(c,"isRTL")?a-f:0;p.left-=d&&p.left===c.input.offset().left?M(document).scrollLeft():0;p.top-=d&&p.top===c.input.offset().top+e?M(document).scrollTop():0;p.left-=Math.min(p.left,p.left+a>k&&k>a?Math.abs(p.left+a-k):0);p.top-=
Math.min(p.top,p.top+b>h&&h>b?Math.abs(b+e):0);return p},_findPos:function(c){var p=this._getInst(c);for(p=this._get(p,"isRTL");c&&("hidden"===c.type||1!==c.nodeType||M.expr.filters.hidden(c));)c=c[p?"previousSibling":"nextSibling"];c=M(c).offset();return[c.left,c.top]},_hideDatepicker:function(c){var p=this._curInst;if(p&&(!c||p===M.data(c,"datepicker"))&&this._datepickerShowing){c=this._get(p,"showAnim");var d=this._get(p,"duration");var a=function(){M.datepicker._tidyDialog(p)};if(M.effects&&(M.effects.effect[c]||
M.effects[c]))p.dpDiv.hide(c,M.datepicker._get(p,"showOptions"),d,a);else p.dpDiv["slideDown"===c?"slideUp":"fadeIn"===c?"fadeOut":"hide"](c?d:null,a);c||a();this._datepickerShowing=!1;(c=this._get(p,"onClose"))&&c.apply(p.input?p.input[0]:null,[p.input?p.input.val():"",p]);this._lastInput=null;this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),M.blockUI&&(M.unblockUI(),M("body").append(this.dpDiv)));this._inDialog=!1}},_tidyDialog:function(c){c.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},
_checkExternalClick:function(c){if(M.datepicker._curInst){c=M(c.target);var p=M.datepicker._getInst(c[0]);(!(c[0].id===M.datepicker._mainDivId||0!==c.parents("#"+M.datepicker._mainDivId).length||c.hasClass(M.datepicker.markerClassName)||c.closest("."+M.datepicker._triggerClass).length||!M.datepicker._datepickerShowing||M.datepicker._inDialog&&M.blockUI)||c.hasClass(M.datepicker.markerClassName)&&M.datepicker._curInst!==p)&&M.datepicker._hideDatepicker()}},_adjustDate:function(c,p,d){c=M(c);var a=
this._getInst(c[0]);this._isDisabledDatepicker(c[0])||(this._adjustInstDate(a,p+("M"===d?this._get(a,"showCurrentAtPos"):0),d),this._updateDatepicker(a))},_gotoToday:function(c){var p=M(c),d=this._getInst(p[0]);this._get(d,"gotoCurrent")&&d.currentDay?(d.selectedDay=d.currentDay,d.drawMonth=d.selectedMonth=d.currentMonth,d.drawYear=d.selectedYear=d.currentYear):(c=new Date,d.selectedDay=c.getDate(),d.drawMonth=d.selectedMonth=c.getMonth(),d.drawYear=d.selectedYear=c.getFullYear());this._notifyChange(d);
this._adjustDate(p)},_selectMonthYear:function(c,p,d){c=M(c);var a=this._getInst(c[0]);a["selected"+("M"===d?"Month":"Year")]=a["draw"+("M"===d?"Month":"Year")]=parseInt(p.options[p.selectedIndex].value,10);this._notifyChange(a);this._adjustDate(c)},_selectDay:function(c,p,d,a){var b=M(c);M(a).hasClass(this._unselectableClass)||this._isDisabledDatepicker(b[0])||(b=this._getInst(b[0]),b.selectedDay=b.currentDay=M("a",a).html(),b.selectedMonth=b.currentMonth=p,b.selectedYear=b.currentYear=d,this._selectDate(c,
this._formatDate(b,b.currentDay,b.currentMonth,b.currentYear)))},_clearDate:function(c){c=M(c);this._selectDate(c,"")},_selectDate:function(c,p){c=M(c);var d=this._getInst(c[0]);p=null!=p?p:this._formatDate(d);d.input&&d.input.val(p);this._updateAlternate(d);(c=this._get(d,"onSelect"))?c.apply(d.input?d.input[0]:null,[p,d]):d.input&&d.input.trigger("change");d.inline?this._updateDatepicker(d):(this._hideDatepicker(),this._lastInput=d.input[0],"object"!==typeof d.input[0]&&d.input.trigger("focus"),
this._lastInput=null)},_updateAlternate:function(c){var p=this._get(c,"altField");if(p){var d=this._get(c,"altFormat")||this._get(c,"dateFormat");var a=this._getDate(c);c=this.formatDate(d,a,this._getFormatConfig(c));M(p).val(c)}},noWeekends:function(c){c=c.getDay();return[0<c&&6>c,""]},iso8601Week:function(c){var p=new Date(c.getTime());p.setDate(p.getDate()+4-(p.getDay()||7));c=p.getTime();p.setMonth(0);p.setDate(1);return Math.floor(Math.round((c-p)/864E5)/7)+1},parseDate:function(c,p,d){if(null==
c||null==p)throw"Invalid arguments";p="object"===typeof p?p.toString():p+"";if(""===p)return null;var a,b=0;var f=(d?d.shortYearCutoff:null)||this._defaults.shortYearCutoff;f="string"!==typeof f?f:(new Date).getFullYear()%100+parseInt(f,10);var e=(d?d.dayNamesShort:null)||this._defaults.dayNamesShort;var k=(d?d.dayNames:null)||this._defaults.dayNames,h=(d?d.monthNamesShort:null)||this._defaults.monthNamesShort,g=(d?d.monthNames:null)||this._defaults.monthNames,q=d=-1,x=-1,u=-1,r=!1,t=function(C){(C=
a+1<c.length&&c.charAt(a+1)===C)&&a++;return C},y=function(C){var J=t(C);J="@"===C?14:"!"===C?20:"y"===C&&J?4:"o"===C?3:2;C=new RegExp("^\\d{"+("y"===C?J:1)+","+J+"}");C=p.substring(b).match(C);if(!C)throw"Missing number at position "+b;b+=C[0].length;return parseInt(C[0],10)},w=function(C,J,B){var G=-1;C=M.map(t(C)?B:J,function(E,v){return[[v,E]]}).sort(function(E,v){return-(E[1].length-v[1].length)});M.each(C,function(E,v){E=v[1];if(p.substr(b,E.length).toLowerCase()===E.toLowerCase())return G=
v[0],b+=E.length,!1});if(-1!==G)return G+1;throw"Unknown name at position "+b;},A=function(){if(p.charAt(b)!==c.charAt(a))throw"Unexpected literal at position "+b;b++};for(a=0;a<c.length;a++)if(r)"'"!==c.charAt(a)||t("'")?A():r=!1;else switch(c.charAt(a)){case "d":x=y("d");break;case "D":w("D",e,k);break;case "o":u=y("o");break;case "m":q=y("m");break;case "M":q=w("M",h,g);break;case "y":d=y("y");break;case "@":var F=new Date(y("@"));d=F.getFullYear();q=F.getMonth()+1;x=F.getDate();break;case "!":F=
new Date((y("!")-this._ticksTo1970)/1E4);d=F.getFullYear();q=F.getMonth()+1;x=F.getDate();break;case "'":t("'")?A():r=!0;break;default:A()}if(b<p.length&&(e=p.substr(b),!/^\s+/.test(e)))throw"Extra/unparsed characters found in date: "+e;-1===d?d=(new Date).getFullYear():100>d&&(d+=(new Date).getFullYear()-(new Date).getFullYear()%100+(d<=f?0:-100));if(-1<u){q=1;x=u;do{f=this._getDaysInMonth(d,q-1);if(x<=f)break;q++;x-=f}while(1)}F=this._daylightSavingAdjust(new Date(d,q-1,x));if(F.getFullYear()!==
d||F.getMonth()+1!==q||F.getDate()!==x)throw"Invalid date";return F},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:62135596800*1E7,formatDate:function(c,p,d){if(!p)return"";var a,b=(d?d.dayNamesShort:null)||this._defaults.dayNamesShort,f=(d?d.dayNames:null)||this._defaults.dayNames,e=(d?d.monthNamesShort:null)||this._defaults.monthNamesShort;
d=(d?d.monthNames:null)||this._defaults.monthNames;var k=function(u){(u=a+1<c.length&&c.charAt(a+1)===u)&&a++;return u},h=function(u,r,t){r=""+r;if(k(u))for(;r.length<t;)r="0"+r;return r},g=function(u,r,t,y){return k(u)?y[r]:t[r]},q="",x=!1;if(p)for(a=0;a<c.length;a++)if(x)"'"!==c.charAt(a)||k("'")?q+=c.charAt(a):x=!1;else switch(c.charAt(a)){case "d":q+=h("d",p.getDate(),2);break;case "D":q+=g("D",p.getDay(),b,f);break;case "o":q+=h("o",Math.round(((new Date(p.getFullYear(),p.getMonth(),p.getDate())).getTime()-
(new Date(p.getFullYear(),0,0)).getTime())/864E5),3);break;case "m":q+=h("m",p.getMonth()+1,2);break;case "M":q+=g("M",p.getMonth(),e,d);break;case "y":q+=k("y")?p.getFullYear():(10>p.getFullYear()%100?"0":"")+p.getFullYear()%100;break;case "@":q+=p.getTime();break;case "!":q+=1E4*p.getTime()+this._ticksTo1970;break;case "'":k("'")?q+="'":x=!0;break;default:q+=c.charAt(a)}return q},_possibleChars:function(c){var p,d="",a=!1,b=function(f){(f=p+1<c.length&&c.charAt(p+1)===f)&&p++;return f};for(p=0;p<
c.length;p++)if(a)"'"!==c.charAt(p)||b("'")?d+=c.charAt(p):a=!1;else switch(c.charAt(p)){case "d":case "m":case "y":case "@":d+="0123456789";break;case "D":case "M":return null;case "'":b("'")?d+="'":a=!0;break;default:d+=c.charAt(p)}return d},_get:function(c,p){return void 0!==c.settings[p]?c.settings[p]:this._defaults[p]},_setDateFromField:function(c,p){if(c.input.val()!==c.lastVal){var d=this._get(c,"dateFormat"),a=c.lastVal=c.input?c.input.val():null,b=this._getDefaultDate(c),f=b,e=this._getFormatConfig(c);
try{f=this.parseDate(d,a,e)||b}catch(k){a=p?"":a}c.selectedDay=f.getDate();c.drawMonth=c.selectedMonth=f.getMonth();c.drawYear=c.selectedYear=f.getFullYear();c.currentDay=a?f.getDate():0;c.currentMonth=a?f.getMonth():0;c.currentYear=a?f.getFullYear():0;this._adjustInstDate(c)}},_getDefaultDate:function(c){return this._restrictMinMax(c,this._determineDate(c,this._get(c,"defaultDate"),new Date))},_determineDate:function(c,p,d){var a=function(f){var e=new Date;e.setDate(e.getDate()+f);return e},b=function(f){try{return M.datepicker.parseDate(M.datepicker._get(c,
"dateFormat"),f,M.datepicker._getFormatConfig(c))}catch(x){}var e=(f.toLowerCase().match(/^c/)?M.datepicker._getDate(c):null)||new Date,k=e.getFullYear(),h=e.getMonth();e=e.getDate();for(var g=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,q=g.exec(f);q;){switch(q[2]||"d"){case "d":case "D":e+=parseInt(q[1],10);break;case "w":case "W":e+=7*parseInt(q[1],10);break;case "m":case "M":h+=parseInt(q[1],10);e=Math.min(e,M.datepicker._getDaysInMonth(k,h));break;case "y":case "Y":k+=parseInt(q[1],10),e=Math.min(e,
M.datepicker._getDaysInMonth(k,h))}q=g.exec(f)}return new Date(k,h,e)};if(p=(p=null==p||""===p?d:"string"===typeof p?b(p):"number"===typeof p?isNaN(p)?d:a(p):new Date(p.getTime()))&&"Invalid Date"===p.toString()?d:p)p.setHours(0),p.setMinutes(0),p.setSeconds(0),p.setMilliseconds(0);return this._daylightSavingAdjust(p)},_daylightSavingAdjust:function(c){if(!c)return null;c.setHours(12<c.getHours()?c.getHours()+2:0);return c},_setDate:function(c,p,d){var a=!p,b=c.selectedMonth,f=c.selectedYear;p=this._restrictMinMax(c,
this._determineDate(c,p,new Date));c.selectedDay=c.currentDay=p.getDate();c.drawMonth=c.selectedMonth=c.currentMonth=p.getMonth();c.drawYear=c.selectedYear=c.currentYear=p.getFullYear();b===c.selectedMonth&&f===c.selectedYear||d||this._notifyChange(c);this._adjustInstDate(c);c.input&&c.input.val(a?"":this._formatDate(c))},_getDate:function(c){return!c.currentYear||c.input&&""===c.input.val()?null:this._daylightSavingAdjust(new Date(c.currentYear,c.currentMonth,c.currentDay))},_attachHandlers:function(c){var p=
this._get(c,"stepMonths"),d="#"+c.id.replace(/\\\\/g,"\\");c.dpDiv.find("[data-handler]").map(function(){M(this).on(this.getAttribute("data-event"),{prev:function(){M.datepicker._adjustDate(d,-p,"M")},next:function(){M.datepicker._adjustDate(d,+p,"M")},hide:function(){M.datepicker._hideDatepicker()},today:function(){M.datepicker._gotoToday(d)},selectDay:function(){M.datepicker._selectDay(d,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this);return!1},selectMonth:function(){M.datepicker._selectMonthYear(d,
this,"M");return!1},selectYear:function(){M.datepicker._selectMonthYear(d,this,"Y");return!1}}[this.getAttribute("data-handler")])})},_generateHTML:function(c){var p,d,a,b,f=new Date;f=this._daylightSavingAdjust(new Date(f.getFullYear(),f.getMonth(),f.getDate()));var e=this._get(c,"isRTL");var k=this._get(c,"showButtonPanel");var h=this._get(c,"hideIfNoPrevNext");var g=this._get(c,"navigationAsDateFormat");var q=this._getNumberOfMonths(c),x=this._get(c,"showCurrentAtPos");var u=this._get(c,"stepMonths");
var r=1!==q[0]||1!==q[1],t=this._daylightSavingAdjust(c.currentDay?new Date(c.currentYear,c.currentMonth,c.currentDay):new Date(9999,9,9)),y=this._getMinMaxDate(c,"min"),w=this._getMinMaxDate(c,"max");x=c.drawMonth-x;var A=c.drawYear;0>x&&(x+=12,A--);if(w){var F=this._daylightSavingAdjust(new Date(w.getFullYear(),w.getMonth()-q[0]*q[1]+1,w.getDate()));for(F=y&&F<y?y:F;this._daylightSavingAdjust(new Date(A,x,1))>F;)x--,0>x&&(x=11,A--)}c.drawMonth=x;c.drawYear=A;F=this._get(c,"prevText");F=g?this.formatDate(F,
this._daylightSavingAdjust(new Date(A,x-u,1)),this._getFormatConfig(c)):F;F=this._canAdjustMonth(c,-1,A,x)?"\x3ca class\x3d'ui-datepicker-prev ui-corner-all' data-handler\x3d'prev' data-event\x3d'click' title\x3d'"+F+"'\x3e\x3cspan class\x3d'ui-icon ui-icon-circle-triangle-"+(e?"e":"w")+"'\x3e"+F+"\x3c/span\x3e\x3c/a\x3e":h?"":"\x3ca class\x3d'ui-datepicker-prev ui-corner-all ui-state-disabled' title\x3d'"+F+"'\x3e\x3cspan class\x3d'ui-icon ui-icon-circle-triangle-"+(e?"e":"w")+"'\x3e"+F+"\x3c/span\x3e\x3c/a\x3e";
var C=this._get(c,"nextText");C=g?this.formatDate(C,this._daylightSavingAdjust(new Date(A,x+u,1)),this._getFormatConfig(c)):C;h=this._canAdjustMonth(c,1,A,x)?"\x3ca class\x3d'ui-datepicker-next ui-corner-all' data-handler\x3d'next' data-event\x3d'click' title\x3d'"+C+"'\x3e\x3cspan class\x3d'ui-icon ui-icon-circle-triangle-"+(e?"w":"e")+"'\x3e"+C+"\x3c/span\x3e\x3c/a\x3e":h?"":"\x3ca class\x3d'ui-datepicker-next ui-corner-all ui-state-disabled' title\x3d'"+C+"'\x3e\x3cspan class\x3d'ui-icon ui-icon-circle-triangle-"+
(e?"w":"e")+"'\x3e"+C+"\x3c/span\x3e\x3c/a\x3e";u=this._get(c,"currentText");C=this._get(c,"gotoCurrent")&&c.currentDay?t:f;u=g?this.formatDate(u,C,this._getFormatConfig(c)):u;g=c.inline?"":"\x3cbutton type\x3d'button' class\x3d'ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler\x3d'hide' data-event\x3d'click'\x3e"+this._get(c,"closeText")+"\x3c/button\x3e";k=k?"\x3cdiv class\x3d'ui-datepicker-buttonpane ui-widget-content'\x3e"+(e?g:"")+(this._isInRange(c,C)?"\x3cbutton type\x3d'button' class\x3d'ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler\x3d'today' data-event\x3d'click'\x3e"+
u+"\x3c/button\x3e":"")+(e?"":g)+"\x3c/div\x3e":"";g=parseInt(this._get(c,"firstDay"),10);g=isNaN(g)?0:g;u=this._get(c,"showWeek");C=this._get(c,"dayNames");var J=this._get(c,"dayNamesMin");var B=this._get(c,"monthNames");var G=this._get(c,"monthNamesShort");var E=this._get(c,"beforeShowDay");var v=this._get(c,"showOtherMonths");var D=this._get(c,"selectOtherMonths");var K=this._getDefaultDate(c);var P="";for(p=0;p<q[0];p++){var Q="";this.maxRows=4;for(d=0;d<q[1];d++){var N=this._daylightSavingAdjust(new Date(A,
x,c.selectedDay));var T=" ui-corner-all";var H="";if(r){H+="\x3cdiv class\x3d'ui-datepicker-group";if(1<q[1])switch(d){case 0:H+=" ui-datepicker-group-first";T=" ui-corner-"+(e?"right":"left");break;case q[1]-1:H+=" ui-datepicker-group-last";T=" ui-corner-"+(e?"left":"right");break;default:H+=" ui-datepicker-group-middle",T=""}H+="'\x3e"}H+="\x3cdiv class\x3d'ui-datepicker-header ui-widget-header ui-helper-clearfix"+T+"'\x3e"+(/all|left/.test(T)&&0===p?e?h:F:"")+(/all|right/.test(T)&&0===p?e?F:h:
"")+this._generateMonthYearHeader(c,x,A,y,w,0<p||0<d,B,G)+"\x3c/div\x3e\x3ctable class\x3d'ui-datepicker-calendar'\x3e\x3cthead\x3e\x3ctr\x3e";var L=u?"\x3cth class\x3d'ui-datepicker-week-col'\x3e"+this._get(c,"weekHeader")+"\x3c/th\x3e":"";for(T=0;7>T;T++){var R=(T+g)%7;L+="\x3cth scope\x3d'col'"+(5<=(T+g+6)%7?" class\x3d'ui-datepicker-week-end'":"")+"\x3e\x3cspan title\x3d'"+C[R]+"'\x3e"+J[R]+"\x3c/span\x3e\x3c/th\x3e"}H+=L+"\x3c/tr\x3e\x3c/thead\x3e\x3ctbody\x3e";L=this._getDaysInMonth(A,x);A===
c.selectedYear&&x===c.selectedMonth&&(c.selectedDay=Math.min(c.selectedDay,L));T=(this._getFirstDayOfMonth(A,x)-g+7)%7;L=Math.ceil((T+L)/7);this.maxRows=L=r?this.maxRows>L?this.maxRows:L:L;R=this._daylightSavingAdjust(new Date(A,x,1-T));for(a=0;a<L;a++){H+="\x3ctr\x3e";var U=u?"\x3ctd class\x3d'ui-datepicker-week-col'\x3e"+this._get(c,"calculateWeek")(R)+"\x3c/td\x3e":"";for(T=0;7>T;T++){var V=E?E.apply(c.input?c.input[0]:null,[R]):[!0,""];var Z=(b=R.getMonth()!==x)&&!D||!V[0]||y&&R<y||w&&R>w;U+=
"\x3ctd class\x3d'"+(5<=(T+g+6)%7?" ui-datepicker-week-end":"")+(b?" ui-datepicker-other-month":"")+(R.getTime()===N.getTime()&&x===c.selectedMonth&&c._keyEvent||K.getTime()===R.getTime()&&K.getTime()===N.getTime()?" "+this._dayOverClass:"")+(Z?" "+this._unselectableClass+" ui-state-disabled":"")+(b&&!v?"":" "+V[1]+(R.getTime()===t.getTime()?" "+this._currentClass:"")+(R.getTime()===f.getTime()?" ui-datepicker-today":""))+"'"+(b&&!v||!V[2]?"":" title\x3d'"+V[2].replace(/'/g,"\x26#39;")+"'")+(Z?"":
" data-handler\x3d'selectDay' data-event\x3d'click' data-month\x3d'"+R.getMonth()+"' data-year\x3d'"+R.getFullYear()+"'")+"\x3e"+(b&&!v?"\x26#xa0;":Z?"\x3cspan class\x3d'ui-state-default'\x3e"+R.getDate()+"\x3c/span\x3e":"\x3ca class\x3d'ui-state-default"+(R.getTime()===f.getTime()?" ui-state-highlight":"")+(R.getTime()===t.getTime()?" ui-state-active":"")+(b?" ui-priority-secondary":"")+"' href\x3d'#'\x3e"+R.getDate()+"\x3c/a\x3e")+"\x3c/td\x3e";R.setDate(R.getDate()+1);R=this._daylightSavingAdjust(R)}H+=
U+"\x3c/tr\x3e"}x++;11<x&&(x=0,A++);H+="\x3c/tbody\x3e\x3c/table\x3e"+(r?"\x3c/div\x3e"+(0<q[0]&&d===q[1]-1?"\x3cdiv class\x3d'ui-datepicker-row-break'\x3e\x3c/div\x3e":""):"");Q+=H}P+=Q}c._keyEvent=!1;return P+k},_generateMonthYearHeader:function(c,p,d,a,b,f,e,k){var h,g=this._get(c,"changeMonth"),q=this._get(c,"changeYear"),x=this._get(c,"showMonthAfterYear"),u="\x3cdiv class\x3d'ui-datepicker-title'\x3e",r="";if(f||!g)r+="\x3cspan class\x3d'ui-datepicker-month'\x3e"+e[p]+"\x3c/span\x3e";else{e=
a&&a.getFullYear()===d;var t=b&&b.getFullYear()===d;r+="\x3cselect class\x3d'ui-datepicker-month' data-handler\x3d'selectMonth' data-event\x3d'change'\x3e";for(h=0;12>h;h++)(!e||h>=a.getMonth())&&(!t||h<=b.getMonth())&&(r+="\x3coption value\x3d'"+h+"'"+(h===p?" selected\x3d'selected'":"")+"\x3e"+k[h]+"\x3c/option\x3e");r+="\x3c/select\x3e"}x||(u+=r+(!f&&g&&q?"":"\x26#xa0;"));if(!c.yearshtml)if(c.yearshtml="",f||!q)u+="\x3cspan class\x3d'ui-datepicker-year'\x3e"+d+"\x3c/span\x3e";else{k=this._get(c,
"yearRange").split(":");var y=(new Date).getFullYear();e=function(w){w=w.match(/c[+\-].*/)?d+parseInt(w.substring(1),10):w.match(/[+\-].*/)?y+parseInt(w,10):parseInt(w,10);return isNaN(w)?y:w};p=e(k[0]);k=Math.max(p,e(k[1]||""));p=a?Math.max(p,a.getFullYear()):p;k=b?Math.min(k,b.getFullYear()):k;for(c.yearshtml+="\x3cselect class\x3d'ui-datepicker-year' data-handler\x3d'selectYear' data-event\x3d'change'\x3e";p<=k;p++)c.yearshtml+="\x3coption value\x3d'"+p+"'"+(p===d?" selected\x3d'selected'":"")+
"\x3e"+p+"\x3c/option\x3e";c.yearshtml+="\x3c/select\x3e";u+=c.yearshtml;c.yearshtml=null}u+=this._get(c,"yearSuffix");x&&(u+=(!f&&g&&q?"":"\x26#xa0;")+r);return u+"\x3c/div\x3e"},_adjustInstDate:function(c,p,d){var a=c.selectedYear+("Y"===d?p:0),b=c.selectedMonth+("M"===d?p:0);p=Math.min(c.selectedDay,this._getDaysInMonth(a,b))+("D"===d?p:0);a=this._restrictMinMax(c,this._daylightSavingAdjust(new Date(a,b,p)));c.selectedDay=a.getDate();c.drawMonth=c.selectedMonth=a.getMonth();c.drawYear=c.selectedYear=
a.getFullYear();"M"!==d&&"Y"!==d||this._notifyChange(c)},_restrictMinMax:function(c,p){var d=this._getMinMaxDate(c,"min");c=this._getMinMaxDate(c,"max");p=d&&p<d?d:p;return c&&p>c?c:p},_notifyChange:function(c){var p=this._get(c,"onChangeMonthYear");p&&p.apply(c.input?c.input[0]:null,[c.selectedYear,c.selectedMonth+1,c])},_getNumberOfMonths:function(c){c=this._get(c,"numberOfMonths");return null==c?[1,1]:"number"===typeof c?[1,c]:c},_getMinMaxDate:function(c,p){return this._determineDate(c,this._get(c,
p+"Date"),null)},_getDaysInMonth:function(c,p){return 32-this._daylightSavingAdjust(new Date(c,p,32)).getDate()},_getFirstDayOfMonth:function(c,p){return(new Date(c,p,1)).getDay()},_canAdjustMonth:function(c,p,d,a){var b=this._getNumberOfMonths(c);d=this._daylightSavingAdjust(new Date(d,a+(0>p?p:b[0]*b[1]),1));0>p&&d.setDate(this._getDaysInMonth(d.getFullYear(),d.getMonth()));return this._isInRange(c,d)},_isInRange:function(c,p){var d=this._getMinMaxDate(c,"min"),a=this._getMinMaxDate(c,"max"),b=
null,f=null;if(c=this._get(c,"yearRange")){c=c.split(":");var e=(new Date).getFullYear();b=parseInt(c[0],10);f=parseInt(c[1],10);c[0].match(/[+\-].*/)&&(b+=e);c[1].match(/[+\-].*/)&&(f+=e)}return(!d||p.getTime()>=d.getTime())&&(!a||p.getTime()<=a.getTime())&&(!b||p.getFullYear()>=b)&&(!f||p.getFullYear()<=f)},_getFormatConfig:function(c){var p=this._get(c,"shortYearCutoff");p="string"!==typeof p?p:(new Date).getFullYear()%100+parseInt(p,10);return{shortYearCutoff:p,dayNamesShort:this._get(c,"dayNamesShort"),
dayNames:this._get(c,"dayNames"),monthNamesShort:this._get(c,"monthNamesShort"),monthNames:this._get(c,"monthNames")}},_formatDate:function(c,p,d,a){p||(c.currentDay=c.selectedDay,c.currentMonth=c.selectedMonth,c.currentYear=c.selectedYear);p=p?"object"===typeof p?p:this._daylightSavingAdjust(new Date(a,d,p)):this._daylightSavingAdjust(new Date(c.currentYear,c.currentMonth,c.currentDay));return this.formatDate(this._get(c,"dateFormat"),p,this._getFormatConfig(c))}});M.fn.datepicker=function(c){if(!this.length)return this;
M.datepicker.initialized||(M(document).on("mousedown",M.datepicker._checkExternalClick),M.datepicker.initialized=!0);0===M("#"+M.datepicker._mainDivId).length&&M("body").append(M.datepicker.dpDiv);var p=Array.prototype.slice.call(arguments,1);return"string"===typeof c&&("isDisabled"===c||"getDate"===c||"widget"===c)||"option"===c&&2===arguments.length&&"string"===typeof arguments[1]?M.datepicker["_"+c+"Datepicker"].apply(M.datepicker,[this[0]].concat(p)):this.each(function(){"string"===typeof c?M.datepicker["_"+
c+"Datepicker"].apply(M.datepicker,[this].concat(p)):M.datepicker._attachDatepicker(this,c)})};M.datepicker=new I;M.datepicker.initialized=!1;M.datepicker.uuid=(new Date).getTime();M.datepicker.version="1.12.1";return M.datepicker});
(function(M){function Y(){r(!0)}var I={};M.respond=I;I.update=function(){};var z=[],m=function(){var A=!1;try{A=new M.XMLHttpRequest}catch(F){A=new M.ActiveXObject("Microsoft.XMLHTTP")}return function(){return A}}(),n=function(A,F){var C=m();C&&(C.open("GET",A,!0),C.onreadystatechange=function(){4!==C.readyState||200!==C.status&&304!==C.status||F(C.responseText)},4!==C.readyState&&C.send(null))},l=function(A){return A.replace(I.regex.minmaxwh,"").match(I.regex.other)};I.ajax=n;I.queue=z;I.unsupportedmq=
l;I.regex={media:/@media[^\{]+\{([^\{\}]*\{[^\}\{]*\})+/gi,keyframes:/@(?:\-(?:o|moz|webkit)\-)?keyframes[^\{]+\{(?:[^\{\}]*\{[^\}\{]*\})+[^\}]*\}/gi,comments:/\/\*[^*]*\*+([^/][^*]*\*+)*\//gi,urls:/(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g,findStyles:/@media *([^\{]+)\{([\S\s]+?)$/,only:/(only\s+)?([a-zA-Z]+)\s?/,minw:/\(\s*min\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/,maxw:/\(\s*max\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/,minmaxwh:/\(\s*m(in|ax)\-(height|width)\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/gi,
other:/\([^\)]*\)/g};I.mediaQueriesSupported=M.matchMedia&&null!==M.matchMedia("only all")&&M.matchMedia("only all").matches;if(!I.mediaQueriesSupported){var c=M.document,p=c.documentElement,d=[],a=[],b=[],f={},e=c.getElementsByTagName("head")[0]||p,k=c.getElementsByTagName("base")[0],h=e.getElementsByTagName("link"),g,q,x,u=function(){var A=c.createElement("div"),F=c.body,C=p.style.fontSize,J=F&&F.style.fontSize,B=!1;A.style.cssText="position:absolute;font-size:1em;width:1em";F||(F=B=c.createElement("body"),
F.style.background="none");p.style.fontSize="100%";F.style.fontSize="100%";F.appendChild(A);B&&p.insertBefore(F,p.firstChild);var G=A.offsetWidth;B?p.removeChild(F):F.removeChild(A);p.style.fontSize=C;J&&(F.style.fontSize=J);return G=x=parseFloat(G)},r=function(A){var F=p.clientWidth,C="CSS1Compat"===c.compatMode&&F||c.body.clientWidth||F;F={};var J=h[h.length-1],B=(new Date).getTime();if(A&&g&&30>B-g)M.clearTimeout(q),q=M.setTimeout(r,30);else{g=B;for(var G in d)if(d.hasOwnProperty(G)){A=d[G];B=
A.minw;var E=A.maxw,v=null===B,D=null===E;B&&(B=parseFloat(B)*(-1<B.indexOf("em")?x||u():1));E&&(E=parseFloat(E)*(-1<E.indexOf("em")?x||u():1));A.hasquery&&(v&&D||!(v||C>=B)||!(D||C<=E))||(F[A.media]||(F[A.media]=[]),F[A.media].push(a[A.rules]))}for(var K in b)b.hasOwnProperty(K)&&b[K]&&b[K].parentNode===e&&e.removeChild(b[K]);b.length=0;for(var P in F)F.hasOwnProperty(P)&&(G=c.createElement("style"),K=F[P].join("\n"),G.type="text/css",G.media=P,e.insertBefore(G,J.nextSibling),G.styleSheet?G.styleSheet.cssText=
K:G.appendChild(c.createTextNode(K)),b.push(G))}},t=function(A,F,C){var J=A.replace(I.regex.comments,"").replace(I.regex.keyframes,"").match(I.regex.media),B=J&&J.length||0;F=F.substring(0,F.lastIndexOf("/"));var G=!B&&C;F.length&&(F+="/");G&&(B=1);for(var E=0;E<B;E++){if(G){var v=C;a.push(A.replace(I.regex.urls,"$1"+F+"$2$3"))}else v=J[E].match(I.regex.findStyles)&&RegExp.$1,a.push(RegExp.$2&&RegExp.$2.replace(I.regex.urls,"$1"+F+"$2$3"));var D=v.split(",");var K=D.length;for(var P=0;P<K;P++)v=D[P],
l(v)||d.push({media:v.split("(")[0].match(I.regex.only)&&RegExp.$2||"all",rules:a.length-1,hasquery:-1<v.indexOf("("),minw:v.match(I.regex.minw)&&parseFloat(RegExp.$1)+(RegExp.$2||""),maxw:v.match(I.regex.maxw)&&parseFloat(RegExp.$1)+(RegExp.$2||"")})}r()},y=function(){if(z.length){var A=z.shift();n(A.href,function(F){t(F,A.href,A.media);f[A.href]=!0;M.setTimeout(function(){y()},0)})}},w=function(){for(var A=0;A<h.length;A++){var F=h[A],C=F.href,J=F.media,B=F.rel&&"stylesheet"===F.rel.toLowerCase();
if(C&&B&&!f[C])if(F.styleSheet&&F.styleSheet.rawCssText)t(F.styleSheet.rawCssText,C,J),f[C]=!0;else if(!/^([a-zA-Z:]*\/\/)/.test(C)&&!k||C.replace(RegExp.$1,"").split("/")[0]===M.location.host)"//"===C.substring(0,2)&&(C=M.location.protocol+C),z.push({href:C,media:J})}y()};w();I.update=w;I.getEmValue=u;M.addEventListener?M.addEventListener("resize",Y,!1):M.attachEvent&&M.attachEvent("onresize",Y)}})(this);
"function"!=typeof Object.assign&&(Object.assign=function(M,Y){if(null==M)throw new TypeError("Cannot convert undefined or null to object");for(var I=Object(M),z=1;z<arguments.length;z++){var m=arguments[z];if(null!=m)for(var n in m)Object.prototype.hasOwnProperty.call(m,n)&&(I[n]=m[n])}return I});"function"!==typeof Object.create&&(Object.create=function(M,Y){function I(){}I.prototype=M;if("object"===typeof Y)for(prop in Y)Y.hasOwnProperty(prop)&&(I[prop]=Y[prop]);return new I});
Array.prototype.find||(Array.prototype.find=function(M,Y){if(null==this)throw new TypeError('"this" is null or not defined');var I=Object(this),z=I.length>>>0;if("function"!==typeof M)throw new TypeError("predicate must be a function");for(var m=0;m<z;){var n=I[m];if(M.call(Y,n,m,I))return n;m++}});
Array.prototype.includes||(Array.prototype.includes=function(M,Y){if(null==this)throw new TypeError('"this" is null or not defined');var I=Object(this),z=I.length>>>0;if(0===z)return!1;Y|=0;for(Y=Math.max(0<=Y?Y:z-Math.abs(Y),0);Y<z;){var m=I[Y],n=M;if(m===n||"number"===typeof m&&"number"===typeof n&&isNaN(m)&&isNaN(n))return!0;Y++}return!1});
Array.prototype.forEach||(Array.prototype.forEach=function(M){var Y,I;if(null==this)throw new TypeError("this is null or not defined");var z=Object(this),m=z.length>>>0;if("function"!==typeof M)throw new TypeError(M+" is not a function");1<arguments.length&&(Y=arguments[1]);for(I=0;I<m;){if(I in z){var n=z[I];M.call(Y,n,I,z)}I++}});
Array.prototype.map||(Array.prototype.map=function(M){var Y,I;if(null==this)throw new TypeError("this is null or not defined");var z=Object(this),m=z.length>>>0;if("function"!==typeof M)throw new TypeError(M+" is not a function");1<arguments.length&&(Y=arguments[1]);var n=Array(m);for(I=0;I<m;){if(I in z){var l=z[I];l=M.call(Y,l,I,z);n[I]=l}I++}return n});
Array.prototype.filter||(Array.prototype.filter=function(M){if(void 0===this||null===this)throw new TypeError;var Y=Object(this),I=Y.length>>>0;if("function"!==typeof M)throw new TypeError;for(var z=[],m=2<=arguments.length?arguments[1]:void 0,n=0;n<I;n++)if(n in Y){var l=Y[n];M.call(m,l,n,Y)&&z.push(l)}return z});"function"!==typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});
"function"!==typeof String.prototype.includes&&(String.prototype.includes=function(M,Y){"number"!==typeof Y&&(Y=0);return Y+M.length>this.length?!1:-1!==this.indexOf(M,Y)});"function"!==typeof String.prototype.repeat&&(String.prototype.repeat=function(M){for(var Y="",I=0;I<M;I++)Y+=this;return Y});
(function(M){function Y(){for(var w=0;w<t.length;w++)t[w][0](t[w][1]);t=[];y=!1}function I(w,A){t.push([w,A]);y||(y=!0,r(Y,0))}function z(w,A){function F(J){l(A,J)}function C(J){p(A,J)}try{w(F,C)}catch(J){C(J)}}function m(w){var A=w.owner,F=A.state_;A=A.data_;var C=w[F];w=w.then;if("function"===typeof C){F=q;try{A=C(A)}catch(J){p(w,J)}}n(w,A)||(F===q&&l(w,A),F===x&&p(w,A))}function n(w,A){var F;try{if(w===A)throw new TypeError("A promises callback cannot return that same promise.");if(A&&("function"===
typeof A||"object"===typeof A)){var C=A.then;if("function"===typeof C)return C.call(A,function(J){F||(F=!0,A!==J?l(w,J):c(w,J))},function(J){F||(F=!0,p(w,J))}),!0}}catch(J){return F||p(w,J),!0}return!1}function l(w,A){w!==A&&n(w,A)||c(w,A)}function c(w,A){w.state_===h&&(w.state_=g,w.data_=A,I(a,w))}function p(w,A){w.state_===h&&(w.state_=g,w.data_=A,I(b,w))}function d(w){var A=w.then_;w.then_=void 0;for(w=0;w<A.length;w++)m(A[w])}function a(w){w.state_=q;d(w)}function b(w){w.state_=x;d(w)}function f(w){if("function"!==
typeof w)throw new TypeError("Promise constructor takes a function argument");if(!1===this instanceof f)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[];z(w,this)}var e=M.Promise,k=e&&"resolve"in e&&"reject"in e&&"all"in e&&"race"in e&&function(){var w;new e(function(A){w=A});return"function"===typeof w}();"undefined"!==typeof exports&&exports?(exports.Promise=k?e:f,exports.Polyfill=f):"function"==
typeof define&&define.amd?define(function(){return k?e:f}):k||(M.Promise=f);var h="pending",g="sealed",q="fulfilled",x="rejected",u=function(){},r="undefined"!==typeof setImmediate?setImmediate:setTimeout,t=[],y;f.prototype={constructor:f,state_:h,then_:null,data_:void 0,then:function(w,A){w={owner:this,then:new this.constructor(u),fulfilled:w,rejected:A};this.state_===q||this.state_===x?I(m,w):this.then_.push(w);return w.then},"catch":function(w){return this.then(null,w)}};f.all=function(w){if("[object Array]"!==
Object.prototype.toString.call(w))throw new TypeError("You must pass an array to Promise.all().");return new this(function(A,F){function C(v){B++;return function(D){J[v]=D;--B||A(J)}}for(var J=[],B=0,G=0,E;G<w.length;G++)(E=w[G])&&"function"===typeof E.then?E.then(C(G),F):J[G]=E;B||A(J)})};f.race=function(w){if("[object Array]"!==Object.prototype.toString.call(w))throw new TypeError("You must pass an array to Promise.race().");return new this(function(A,F){for(var C=0,J;C<w.length;C++)(J=w[C])&&"function"===
typeof J.then?J.then(A,F):A(J)})};f.resolve=function(w){return w&&"object"===typeof w&&w.constructor===this?w:new this(function(A){A(w)})};f.reject=function(w){return new this(function(A,F){F(w)})}})("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);
(function(M){function Y(z){if(I[z])return I[z].exports;var m=I[z]={i:z,l:!1,exports:{}};M[z].call(m.exports,m,m.exports,Y);m.l=!0;return m.exports}var I={};Y.m=M;Y.c=I;Y.i=function(z){return z};Y.d=function(z,m,n){Y.o(z,m)||Object.defineProperty(z,m,{configurable:!1,enumerable:!0,get:n})};Y.n=function(z){var m=z&&z.__esModule?function(){return z["default"]}:function(){return z};Y.d(m,"a",m);return m};Y.o=function(z,m){return Object.prototype.hasOwnProperty.call(z,m)};Y.p="";return Y(Y.s=94)})({33:function(M,
Y,I){M=Bootstrap.jQuery;var z=M("body");(function(){function m(){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");}m.init=function(){z.on("mousedown",function(){return z.addClass("no-outlines")}).on("keydown",function(){return z.removeClass("no-outlines")})};return m})().init()},34:function(M,Y,I){window.SIM=window.SIM||{}},35:function(M,Y,I){Y.__esModule=!0;M=function(z){function m(B,G){var E=void 0;E=void 0;d()?E=z(G).find(B.selector):(E=G.querySelectorAll(B.selector),
E=z(E));E.each(function(){!z(this).hasClass(u.initialized)&&B.init&&(z(this).addClass(u.initialized),B.init(this),B.initialized=!0)})}function n(B){B=B||{};var G=B.node||document.body;var E=z(G);for(var v=0;v<f.length;v++){var D=f[v],K=D.selector.replace(/\./g,"");B.node&&E.hasClass(K)?(K=G,D.init&&(z(K).addClass(u.initialized),D.init(K))):m(D,G)}}function l(){var B=1;F||(F=setInterval(function(){n();200===B&&(clearInterval(F),F=null);B++},300))}function c(){return{mobile:"mobile"===p(),tablet:"tablet"===
p(),desktop:"desktop"===p()}}function p(){var B=window.innerWidth;return B<r.small?"mobile":B>=r.medium?"desktop":"tablet"}function d(){return document.addEventListener?!1:!0}function a(){var B=z(".is-selected a[lang]").attr("lang");if(!B)if(-1!=location.pathname.indexOf("zh_hk")||-1!=location.pathname.indexOf("zh-hk"))B="zh-hk";else if(-1!=location.pathname.indexOf("zh_cn")||-1!=location.pathname.indexOf("zh-cn"))B="zh-cn";if(B&&-1!==B.indexOf("-")){var G=B.split("-")[0];G=G+"_"+B.split("-")[1].toUpperCase()}else G=
"en_HK";return G}function b(){return/en[-_]hk/i.test(a())}var f=[],e="January February March April May June July August September October November December".split(" "),k="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),h="\u4e00 \u4e24 \u4e09 \u56db \u4e94 \u516d \u4e03 \u516b \u4e5d \u5341 \u5341\u4e00 \u5341\u4e8c".split(" "),g="\u4e00 \u5169 \u4e09 \u56db \u4e94 \u516d \u4e03 \u516b \u4e5d \u5341 \u5341\u4e00 \u5341\u4e8c".split(" "),q=/^([0-9]{4})-(0?[1-9]|1[0-2])-(0?[1-9]|[1-2][0-9]|3[0-1])$/,
x=[],u={initialized:"initialized"},r={small:480,medium:960,smallModern:768,mediumModern:1024,largeModern:1366,xlargeModern:1920},t=navigator.userAgent,y=/android/i.test(t),w=/iphone|ipad|ipod/i.test(t),A=t.includes("Chrome");t=t.includes("Safari")&&!A&&!/(CriOS|FxiOS|OPiOS|mercury|UCBrowser|QQBrowser)/i.test(t);var F=null,C=c(),J=p();z(document).ready(function(){n();l()});z(window).on("resize",function(){var B=p();B!==J&&(J=B,window.TOOLS_utils.matchMedia=c())});return{deregisterComponent:function(B){f.splice(B,
1)},init:n,keyCodes:{ENTER:13,SPACE:32,UP:38,DOWN:40,LEFT:37,RIGHT:39,ESC:27,TAB:9,SHIFT:16},focusables:["a","button","input",'[tabindex\x3d"0"]'],breakpoints:r,isChrome:A,isSafari:t,isMobileAndroid:y,isMobileIOS:w,registerComponent:function(B){f.push(B);B.reinitIfParent&&x.push(B)},getUrlParam:function(B,G){G=G||location.href;B=(B||"").replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");B=(new RegExp("[\\?\x26]"+B+"\x3d([^\x26#]*)")).exec(G);B=null==B?null:B[1];return null!=B?decodeURIComponent(B.replace(/\+/g,
"%20")):null},matchMedia:C,isPreviewMode:function(){var B=["Preview"];return"undefined"!==typeof parent.Granite&&"undefined"!==typeof parent.Granite.author&&"undefined"!==typeof parent.Granite.author.layerManager&&-1!==B.indexOf(parent.Granite.author.layerManager.getCurrentLayer())},isEditMode:function(){var B=["Edit","Design","Developer"];return"undefined"!==typeof parent.Granite&&"undefined"!==typeof parent.Granite.author&&"undefined"!==typeof parent.Granite.author.layerManager&&-1!==B.indexOf(parent.Granite.author.layerManager.getCurrentLayer())},
isIE8orLower:d,getLocale:a,isEnglishLang:b,formatDDMMDate:function(B,G){try{var E=q.exec(B.split(" ")[0]);if(E){parseInt(E[1],10);var v=parseInt(E[2],10),D=parseInt(E[3],10);return b()?G?D+" "+k[v-1]:D+" "+e[v-1]:v+"\u6708"+D+"\u65e5"}return B}catch(K){return B}},formatDDMMYYYYDate:function(B,G){try{var E=q.exec(B.split(" ")[0]);if(E){var v=parseInt(E[1],10),D=parseInt(E[2],10),K=parseInt(E[3],10);return b()?G?K+" "+k[D-1]+" "+v:K+" "+e[D-1]+" "+v:v+"\u5e74"+D+"\u6708"+K+"\u65e5"}return B}catch(P){return B}},
formatNumber:function(B){try{var G=a();return/zh[-_]hk/i.test(G)?g[B-1]:/zh[-_]cn/i.test(G)?h[B-1]:B}catch(E){return B}},numberWithCommas:function(B){try{var G=B.toString().split(".");G[0]=G[0].replace(/\B(?=(\d{3})+(?!\d))/g,",");return G.join(".")}catch(E){return B}},legacyPibDomain:function(){var B="https://www.ebanking.hsbc.com.hk";null==location.host||-1==location.host.toLowerCase().indexOf("localhost")&&-1==location.host.toLowerCase().indexOf("dxp1")&&-1==location.host.toLowerCase().indexOf("dxp2")&&
-1==location.host.toLowerCase().indexOf("dxp3")||(B="https://www.env601.qualityassurance.ebanking.hsbc.com.hk");return B},replaceValue:function(B,G){B.match(/{(\w*)}/g).forEach(function(E){var v=E.replace(/[\{\}]/g,"");G.hasOwnProperty(v)&&(B=B.replace(E,G[v]))});return B},formatDateString:function(B,G){var E={"M+":B.getMonth()+1,"d+":B.getDate(),"h+":B.getHours(),"m+":B.getMinutes(),"s+":B.getSeconds(),"q+":Math.floor((B.getMonth()+3)/3),S:B.getMilliseconds()};/(y+)/.test(G)&&(G=G.replace(RegExp.$1,
(B.getFullYear()+"").substr(4-RegExp.$1.length)));for(var v in E)(new RegExp("("+v+")")).test(G)&&(G=G.replace(RegExp.$1,1==RegExp.$1.length?E[v]:("00"+E[v]).substr((""+E[v]).length)));return G},genUUID:function(B){for(var G=[],E=0;36>E;E++)G[E]="0123456789abcdefghijklmnopqrstuvwxyz".substr(Math.floor(36*Math.random()),1);G[14]="4";G[19]="0123456789abcdefghijklmnopqrstuvwxyz".substr(G[19]&3|8,1);G[8]=G[13]=G[18]=G[23]="-";G=G.join("");return"number"===typeof B&&0<B?(G=G.replace(/-/g,""),G.substr(Math.floor(Math.random()*
(G.length-B)),B)):G}}}(jQuery);window.TOOLS_utils=M;Y.TOOLS_utils=M},36:function(M,Y,I){window.Bootstrap={jQuery:jQuery.noConflict()}},94:function(M,Y,I){I(36);I(33);I(34);M.exports=I(35)}});
TOOLS_utils.isIE8orLower()||(!function(M,Y,I,z){function m(ca,ja,la){return setTimeout(d(ca,la),ja)}function n(ca,ja,la){return Array.isArray(ca)?(l(ca,la[ja],la),!0):!1}function l(ca,ja,la){var qa;if(ca)if(ca.forEach)ca.forEach(ja,la);else if(ca.length!==z)for(qa=0;qa<ca.length;)ja.call(la,ca[qa],qa,ca),qa++;else for(qa in ca)ca.hasOwnProperty(qa)&&ja.call(la,ca[qa],qa,ca)}function c(ca,ja,la){var qa="DEPRECATED METHOD: "+ja+"\n"+la+" AT \n";return function(){var xa=Error("get-stack-trace");xa=xa&&
xa.stack?xa.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace";var Ba=M.console&&(M.console.warn||M.console.log);return Ba&&Ba.call(M.console,qa,xa),ca.apply(this,arguments)}}function p(ca,ja,la){var qa=ja.prototype;ja=ca.prototype=Object.create(qa);ja.constructor=ca;ja._super=qa;la&&X(ja,la)}function d(ca,ja){return function(){return ca.apply(ja,arguments)}}function a(ca,ja){return typeof ca==ta?ca.apply(ja?ja[0]||
z:z,ja):ca}function b(ca,ja,la){l(k(ja),function(qa){ca.addEventListener(qa,la,!1)})}function f(ca,ja,la){l(k(ja),function(qa){ca.removeEventListener(qa,la,!1)})}function e(ca,ja){for(;ca;){if(ca==ja)return!0;ca=ca.parentNode}return!1}function k(ca){return ca.trim().split(/\s+/g)}function h(ca,ja,la){if(ca.indexOf&&!la)return ca.indexOf(ja);for(var qa=0;qa<ca.length;){if(la&&ca[qa][la]==ja||!la&&ca[qa]===ja)return qa;qa++}return-1}function g(ca){return Array.prototype.slice.call(ca,0)}function q(ca,
ja,la){for(var qa=[],xa=[],Ba=0;Ba<ca.length;){var Fa=ja?ca[Ba][ja]:ca[Ba];0>h(xa,Fa)&&qa.push(ca[Ba]);xa[Ba]=Fa;Ba++}return la&&(qa=ja?qa.sort(function(Ma,Ra){return Ma[ja]>Ra[ja]}):qa.sort()),qa}function x(ca,ja){for(var la,qa,xa=ja[0].toUpperCase()+ja.slice(1),Ba=0;Ba<ka.length;){if(la=ka[Ba],qa=la?la+xa:ja,qa in ca)return qa;Ba++}return z}function u(ca){ca=ca.ownerDocument||ca;return ca.defaultView||ca.parentWindow||M}function r(ca,ja){var la=this;this.manager=ca;this.callback=ja;this.element=
ca.element;this.target=ca.options.inputTarget;this.domHandler=function(qa){a(ca.options.enable,[ca])&&la.handler(qa)};this.init()}function t(ca){var ja=ca.options.inputClass;return new (ja?ja:va?G:za?v:ua?K:B)(ca,y)}function y(ca,ja,la){var qa=la.pointers.length;var xa=la.changedPointers.length;var Ba=ja&ya&&0===qa-xa;qa=ja&(Ca|Da)&&0===qa-xa;la.isFirst=!!Ba;la.isFinal=!!qa;Ba&&(ca.session={});la.eventType=ja;ja=ca.session;Ba=la.pointers;qa=Ba.length;ja.firstInput||(ja.firstInput=w(la));1<qa&&!ja.firstMultiple?
ja.firstMultiple=w(la):1===qa&&(ja.firstMultiple=!1);xa=ja.firstInput;var Fa=(qa=ja.firstMultiple)?qa.center:xa.center;var Ma=la.center=A(Ba);la.timeStamp=ma();la.deltaTime=la.timeStamp-xa.timeStamp;la.angle=J(Fa,Ma);la.distance=C(Fa,Ma);xa=la.center;Fa=ja.offsetDelta||{};Ma=ja.prevDelta||{};var Ra=ja.prevInput||{};la.eventType!==ya&&Ra.eventType!==Ca||(Ma=ja.prevDelta={x:Ra.deltaX||0,y:Ra.deltaY||0},Fa=ja.offsetDelta={x:xa.x,y:xa.y});la.deltaX=Ma.x+(xa.x-Fa.x);la.deltaY=Ma.y+(xa.y-Fa.y);la.offsetDirection=
F(la.deltaX,la.deltaY);Fa=la.deltaTime;xa=la.deltaX/Fa||0;Fa=la.deltaY/Fa||0;la.overallVelocityX=xa;la.overallVelocityY=Fa;la.overallVelocity=oa(xa)>oa(Fa)?xa:Fa;qa?(xa=qa.pointers,xa=C(Ba[0],Ba[1],Qa)/C(xa[0],xa[1],Qa)):xa=1;la.scale=xa;qa?(qa=qa.pointers,Ba=J(Ba[1],Ba[0],Qa)+J(qa[1],qa[0],Qa)):Ba=0;la.rotation=Ba;la.maxPointers=ja.prevInput?la.pointers.length>ja.prevInput.maxPointers?la.pointers.length:ja.prevInput.maxPointers:la.pointers.length;Fa=ja.lastInterval||la;Ba=la.timeStamp-Fa.timeStamp;
la.eventType!=Da&&(Ba>Ea||Fa.velocity===z)?(xa=la.deltaX-Fa.deltaX,Fa=la.deltaY-Fa.deltaY,Ma=xa/Ba||0,Ra=Fa/Ba||0,Ba=Ma,qa=Ra,Ma=oa(Ma)>oa(Ra)?Ma:Ra,xa=F(xa,Fa),ja.lastInterval=la):(Ma=Fa.velocity,Ba=Fa.velocityX,qa=Fa.velocityY,xa=Fa.direction);la.velocity=Ma;la.velocityX=Ba;la.velocityY=qa;la.direction=xa;ja=ca.element;e(la.srcEvent.target,ja)&&(ja=la.srcEvent.target);la.target=ja;ca.emit("hammer.input",la);ca.recognize(la);ca.session.prevInput=la}function w(ca){for(var ja=[],la=0;la<ca.pointers.length;)ja[la]=
{clientX:sa(ca.pointers[la].clientX),clientY:sa(ca.pointers[la].clientY)},la++;return{timeStamp:ma(),pointers:ja,center:A(ja),deltaX:ca.deltaX,deltaY:ca.deltaY}}function A(ca){var ja=ca.length;if(1===ja)return{x:sa(ca[0].clientX),y:sa(ca[0].clientY)};for(var la=0,qa=0,xa=0;ja>xa;)la+=ca[xa].clientX,qa+=ca[xa].clientY,xa++;return{x:sa(la/ja),y:sa(qa/ja)}}function F(ca,ja){return ca===ja?Ga:oa(ca)>=oa(ja)?0>ca?Aa:Ia:0>ja?La:Ha}function C(ca,ja,la){la||(la=Oa);var qa=ja[la[0]]-ca[la[0]];ca=ja[la[1]]-
ca[la[1]];return Math.sqrt(qa*qa+ca*ca)}function J(ca,ja,la){la||(la=Oa);return 180*Math.atan2(ja[la[1]]-ca[la[1]],ja[la[0]]-ca[la[0]])/Math.PI}function B(){this.evEl=gb;this.evWin=hb;this.pressed=!1;r.apply(this,arguments)}function G(){this.evEl=bb;this.evWin=cb;r.apply(this,arguments);this.store=this.manager.session.pointerEvents=[]}function E(){this.evTarget=ib;this.evWin=jb;this.started=!1;r.apply(this,arguments)}function v(){this.evTarget=kb;this.targetIds={};r.apply(this,arguments)}function D(ca,
ja){var la=g(ca.touches),qa=this.targetIds;if(ja&(ya|wa)&&1===la.length)return qa[la[0].identifier]=!0,[la,la];var xa;ca=g(ca.changedTouches);var Ba=[],Fa=this.target;if(xa=la.filter(function(Ma){return e(Ma.target,Fa)}),ja===ya)for(la=0;la<xa.length;)qa[xa[la].identifier]=!0,la++;for(la=0;la<ca.length;)qa[ca[la].identifier]&&Ba.push(ca[la]),ja&(Ca|Da)&&delete qa[ca[la].identifier],la++;return Ba.length?[q(xa.concat(Ba),"identifier",!0),Ba]:void 0}function K(){r.apply(this,arguments);var ca=d(this.handler,
this);this.touch=new v(this.manager,ca);this.mouse=new B(this.manager,ca);this.primaryTouch=null;this.lastTouches=[]}function P(ca){ca=ca.changedPointers[0];if(ca.identifier===this.primaryTouch){var ja={x:ca.clientX,y:ca.clientY};this.lastTouches.push(ja);var la=this.lastTouches;setTimeout(function(){var qa=la.indexOf(ja);-1<qa&&la.splice(qa,1)},lb)}}function Q(ca,ja){this.manager=ca;this.set(ja)}function N(ca){if(-1<ca.indexOf(Ua))return Ua;var ja=-1<ca.indexOf(Wa),la=-1<ca.indexOf(Xa);return ja&&
la?Ua:ja||la?ja?Wa:Xa:-1<ca.indexOf(ab)?ab:db}function T(ca){this.options=X({},this.defaults,ca||{});this.id=na++;this.manager=null;ca=this.options.enable;this.options.enable=ca===z?!0:ca;this.state=Za;this.simultaneous={};this.requireFail=[]}function H(ca){return ca&Ya?"cancel":ca&Ta?"end":ca&Va?"move":ca&Pa?"start":""}function L(ca){return ca==Ha?"down":ca==La?"up":ca==Aa?"left":ca==Ia?"right":""}function R(ca,ja){return(ja=ja.manager)?ja.get(ca):ca}function U(){T.apply(this,arguments)}function V(){U.apply(this,
arguments);this.pY=this.pX=null}function Z(){U.apply(this,arguments)}function O(){T.apply(this,arguments);this._input=this._timer=null}function W(){U.apply(this,arguments)}function S(){U.apply(this,arguments)}function aa(){T.apply(this,arguments);this.pCenter=this.pTime=!1;this._input=this._timer=null;this.count=0}function ba(ca,ja){ja=ja||{};var la=ja.recognizers;return ja.recognizers=la===z?ba.defaults.preset:la,new fa(ca,ja)}function fa(ca,ja){this.options=X({},ba.defaults,ja||{});this.options.inputTarget=
this.options.inputTarget||ca;this.handlers={};this.session={};this.recognizers=[];this.oldCssProps={};this.element=ca;this.input=t(this);this.touchAction=new Q(this,this.options.touchAction);ea(this,!0);l(this.options.recognizers,function(la){var qa=this.add(new la[0](la[1]));la[2]&&qa.recognizeWith(la[2]);la[3]&&qa.requireFailure(la[3])},this)}function ea(ca,ja){var la=ca.element;if(la.style){var qa;l(ca.options.cssProps,function(xa,Ba){qa=x(la.style,Ba);ja?(ca.oldCssProps[qa]=la.style[qa],la.style[qa]=
xa):la.style[qa]=ca.oldCssProps[qa]||""});ja||(ca.oldCssProps={})}}function ha(ca,ja){var la=Y.createEvent("Event");la.initEvent(ca,!0,!0);la.gesture=ja;ja.target.dispatchEvent(la)}var ka=" webkit Moz MS ms o".split(" "),ra=Y.createElement("div"),ta="function",sa=Math.round,oa=Math.abs,ma=Date.now;var X="function"!=typeof Object.assign?function(ca){if(ca===z||null===ca)throw new TypeError("Cannot convert undefined or null to object");for(var ja=Object(ca),la=1;la<arguments.length;la++){var qa=arguments[la];
if(qa!==z&&null!==qa)for(var xa in qa)qa.hasOwnProperty(xa)&&(ja[xa]=qa[xa])}return ja}:Object.assign;var da=c(function(ca,ja,la){for(var qa=Object.keys(ja),xa=0;xa<qa.length;)(!la||la&&ca[qa[xa]]===z)&&(ca[qa[xa]]=ja[qa[xa]]),xa++;return ca},"extend","Use `assign`."),ia=c(function(ca,ja){return da(ca,ja,!0)},"merge","Use `assign`."),na=1,pa=/mobile|tablet|ip(ad|hone|od)|android/i,ua="ontouchstart"in M,va=x(M,"PointerEvent")!==z,za=ua&&pa.test(navigator.userAgent),Ea=25,ya=1,wa=2,Ca=4,Da=8,Ga=1,Aa=
2,Ia=4,La=8,Ha=16,Ja=Aa|Ia,Na=La|Ha,Ka=Ja|Na,Oa=["x","y"],Qa=["clientX","clientY"];r.prototype={handler:function(){},init:function(){this.evEl&&b(this.element,this.evEl,this.domHandler);this.evTarget&&b(this.target,this.evTarget,this.domHandler);this.evWin&&b(u(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&f(this.element,this.evEl,this.domHandler);this.evTarget&&f(this.target,this.evTarget,this.domHandler);this.evWin&&f(u(this.element),this.evWin,this.domHandler)}};var mb=
{mousedown:ya,mousemove:wa,mouseup:Ca},gb="mousedown",hb="mousemove mouseup";p(B,r,{handler:function(ca){var ja=mb[ca.type];ja&ya&&0===ca.button&&(this.pressed=!0);ja&wa&&1!==ca.which&&(ja=Ca);this.pressed&&(ja&Ca&&(this.pressed=!1),this.callback(this.manager,ja,{pointers:[ca],changedPointers:[ca],pointerType:"mouse",srcEvent:ca}))}});var nb={pointerdown:ya,pointermove:wa,pointerup:Ca,pointercancel:Da,pointerout:Da},ob={2:"touch",3:"pen",4:"mouse",5:"kinect"},bb="pointerdown",cb="pointermove pointerup pointercancel";
M.MSPointerEvent&&!M.PointerEvent&&(bb="MSPointerDown",cb="MSPointerMove MSPointerUp MSPointerCancel");p(G,r,{handler:function(ca){var ja=this.store,la=!1,qa=ca.type.toLowerCase().replace("ms","");qa=nb[qa];var xa=ob[ca.pointerType]||ca.pointerType,Ba="touch"==xa,Fa=h(ja,ca.pointerId,"pointerId");qa&ya&&(0===ca.button||Ba)?0>Fa&&(ja.push(ca),Fa=ja.length-1):qa&(Ca|Da)&&(la=!0);0>Fa||(ja[Fa]=ca,this.callback(this.manager,qa,{pointers:ja,changedPointers:[ca],pointerType:xa,srcEvent:ca}),la&&ja.splice(Fa,
1))}});var pb={touchstart:ya,touchmove:wa,touchend:Ca,touchcancel:Da},ib="touchstart",jb="touchstart touchmove touchend touchcancel";p(E,r,{handler:function(ca){var ja=pb[ca.type];if(ja===ya&&(this.started=!0),this.started){var la=g(ca.touches);var qa=g(ca.changedTouches);qa=(ja&(Ca|Da)&&(la=q(la.concat(qa),"identifier",!0)),[la,qa]);ja&(Ca|Da)&&0===qa[0].length-qa[1].length&&(this.started=!1);this.callback(this.manager,ja,{pointers:qa[0],changedPointers:qa[1],pointerType:"touch",srcEvent:ca})}}});
var qb={touchstart:ya,touchmove:wa,touchend:Ca,touchcancel:Da},kb="touchstart touchmove touchend touchcancel";p(v,r,{handler:function(ca){var ja=qb[ca.type],la=D.call(this,ca,ja);la&&this.callback(this.manager,ja,{pointers:la[0],changedPointers:la[1],pointerType:"touch",srcEvent:ca})}});var lb=2500;p(K,r,{handler:function(ca,ja,la){var qa="touch"==la.pointerType,xa="mouse"==la.pointerType;if(!(xa&&la.sourceCapabilities&&la.sourceCapabilities.firesTouchEvents)){if(qa)ja&ya?(this.primaryTouch=la.changedPointers[0].identifier,
P.call(this,la)):ja&(Ca|Da)&&P.call(this,la);else{if(qa=xa)a:{qa=la.srcEvent.clientX;xa=la.srcEvent.clientY;for(var Ba=0;Ba<this.lastTouches.length;Ba++){var Fa=this.lastTouches[Ba],Ma=Math.abs(xa-Fa.y);if(25>=Math.abs(qa-Fa.x)&&25>=Ma){qa=!0;break a}}qa=!1}if(qa)return}this.callback(ca,ja,la)}},destroy:function(){this.touch.destroy();this.mouse.destroy()}});var eb=x(ra.style,"touchAction"),fb=eb!==z,db="auto",ab="manipulation",Ua="none",Wa="pan-x",Xa="pan-y",$a=function(){if(!fb)return!1;var ca=
{},ja=M.CSS&&M.CSS.supports;return"auto;manipulation;pan-y;pan-x;pan-x pan-y;none".split(";").forEach(function(la){ca[la]=ja?M.CSS.supports("touch-action",la):!0}),ca}();Q.prototype={set:function(ca){"compute"==ca&&(ca=this.compute());fb&&this.manager.element.style&&$a[ca]&&(this.manager.element.style[eb]=ca);this.actions=ca.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var ca=[];return l(this.manager.recognizers,function(ja){a(ja.options.enable,
[ja])&&(ca=ca.concat(ja.getTouchAction()))}),N(ca.join(" "))},preventDefaults:function(ca){var ja=ca.srcEvent,la=ca.offsetDirection;if(this.manager.session.prevented)return void ja.preventDefault();var qa=this.actions,xa=-1<qa.indexOf(Ua)&&!$a[Ua],Ba=-1<qa.indexOf(Xa)&&!$a[Xa];qa=-1<qa.indexOf(Wa)&&!$a[Wa];if(xa){var Fa=2>ca.distance,Ma=250>ca.deltaTime;if(1===ca.pointers.length&&Fa&&Ma)return}return qa&&Ba?void 0:xa||Ba&&la&Ja||qa&&la&Na?this.preventSrc(ja):void 0},preventSrc:function(ca){this.manager.session.prevented=
!0;ca.preventDefault()}};var Za=1,Pa=2,Va=4,Ta=8,Sa=Ta,Ya=16;T.prototype={defaults:{},set:function(ca){return X(this.options,ca),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(ca){if(n(ca,"recognizeWith",this))return this;var ja=this.simultaneous;return ca=R(ca,this),ja[ca.id]||(ja[ca.id]=ca,ca.recognizeWith(this)),this},dropRecognizeWith:function(ca){return n(ca,"dropRecognizeWith",this)?this:(ca=R(ca,this),delete this.simultaneous[ca.id],this)},requireFailure:function(ca){if(n(ca,
"requireFailure",this))return this;var ja=this.requireFail;return ca=R(ca,this),-1===h(ja,ca)&&(ja.push(ca),ca.requireFailure(this)),this},dropRequireFailure:function(ca){if(n(ca,"dropRequireFailure",this))return this;ca=R(ca,this);ca=h(this.requireFail,ca);return-1<ca&&this.requireFail.splice(ca,1),this},hasRequireFailures:function(){return 0<this.requireFail.length},canRecognizeWith:function(ca){return!!this.simultaneous[ca.id]},emit:function(ca){function ja(xa){la.manager.emit(xa,ca)}var la=this,
qa=this.state;Ta>qa&&ja(la.options.event+H(qa));ja(la.options.event);ca.additionalEvent&&ja(ca.additionalEvent);qa>=Ta&&ja(la.options.event+H(qa))},tryEmit:function(ca){return this.canEmit()?this.emit(ca):void(this.state=32)},canEmit:function(){for(var ca=0;ca<this.requireFail.length;){if(!(this.requireFail[ca].state&(32|Za)))return!1;ca++}return!0},recognize:function(ca){ca=X({},ca);return a(this.options.enable,[this,ca])?(this.state&(Sa|Ya|32)&&(this.state=Za),this.state=this.process(ca),void(this.state&
(Pa|Va|Ta|Ya)&&this.tryEmit(ca))):(this.reset(),void(this.state=32))},process:function(ca){},getTouchAction:function(){},reset:function(){}};p(U,T,{defaults:{pointers:1},attrTest:function(ca){var ja=this.options.pointers;return 0===ja||ca.pointers.length===ja},process:function(ca){var ja=this.state,la=ca.eventType,qa=ja&(Pa|Va);ca=this.attrTest(ca);return qa&&(la&Da||!ca)?ja|Ya:qa||ca?la&Ca?ja|Ta:ja&Pa?ja|Va:Pa:32}});p(V,U,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ka},getTouchAction:function(){var ca=
this.options.direction,ja=[];return ca&Ja&&ja.push(Xa),ca&Na&&ja.push(Wa),ja},directionTest:function(ca){var ja=this.options,la=!0,qa=ca.distance,xa=ca.direction,Ba=ca.deltaX,Fa=ca.deltaY;return xa&ja.direction||(ja.direction&Ja?(xa=0===Ba?Ga:0>Ba?Aa:Ia,la=Ba!=this.pX,qa=Math.abs(ca.deltaX)):(xa=0===Fa?Ga:0>Fa?La:Ha,la=Fa!=this.pY,qa=Math.abs(ca.deltaY))),ca.direction=xa,la&&qa>ja.threshold&&xa&ja.direction},attrTest:function(ca){return U.prototype.attrTest.call(this,ca)&&(this.state&Pa||!(this.state&
Pa)&&this.directionTest(ca))},emit:function(ca){this.pX=ca.deltaX;this.pY=ca.deltaY;var ja=L(ca.direction);ja&&(ca.additionalEvent=this.options.event+ja);this._super.emit.call(this,ca)}});p(Z,U,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Ua]},attrTest:function(ca){return this._super.attrTest.call(this,ca)&&(Math.abs(ca.scale-1)>this.options.threshold||this.state&Pa)},emit:function(ca){1!==ca.scale&&(ca.additionalEvent=this.options.event+(1>ca.scale?"in":"out"));
this._super.emit.call(this,ca)}});p(O,T,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[db]},process:function(ca){var ja=this.options,la=ca.pointers.length===ja.pointers,qa=ca.distance<ja.threshold,xa=ca.deltaTime>ja.time;if(this._input=ca,!qa||!la||ca.eventType&(Ca|Da)&&!xa)this.reset();else if(ca.eventType&ya)this.reset(),this._timer=m(function(){this.state=Sa;this.tryEmit()},ja.time,this);else if(ca.eventType&Ca)return Sa;return 32},reset:function(){clearTimeout(this._timer)},
emit:function(ca){this.state===Sa&&(ca&&ca.eventType&Ca?this.manager.emit(this.options.event+"up",ca):(this._input.timeStamp=ma(),this.manager.emit(this.options.event,this._input)))}});p(W,U,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Ua]},attrTest:function(ca){return this._super.attrTest.call(this,ca)&&(Math.abs(ca.rotation)>this.options.threshold||this.state&Pa)}});p(S,U,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Ja|Na,pointers:1},getTouchAction:function(){return V.prototype.getTouchAction.call(this)},
attrTest:function(ca){var ja,la=this.options.direction;return la&(Ja|Na)?ja=ca.overallVelocity:la&Ja?ja=ca.overallVelocityX:la&Na&&(ja=ca.overallVelocityY),this._super.attrTest.call(this,ca)&&la&ca.offsetDirection&&ca.distance>this.options.threshold&&ca.maxPointers==this.options.pointers&&oa(ja)>this.options.velocity&&ca.eventType&Ca},emit:function(ca){var ja=L(ca.offsetDirection);ja&&this.manager.emit(this.options.event+ja,ca);this.manager.emit(this.options.event,ca)}});p(aa,T,{defaults:{event:"tap",
pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ab]},process:function(ca){var ja=this.options,la=ca.pointers.length===ja.pointers,qa=ca.distance<ja.threshold,xa=ca.deltaTime<ja.time;if(this.reset(),ca.eventType&ya&&0===this.count)return this.failTimeout();if(qa&&xa&&la){if(ca.eventType!=Ca)return this.failTimeout();la=this.pTime?ca.timeStamp-this.pTime<ja.interval:!0;qa=!this.pCenter||C(this.pCenter,ca.center)<ja.posThreshold;this.pTime=ca.timeStamp;
this.pCenter=ca.center;qa&&la?this.count+=1:this.count=1;this._input=ca;if(0===this.count%ja.taps)return this.hasRequireFailures()?(this._timer=m(function(){this.state=Sa;this.tryEmit()},ja.interval,this),Pa):Sa}return 32},failTimeout:function(){return this._timer=m(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Sa&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});ba.VERSION="2.0.8";
ba.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[W,{enable:!1}],[Z,{enable:!1},["rotate"]],[S,{direction:Ja}],[V,{direction:Ja},["swipe"]],[aa],[aa,{event:"doubletap",taps:2},["tap"]],[O]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};fa.prototype={set:function(ca){return X(this.options,ca),ca.touchAction&&this.touchAction.update(),ca.inputTarget&&(this.input.destroy(),
this.input.target=ca.inputTarget,this.input.init()),this},stop:function(ca){this.session.stopped=ca?2:1},recognize:function(ca){var ja=this.session;if(!ja.stopped){this.touchAction.preventDefaults(ca);var la=this.recognizers,qa=ja.curRecognizer;(!qa||qa&&qa.state&Sa)&&(qa=ja.curRecognizer=null);for(var xa=0;xa<la.length;){var Ba=la[xa];2===ja.stopped||qa&&Ba!=qa&&!Ba.canRecognizeWith(qa)?Ba.reset():Ba.recognize(ca);!qa&&Ba.state&(Pa|Va|Ta)&&(qa=ja.curRecognizer=Ba);xa++}}},get:function(ca){if(ca instanceof
T)return ca;for(var ja=this.recognizers,la=0;la<ja.length;la++)if(ja[la].options.event==ca)return ja[la];return null},add:function(ca){if(n(ca,"add",this))return this;var ja=this.get(ca.options.event);return ja&&this.remove(ja),this.recognizers.push(ca),ca.manager=this,this.touchAction.update(),ca},remove:function(ca){if(n(ca,"remove",this))return this;if(ca=this.get(ca)){var ja=this.recognizers;ca=h(ja,ca);-1!==ca&&(ja.splice(ca,1),this.touchAction.update())}return this},on:function(ca,ja){if(ca!==
z&&ja!==z){var la=this.handlers;return l(k(ca),function(qa){la[qa]=la[qa]||[];la[qa].push(ja)}),this}},off:function(ca,ja){if(ca!==z){var la=this.handlers;return l(k(ca),function(qa){ja?la[qa]&&la[qa].splice(h(la[qa],ja),1):delete la[qa]}),this}},emit:function(ca,ja){this.options.domEvents&&ha(ca,ja);var la=this.handlers[ca]&&this.handlers[ca].slice();if(la&&la.length)for(ja.type=ca,ja.preventDefault=function(){ja.srcEvent.preventDefault()},ca=0;ca<la.length;)la[ca](ja),ca++},destroy:function(){this.element&&
ea(this,!1);this.handlers={};this.session={};this.input.destroy();this.element=null}};X(ba,{INPUT_START:ya,INPUT_MOVE:wa,INPUT_END:Ca,INPUT_CANCEL:Da,STATE_POSSIBLE:Za,STATE_BEGAN:Pa,STATE_CHANGED:Va,STATE_ENDED:Ta,STATE_RECOGNIZED:Sa,STATE_CANCELLED:Ya,STATE_FAILED:32,DIRECTION_NONE:Ga,DIRECTION_LEFT:Aa,DIRECTION_RIGHT:Ia,DIRECTION_UP:La,DIRECTION_DOWN:Ha,DIRECTION_HORIZONTAL:Ja,DIRECTION_VERTICAL:Na,DIRECTION_ALL:Ka,Manager:fa,Input:r,TouchAction:Q,TouchInput:v,MouseInput:B,PointerEventInput:G,
TouchMouseInput:K,SingleTouchInput:E,Recognizer:T,AttrRecognizer:U,Tap:aa,Pan:V,Swipe:S,Pinch:Z,Rotate:W,Press:O,on:b,off:f,each:l,merge:ia,extend:da,assign:X,inherit:p,bindFn:d,prefixed:x});("undefined"!=typeof M?M:"undefined"!=typeof self?self:{}).Hammer=ba;"function"==typeof define&&define.amd?define(function(){return ba}):"undefined"!=typeof module&&module.exports?module.exports=ba:M[I]=ba}(window,document,"Hammer"),delete Hammer.defaults.cssProps.userSelect);
(function(M,Y){"object"===typeof exports&&exports&&"string"!==typeof exports.nodeName?Y(exports):"function"===typeof define&&define.amd?define(["exports"],Y):(M.Mustache={},Y(M.Mustache))})(this,function(M){function Y(t){return"function"===typeof t}function I(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$\x26")}function z(t,y){return null!=t&&"object"===typeof t&&y in t}function m(t,y){function w(N){"string"===typeof N&&(N=N.split(g,2));if(!b(N)||2!==N.length)throw Error("Invalid tags: "+
N);G=new RegExp(I(N[0])+"\\s*");E=new RegExp("\\s*"+I(N[1]));v=new RegExp("\\s*"+I("}"+N[1]))}if(!t)return[];var A=[],F=[],C=[],J=!1,B=!1,G,E,v;w(y||M.tags);t=new c(t);for(var D,K,P;!t.eos();){y=t.pos;if(K=t.scanUntil(G)){P=0;for(var Q=K.length;P<Q;++P)if(D=K.charAt(P),f.call(e,D)?B=!0:C.push(F.length),F.push(["text",D,y,y+1]),y+=1,"\n"===D){if(J&&!B)for(;C.length;)delete F[C.pop()];else C=[];B=J=!1}}if(!t.scan(G))break;J=!0;D=t.scan(u)||"name";t.scan(h);"\x3d"===D?(K=t.scanUntil(q),t.scan(q),t.scanUntil(E)):
"{"===D?(K=t.scanUntil(v),t.scan(x),t.scanUntil(E),D="\x26"):K=t.scanUntil(E);if(!t.scan(E))throw Error("Unclosed tag at "+t.pos);P=[D,K,y,t.pos];F.push(P);if("#"===D||"^"===D)A.push(P);else if("/"===D){D=A.pop();if(!D)throw Error('Unopened section "'+K+'" at '+y);if(D[1]!==K)throw Error('Unclosed section "'+D[1]+'" at '+y);}else"name"===D||"{"===D||"\x26"===D?B=!0:"\x3d"===D&&w(K)}if(D=A.pop())throw Error('Unclosed section "'+D[1]+'" at '+t.pos);return l(n(F))}function n(t){for(var y=[],w,A,F=0,
C=t.length;F<C;++F)if(w=t[F])"text"===w[0]&&A&&"text"===A[0]?(A[1]+=w[1],A[3]=w[3]):(y.push(w),A=w);return y}function l(t){for(var y=[],w=y,A=[],F,C=0,J=t.length;C<J;++C)switch(F=t[C],F[0]){case "#":case "^":w.push(F);A.push(F);w=F[4]=[];break;case "/":w=A.pop();w[5]=F[2];w=0<A.length?A[A.length-1][4]:y;break;default:w.push(F)}return y}function c(t){this.tail=this.string=t;this.pos=0}function p(t,y){this.view=t;this.cache={".":this.view};this.parent=y}function d(){this.cache={}}var a=Object.prototype.toString,
b=Array.isArray||function(t){return"[object Array]"===a.call(t)},f=RegExp.prototype.test,e=/\S/,k={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#39;","/":"\x26#x2F;","`":"\x26#x60;","\x3d":"\x26#x3D;"},h=/\s*/,g=/\s+/,q=/\s*=/,x=/\s*\}/,u=/#|\^|\/|>|\{|&|=|!/;c.prototype.eos=function(){return""===this.tail};c.prototype.scan=function(t){t=this.tail.match(t);if(!t||0!==t.index)return"";t=t[0];this.tail=this.tail.substring(t.length);this.pos+=t.length;return t};c.prototype.scanUntil=
function(t){t=this.tail.search(t);switch(t){case -1:var y=this.tail;this.tail="";break;case 0:y="";break;default:y=this.tail.substring(0,t),this.tail=this.tail.substring(t)}this.pos+=y.length;return y};p.prototype.push=function(t){return new p(t,this)};p.prototype.lookup=function(t){var y=this.cache;if(y.hasOwnProperty(t))var w=y[t];else{for(var A=this,F,C,J=!1;A;){if(0<t.indexOf("."))for(w=A.view,F=t.split("."),C=0;null!=w&&C<F.length;)C===F.length-1&&(J=z(w,F[C])),w=w[F[C++]];else w=A.view[t],J=
z(A.view,t);if(J)break;A=A.parent}y[t]=w}Y(w)&&(w=w.call(this.view));return w};d.prototype.clearCache=function(){this.cache={}};d.prototype.parse=function(t,y){var w=this.cache,A=w[t];null==A&&(A=w[t]=m(t,y));return A};d.prototype.render=function(t,y,w){var A=this.parse(t);y=y instanceof p?y:new p(y);return this.renderTokens(A,y,w,t)};d.prototype.renderTokens=function(t,y,w,A){for(var F="",C,J,B,G=0,E=t.length;G<E;++G)B=void 0,C=t[G],J=C[0],"#"===J?B=this.renderSection(C,y,w,A):"^"===J?B=this.renderInverted(C,
y,w,A):"\x3e"===J?B=this.renderPartial(C,y,w,A):"\x26"===J?B=this.unescapedValue(C,y):"name"===J?B=this.escapedValue(C,y):"text"===J&&(B=this.rawValue(C)),void 0!==B&&(F+=B);return F};d.prototype.renderSection=function(t,y,w,A){function F(v){return C.render(v,y,w)}var C=this,J="",B=y.lookup(t[1]);if(B){if(b(B))for(var G=0,E=B.length;G<E;++G)J+=this.renderTokens(t[4],y.push(B[G]),w,A);else if("object"===typeof B||"string"===typeof B||"number"===typeof B)J+=this.renderTokens(t[4],y.push(B),w,A);else if(Y(B)){if("string"!==
typeof A)throw Error("Cannot use higher-order sections without the original template");B=B.call(y.view,A.slice(t[3],t[5]),F);null!=B&&(J+=B)}else J+=this.renderTokens(t[4],y,w,A);return J}};d.prototype.renderInverted=function(t,y,w,A){var F=y.lookup(t[1]);if(!F||b(F)&&0===F.length)return this.renderTokens(t[4],y,w,A)};d.prototype.renderPartial=function(t,y,w){if(w&&(t=Y(w)?w(t[1]):w[t[1]],null!=t))return this.renderTokens(this.parse(t),y,w,t)};d.prototype.unescapedValue=function(t,y){t=y.lookup(t[1]);
if(null!=t)return t};d.prototype.escapedValue=function(t,y){t=y.lookup(t[1]);if(null!=t)return M.escape(t)};d.prototype.rawValue=function(t){return t[1]};M.name="mustache.js";M.version="2.3.0";M.tags=["{{","}}"];var r=new d;M.clearCache=function(){return r.clearCache()};M.parse=function(t,y){return r.parse(t,y)};M.render=function(t,y,w){if("string"!==typeof t)throw y=TypeError,t=b(t)?"array":typeof t,new y('Invalid template! Template should be a "string" but "'+t+'" was given as the first argument for mustache#render(template, view, partials)');
return r.render(t,y,w)};M.to_html=function(t,y,w,A){t=M.render(t,y,w);if(Y(A))A(t);else return t};M.escape=function(t){return String(t).replace(/[&<>"'`=\/]/g,function(y){return k[y]})};M.Scanner=c;M.Context=p;M.Writer=d;return M});
(function(M,Y){function I(){null===c&&(c=Y.Mustache,void 0===c&&M.error("Failed to locate Mustache instance, are you sure it has been loaded?"));return c}function z(d){return void 0!==l[d]}function m(d,a){!p.allowOverwrite&&z(d)?M.error("TemplateName: "+d+" is already mapped."):l[d]=M.trim(a)}function n(d,a){return z(d)?I().to_html(l[d],a,l):(p.warnOnMissingTemplates&&M.error("No template registered for: "+d),"")}var l={},c=null,p={warnOnMissingTemplates:!1,allowOverwrite:!0,domTemplateType:"text/html",
externalTemplateDataType:"text"};M.Mustache={options:p,load:function(d,a){return M.ajax({url:d,dataType:p.externalTemplateDataType}).done(function(b){M(b).filter("script").each(function(f,e){m(e.id,M(e).html())});M.isFunction(a)&&a()})},has:z,add:m,addFromDom:function(){var d=0===arguments.length?M('script[type\x3d"'+p.domTemplateType+'"]').map(function(){return this.id}):M.makeArray(arguments);M.each(d,function(){var a=document.getElementById(this);null===a?M.error("No such elementId: #"+this):m(this,
M(a).html())})},remove:function(d){var a=l[d];delete l[d];return a},clear:function(){l={};I().clearCache()},render:n,templates:function(){return M.map(l,function(d,a){return a})},instance:c};M.fn.mustache=function(d,a,b){var f=M.extend({method:"append"},b),e=function(k,h){M(k)[f.method](n(d,h))};return this.each(function(){var k=this;M.isArray(a)?M.each(a,function(){e(k,this)}):e(k,a)})}})(window.jQuery||Bootstrap.jQuery,window);
(function(M,Y){"function"===typeof define&&define.amd?define("sifter",Y):"object"===typeof exports?module.exports=Y():M.Sifter=Y()})(this,function(){var M=function(c,p){this.items=c;this.settings=p||{diacritics:!0}};M.prototype.tokenize=function(c){c=(String(c||"").toLowerCase()+"").replace(/^\s+|\s+$|/g,"");if(!c||!c.length)return[];var p,d,a=[],b=c.split(/ +/);c=0;for(p=b.length;c<p;c++){var f=(b[c]+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");if(this.settings.diacritics)for(d in n)n.hasOwnProperty(d)&&
(f=f.replace(new RegExp(d,"g"),n[d]));a.push({string:b[c],regex:new RegExp(f,"i")})}return a};M.prototype.iterator=function(c,p){(m(c)?Array.prototype.forEach||function(d){for(var a=0,b=this.length;a<b;a++)d(this[a],a,this)}:function(d){for(var a in this)this.hasOwnProperty(a)&&d(this[a],a,this)}).apply(c,[p])};M.prototype.getScoreFunction=function(c,p){c=this.prepareSearch(c,p);var d=c.tokens;var a=c.options.fields;var b=d.length;var f=c.options.nesting;var e=function(h,g){if(!h)return 0;h=String(h||
"");var q=h.search(g.regex);if(-1===q)return 0;h=g.string.length/h.length;0===q&&(h+=.5);return h},k=function(){var h=a.length;return h?1===h?function(g,q){return e(z(q,a[0],f),g)}:function(g,q){for(var x=0,u=0;x<h;x++)u+=e(z(q,a[x],f),g);return u/h}:function(){return 0}}();return b?1===b?function(h){return k(d[0],h)}:"and"===c.options.conjunction?function(h){for(var g,q=0,x=0;q<b;q++){g=k(d[q],h);if(0>=g)return 0;x+=g}return x/b}:function(h){for(var g=0,q=0;g<b;g++)q+=k(d[g],h);return q/b}:function(){return 0}};
M.prototype.getSortFunction=function(c,p){var d,a;var b=this;c=b.prepareSearch(c,p);var f=!c.query&&p.sort_empty||p.sort;var e=function(u,r){return"$score"===u?r.score:z(b.items[r.id],u,p.nesting)};var k=[];if(f){var h=0;for(d=f.length;h<d;h++)(c.query||"$score"!==f[h].field)&&k.push(f[h])}if(c.query){c=!0;h=0;for(d=k.length;h<d;h++)if("$score"===k[h].field){c=!1;break}c&&k.unshift({field:"$score",direction:"desc"})}else for(h=0,d=k.length;h<d;h++)if("$score"===k[h].field){k.splice(h,1);break}var g=
[];h=0;for(d=k.length;h<d;h++)g.push("desc"===k[h].direction?-1:1);if(a=k.length){if(1===a){var q=k[0].field;var x=g[0];return function(u,r){return x*Y(e(q,u),e(q,r))}}return function(u,r){var t;for(t=0;t<a;t++){var y=k[t].field;if(y=g[t]*Y(e(y,u),e(y,r)))return y}return 0}}return null};M.prototype.prepareSearch=function(c,p){if("object"===typeof c)return c;p=I({},p);var d=p.fields,a=p.sort,b=p.sort_empty;d&&!m(d)&&(p.fields=[d]);a&&!m(a)&&(p.sort=[a]);b&&!m(b)&&(p.sort_empty=[b]);return{options:p,
query:String(c||"").toLowerCase(),tokens:this.tokenize(c),total:0,items:[]}};M.prototype.search=function(c,p){var d;var a=this.prepareSearch(c,p);p=a.options;c=a.query;var b=p.score||this.getScoreFunction(a);c.length?this.iterator(this.items,function(f,e){d=b(f);(!1===p.filter||0<d)&&a.items.push({score:d,id:e})}):this.iterator(this.items,function(f,e){a.items.push({score:1,id:e})});(c=this.getSortFunction(a,p))&&a.items.sort(c);a.total=a.items.length;"number"===typeof p.limit&&(a.items=a.items.slice(0,
p.limit));return a};var Y=function(c,p){if("number"===typeof c&&"number"===typeof p)return c>p?1:c<p?-1:0;c=l(String(c||""));p=l(String(p||""));return c>p?1:p>c?-1:0},I=function(c,p){var d,a,b;var f=1;for(d=arguments.length;f<d;f++)if(b=arguments[f])for(a in b)b.hasOwnProperty(a)&&(c[a]=b[a]);return c},z=function(c,p,d){if(c&&p){if(!d)return c[p];for(p=p.split(".");p.length&&(c=c[p.shift()]););return c}},m=Array.isArray||"undefined"!==typeof $&&$.isArray||function(c){return"[object Array]"===Object.prototype.toString.call(c)},
n={a:"[a\u1e00\u1e01\u0102\u0103\u00c2\u00e2\u01cd\u01ce\u023a\u2c65\u0226\u0227\u1ea0\u1ea1\u00c4\u00e4\u00c0\u00e0\u00c1\u00e1\u0100\u0101\u00c3\u00e3\u00c5\u00e5\u0105\u0104\u00c3\u0105\u0104]",b:"[b\u2422\u03b2\u0392B\u0e3f\ud800\udf01\u16d2]",c:"[c\u0106\u0107\u0108\u0109\u010c\u010d\u010a\u010bC\u0304c\u0304\u00c7\u00e7\u1e08\u1e09\u023b\u023c\u0187\u0188\u0255\u1d04\uff23\uff43]",d:"[d\u010e\u010f\u1e0a\u1e0b\u1e10\u1e11\u1e0c\u1e0d\u1e12\u1e13\u1e0e\u1e0f\u0110\u0111D\u0326d\u0326\u0189\u0256\u018a\u0257\u018b\u018c\u1d6d\u1d81\u1d91\u0221\u1d05\uff24\uff44\u00f0]",
e:"[e\u00c9\u00e9\u00c8\u00e8\u00ca\u00ea\u1e18\u1e19\u011a\u011b\u0114\u0115\u1ebc\u1ebd\u1e1a\u1e1b\u1eba\u1ebb\u0116\u0117\u00cb\u00eb\u0112\u0113\u0228\u0229\u0118\u0119\u1d92\u0246\u0247\u0204\u0205\u1ebe\u1ebf\u1ec0\u1ec1\u1ec4\u1ec5\u1ec2\u1ec3\u1e1c\u1e1d\u1e16\u1e17\u1e14\u1e15\u0206\u0207\u1eb8\u1eb9\u1ec6\u1ec7\u2c78\u1d07\uff25\uff45\u0258\u01dd\u018f\u0190\u03b5]",f:"[f\u0191\u0192\u1e1e\u1e1f]",g:"[g\u0262\u20b2\u01e4\u01e5\u011c\u011d\u011e\u011f\u0122\u0123\u0193\u0260\u0120\u0121]",
h:"[h\u0124\u0125\u0126\u0127\u1e28\u1e29\u1e96\u1e96\u1e24\u1e25\u1e22\u1e23\u0266\u02b0\u01f6\u0195]",i:"[i\u00cd\u00ed\u00cc\u00ec\u012c\u012d\u00ce\u00ee\u01cf\u01d0\u00cf\u00ef\u1e2e\u1e2f\u0128\u0129\u012e\u012f\u012a\u012b\u1ec8\u1ec9\u0208\u0209\u020a\u020b\u1eca\u1ecb\u1e2c\u1e2d\u0197\u0268\u0268\u0306\u1d7b\u1d96\u0130iI\u0131\u026a\uff29\uff49]",j:"[j\u0237\u0134\u0135\u0248\u0249\u029d\u025f\u02b2]",k:"[k\u0198\u0199\ua740\ua741\u1e30\u1e31\u01e8\u01e9\u1e32\u1e33\u1e34\u1e35\u03ba\u03f0\u20ad]",
l:"[l\u0141\u0142\u013d\u013e\u013b\u013c\u0139\u013a\u1e36\u1e37\u1e38\u1e39\u1e3c\u1e3d\u1e3a\u1e3b\u013f\u0140\u023d\u019a\u2c60\u2c61\u2c62\u026b\u026c\u1d85\u026d\u0234\u029f\uff2c\uff4c]",n:"[n\u0143\u0144\u01f8\u01f9\u0147\u0148\u00d1\u00f1\u1e44\u1e45\u0145\u0146\u1e46\u1e47\u1e4a\u1e4b\u1e48\u1e49N\u0308n\u0308\u019d\u0272\u0220\u019e\u1d70\u1d87\u0273\u0235\u0274\uff2e\uff4e\u014a\u014b]",o:"[o\u00d8\u00f8\u00d6\u00f6\u00d3\u00f3\u00d2\u00f2\u00d4\u00f4\u01d1\u01d2\u0150\u0151\u014e\u014f\u022e\u022f\u1ecc\u1ecd\u019f\u0275\u01a0\u01a1\u1ece\u1ecf\u014c\u014d\u00d5\u00f5\u01ea\u01eb\u020c\u020d\u0555\u0585]",
p:"[p\u1e54\u1e55\u1e56\u1e57\u2c63\u1d7d\u01a4\u01a5\u1d71]",q:"[q\ua756\ua757\u02a0\u024a\u024b\ua758\ua759q\u0303]",r:"[r\u0154\u0155\u024c\u024d\u0158\u0159\u0156\u0157\u1e58\u1e59\u0210\u0211\u0212\u0213\u1e5a\u1e5b\u2c64\u027d]",s:"[s\u015a\u015b\u1e60\u1e61\u1e62\u1e63\ua7a8\ua7a9\u015c\u015d\u0160\u0161\u015e\u015f\u0218\u0219S\u0308s\u0308]",t:"[t\u0164\u0165\u1e6a\u1e6b\u0162\u0163\u1e6c\u1e6d\u01ae\u0288\u021a\u021b\u1e70\u1e71\u1e6e\u1e6f\u01ac\u01ad]",u:"[u\u016c\u016d\u0244\u0289\u1ee4\u1ee5\u00dc\u00fc\u00da\u00fa\u00d9\u00f9\u00db\u00fb\u01d3\u01d4\u0170\u0171\u016c\u016d\u01af\u01b0\u1ee6\u1ee7\u016a\u016b\u0168\u0169\u0172\u0173\u0214\u0215\u222a]",
v:"[v\u1e7c\u1e7d\u1e7e\u1e7f\u01b2\u028b\ua75e\ua75f\u2c71\u028b]",w:"[w\u1e82\u1e83\u1e80\u1e81\u0174\u0175\u1e84\u1e85\u1e86\u1e87\u1e88\u1e89]",x:"[x\u1e8c\u1e8d\u1e8a\u1e8b\u03c7]",y:"[y\u00dd\u00fd\u1ef2\u1ef3\u0176\u0177\u0178\u00ff\u1ef8\u1ef9\u1e8e\u1e8f\u1ef4\u1ef5\u024e\u024f\u01b3\u01b4]",z:"[z\u0179\u017a\u1e90\u1e91\u017d\u017e\u017b\u017c\u1e92\u1e93\u1e94\u1e95\u01b5\u01b6]"},l=function(){var c,p,d="",a={};for(p in n)if(n.hasOwnProperty(p)){var b=n[p].substring(2,n[p].length-1);d+=
b;var f=0;for(c=b.length;f<c;f++)a[b.charAt(f)]=p}var e=new RegExp("["+d+"]","g");return function(k){return k.replace(e,function(h){return a[h]}).toLowerCase()}}();return M});
(function(M,Y){"function"===typeof define&&define.amd?define("microplugin",Y):"object"===typeof exports?module.exports=Y():M.MicroPlugin=Y()})(this,function(){var M={isArray:Array.isArray||function(Y){return"[object Array]"===Object.prototype.toString.call(Y)}};return{mixin:function(Y){Y.plugins={};Y.prototype.initializePlugins=function(I){var z,m=[];this.plugins={names:[],settings:{},requested:{},loaded:{}};if(M.isArray(I)){var n=0;for(z=I.length;n<z;n++)"string"===typeof I[n]?m.push(I[n]):(this.plugins.settings[I[n].name]=
I[n].options,m.push(I[n].name))}else if(I)for(n in I)I.hasOwnProperty(n)&&(this.plugins.settings[n]=I[n],m.push(n));for(;m.length;)this.require(m.shift())};Y.prototype.loadPlugin=function(I){var z=this.plugins,m=Y.plugins[I];if(!Y.plugins.hasOwnProperty(I))throw Error('Unable to find "'+I+'" plugin');z.requested[I]=!0;z.loaded[I]=m.fn.apply(this,[this.plugins.settings[I]||{}]);z.names.push(I)};Y.prototype.require=function(I){var z=this.plugins;if(!this.plugins.loaded.hasOwnProperty(I)){if(z.requested[I])throw Error('Plugin has circular dependency ("'+
I+'")');this.loadPlugin(I)}return z.loaded[I]};Y.define=function(I,z){Y.plugins[I]={name:I,fn:z}}}}});
(function(M,Y){"function"===typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],Y):"object"===typeof exports?module.exports=Y(require("jquery"),require("sifter"),require("microplugin")):M.Selectize=Y(M.jQuery,M.Sifter,M.MicroPlugin)})(this,function(M,Y,I){var z=function(r,t){if("string"!==typeof t||t.length){var y="string"===typeof t?new RegExp(t,"i"):t,w=function(A){var F=0;if(3===A.nodeType){var C=A.data.search(y);if(0<=C&&0<A.data.length){var J=A.data.match(y);F=document.createElement("span");
F.className="highlight";A=A.splitText(C);A.splitText(J[0].length);C=A.cloneNode(!0);F.appendChild(C);A.parentNode.replaceChild(F,A);F=1}}else if(1===A.nodeType&&A.childNodes&&!/(script|style)/i.test(A.tagName)&&("highlight"!==A.className||"SPAN"!==A.tagName))for(C=0;C<A.childNodes.length;++C)C+=w(A.childNodes[C]);return F};return r.each(function(){w(this)})}};M.fn.removeHighlight=function(){return this.find("span.highlight").each(function(){this.parentNode.firstChild.nodeName;var r=this.parentNode;
r.replaceChild(this.firstChild,this);r.normalize()}).end()};var m=function(){};m.prototype={on:function(r,t){this._events=this._events||{};this._events[r]=this._events[r]||[];this._events[r].push(t)},off:function(r,t){var y=arguments.length;if(0===y)return delete this._events;if(1===y)return delete this._events[r];this._events=this._events||{};!1!==r in this._events&&this._events[r].splice(this._events[r].indexOf(t),1)},trigger:function(r){this._events=this._events||{};if(!1!==r in this._events)for(var t=
0;t<this._events[r].length;t++)this._events[r][t].apply(this,Array.prototype.slice.call(arguments,1))}};m.mixin=function(r){for(var t=["on","off","trigger"],y=0;y<t.length;y++)r.prototype[t[y]]=m.prototype[t[y]]};var n=/Mac/.test(navigator.userAgent),l=n?91:17,c=n?18:17,p=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("input").validity,d=function(r){return"undefined"===typeof r||null===r?null:"boolean"===typeof r?r?"1":"0":r+""},a=function(r){return(r+"").replace(/&/g,"\x26amp;").replace(/</g,
"\x26lt;").replace(/>/g,"\x26gt;").replace(/"/g,"\x26quot;")},b=function(r){var t=!1;return function(){t||(t=!0,r.apply(this,arguments))}},f=function(r,t){var y;return function(){var w=this,A=arguments;window.clearTimeout(y);y=window.setTimeout(function(){r.apply(w,A)},t)}},e=function(r,t,y){var w,A=r.trigger,F={};r.trigger=function(){var C=arguments[0];if(-1!==t.indexOf(C))F[C]=arguments;else return A.apply(r,arguments)};y.apply(r,[]);r.trigger=A;for(w in F)F.hasOwnProperty(w)&&A.apply(r,F[w])},
k=function(r,t,y,w){r.on(t,y,function(A){for(var F=A.target;F&&F.parentNode!==r[0];)F=F.parentNode;A.currentTarget=F;return w.apply(this,[A])})},h=function(r){var t={};if("selectionStart"in r)t.start=r.selectionStart,t.length=r.selectionEnd-t.start;else if(document.selection){r.focus();var y=document.selection.createRange(),w=document.selection.createRange().text.length;y.moveStart("character",-r.value.length);t.start=y.text.length-w;t.length=w}return t},g=function(r){var t=null,y=function(w,A){w=
w||window.event||{};A=A||{};if(!w.metaKey&&!w.altKey&&(A.force||!1!==r.data("grow"))){A=r.val();if(w.type&&"keydown"===w.type.toLowerCase()){var F=w.keyCode;var C=48<=F&&57>=F||65<=F&&90>=F||96<=F&&111>=F||186<=F&&222>=F||32===F;46===F||8===F?(w=h(r[0]),w.length?A=A.substring(0,w.start)+A.substring(w.start+w.length):8===F&&w.start?A=A.substring(0,w.start-1)+A.substring(w.start+1):46===F&&"undefined"!==typeof w.start&&(A=A.substring(0,w.start)+A.substring(w.start+1))):C&&(F=w.shiftKey,w=String.fromCharCode(w.keyCode),
w=F?w.toUpperCase():w.toLowerCase(),A+=w)}w=r.attr("placeholder");!A&&w&&(A=w);if(A){u.$testInput||(u.$testInput=M("\x3cspan /\x3e").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).appendTo("body"));u.$testInput.text(A);A=u.$testInput;w=["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"];var J={};if(w)for(F=0,C=w.length;F<C;F++)J[w[F]]=r.css(w[F]);else J=r.css();A.css(J);A=u.$testInput.width()}else A=0;A+=4;A!==t&&(t=A,r.width(A),r.triggerHandler("resize"))}};
r.on("keydown keyup update blur",y);y()},q=function(r){var t=document.createElement("div");t.appendChild(r.cloneNode(!0));return t.innerHTML},x=function(r,t){t||(t={});console.error("Selectize: "+r);t.explanation&&(console.group&&console.group(),console.error(t.explanation),console.group&&console.groupEnd())},u=function(r,t){var y=r[0];y.selectize=this;var w=(w=(w=window.getComputedStyle&&window.getComputedStyle(y,null))?w.getPropertyValue("direction"):y.currentStyle&&y.currentStyle.direction)||r.parents("[dir]:first").attr("dir")||
"";M.extend(this,{order:0,settings:t,$input:r,tabIndex:r.attr("tabindex")||"",tagType:"select"===y.tagName.toLowerCase()?1:2,rtl:/rtl/i.test(w),eventNS:".selectize"+ ++u.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:r.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,
$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===t.loadThrottle?this.onSearchChange:f(this.onSearchChange,t.loadThrottle)});this.sifter=new Y(this.options,{diacritics:t.diacritics});if(this.settings.options){r=0;for(t=this.settings.options.length;r<t;r++)this.registerOption(this.settings.options[r]);delete this.settings.options}if(this.settings.optgroups){r=0;for(t=this.settings.optgroups.length;r<t;r++)this.registerOptionGroup(this.settings.optgroups[r]);
delete this.settings.optgroups}this.settings.mode=this.settings.mode||(1===this.settings.maxItems?"single":"multi");"boolean"!==typeof this.settings.hideSelected&&(this.settings.hideSelected="multi"===this.settings.mode);this.initializePlugins(this.settings.plugins);this.setupCallbacks();this.setupTemplates();this.setup()};m.mixin(u);"undefined"!==typeof I?I.mixin(u):x("Dependency MicroPlugin is missing",{explanation:'Make sure you either: (1) are using the "standalone" version of Selectize, or (2) require MicroPlugin before you load Selectize.'});
M.extend(u.prototype,{setup:function(){var r=this,t=r.settings,y=r.eventNS,w=M(window),A=M(document),F=r.$input,C,J;var B=r.settings.mode;var G=F.attr("class")||"";var E=M("\x3cdiv\x3e").addClass(t.wrapperClass).addClass(G).addClass(B);var v=M('\x3cdiv aria-hidden\x3d"true"\x3e'+r.settings.placeholder+"\x3c/div\x3e").addClass("visuallyhidden").appendTo(E);var D=M('\x3cdiv role\x3d"listbox" tabindex\x3d"0" aria-invalid\x3d"false" aria-expanded\x3d"false" aria-disabled\x3d"false" aria-haspopup\x3d"true" aria-autocomplete\x3d"list"\x3e').addClass(t.inputClass).addClass("items").appendTo(E);
r.settings.placeholder&&(C=M("\x3cdiv\x3e"+r.settings.placeholder+"\x3c/div\x3e").addClass("placeholder").appendTo(D));var K=M('\x3cinput type\x3d"hidden" readonly\x3d"readonly" disabled\x3d"disabled" aria-hidden\x3d"true" aria-autocomplete\x3d"off" /\x3e').appendTo(D).attr("tabindex",(F.is(":disabled"),"-1"));var P=M(t.dropdownParent||E);P=M('\x3cdiv role\x3d"region"\x3e').addClass(t.dropdownClass).addClass(B).hide().appendTo(P);B=M('\x3cdiv role\x3d"listbox" tabindex\x3d"0" aria-disabled\x3d"false" aria-hidden\x3d"true"\x3e').addClass(t.dropdownContentClass).appendTo(P);
if(J=F.attr("id"))M("label[id\x3d'"+J+"_label']").attr("for",J+"_selectized"),D.attr("id",J+"_selectized"),D.attr("aria-owns",J+"_menu"),B.attr("id",J+"_menu"),P.attr("aria-labelledby",J+"_menu");F.attr("aria-label")&&(D.attr("aria-label",F.attr("aria-label")),K.attr("aria-label",F.attr("aria-label")));F.attr("aria-labelledBy")&&D.attr("aria-labelledBy",F.attr("aria-labelledBy"));F.attr("aria-describedby")&&(v.attr("id",J+"_selected_text"),D.attr("aria-describedby",J+"_selected_text "+J+"_message"));
F.attr("required")&&(D.attr("required",F.attr("required")),D.attr("aria-required",!0));r.settings.copyClassesToDropdown&&P.addClass(G);E.css({width:F[0].style.width});r.plugins.names.length&&(G="plugin-"+r.plugins.names.join(" plugin-"),E.addClass(G),P.addClass(G));(null===t.maxItems||1<t.maxItems)&&1===r.tagType&&F.attr("multiple","multiple");!r.settings.splitOn&&r.settings.delimiter&&(G=r.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$\x26"),r.settings.splitOn=new RegExp("\\s*"+G+"+\\s*"));
F.attr("autocorrect")&&K.attr("autocorrect",F.attr("autocorrect"));F.attr("autocapitalize")&&K.attr("autocapitalize",F.attr("autocapitalize"));K[0].type=F[0].type;r.$wrapper=E;r.$selected_value=v;r.$control=D;r.$control_input=K;r.$control_placeholder=C;r.$dropdown=P;r.$dropdown_content=B;P.on("mouseenter mousedown click","[data-disabled]\x3e[data-selectable]",function(Q){Q.stopImmediatePropagation()});P.on("mousedown click","[data-selectable]",function(){return r.onOptionSelect.apply(r,arguments)});
k(D,"mousedown","*:not(input)",function(){return r.onItemSelect.apply(r,arguments)});g(K);D.on({mousedown:function(){return r.onMouseDown.apply(r,arguments)},keydown:function(){return r.onKeyDown.apply(r,arguments)},keyup:function(){return r.onKeyUp.apply(r,arguments)},keypress:function(){return r.onKeyPress.apply(r,arguments)},resize:function(){r.positionDropdown.apply(r,[])},blur:function(){return r.onBlur.apply(r,arguments)},focus:function(){r.ignoreBlur=!1;return r.onFocus.apply(r,arguments)},
paste:function(){return r.onPaste.apply(r,arguments)}});P.on({keydown:function(){return r.onKeyDown.apply(r,arguments)}});P.on("blur ",".option",function(Q){r.isOpen||r.trigger("blur")});A.on("keydown"+y,function(Q){r.isCmdDown=Q[n?"metaKey":"ctrlKey"];r.isCtrlDown=Q[n?"altKey":"ctrlKey"];r.isShiftDown=Q.shiftKey});A.on("keyup"+y,function(Q){Q.keyCode===c&&(r.isCtrlDown=!1);16===Q.keyCode&&(r.isShiftDown=!1);Q.keyCode===l&&(r.isCmdDown=!1)});A.on("mousedown"+y,function(Q){if(r.isFocused||r.isOpen){if(Q.target===
r.$dropdown[0]||Q.target.parentNode===r.$dropdown[0])return!1;r.$control.has(Q.target).length||Q.target===r.$control[0]||r.blur(Q.target,!0)}});w.on(["scroll"+y,"resize"+y].join(" "),function(){r.isOpen&&r.positionDropdown.apply(r,arguments)});w.on("mousemove"+y,function(){r.ignoreHover=!1});this.revertSettings={$children:F.children().detach(),tabindex:F.attr("tabindex")};F.attr("tabindex",-1).hide().after(r.$wrapper);M.isArray(t.items)&&(r.setValue(t.items),delete t.items);if(p)F.on("invalid"+y,
function(Q){Q.preventDefault();r.isInvalid=!0;r.refreshState()});r.updateOriginalInput();r.refreshItems();r.refreshState();r.updatePlaceholder();r.isSetup=!0;F.is(":disabled")&&r.disable();r.on("change",this.onChange);F.data("selectize",r);F.addClass("selectized");r.trigger("initialize");if(!0===t.preload)r.onSearchChange("")},setupTemplates:function(){var r=this.settings.labelField,t=this.settings.optgroupLabelField;this.settings.render=M.extend({},{optgroup:function(y){return'\x3cdiv class\x3d"optgroup"\x3e'+
y.html+"\x3c/div\x3e"},optgroup_header:function(y,w){return'\x3cdiv class\x3d"optgroup-header"\x3e'+w(y[t])+"\x3c/div\x3e"},option:function(y,w){return'\x3cdiv class\x3d"option"\x3e'+w(y[r])+"\x3c/div\x3e"},item:function(y,w){return'\x3cdiv class\x3d"item"\x3e'+w(y[r])+"\x3c/div\x3e"},option_create:function(y,w){return'\x3cdiv class\x3d"create"\x3eAdd \x3cstrong\x3e'+w(y.input)+"\x3c/strong\x3e\x26hellip;\x3c/div\x3e"}},this.settings.render)},setupCallbacks:function(){var r,t,y={initialize:"onInitialize",
change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(r in y)if(y.hasOwnProperty(r)&&(t=this.settings[y[r]]))this.on(r,t)},onClick:function(r){this.isFocused&&
this.isOpen||(this.focus(),r.preventDefault())},onMouseDown:function(r){r.isDefaultPrevented();M(r.target);this.isOpen?this.close():this.open()},onChange:function(){this.$input.trigger("change")},onPaste:function(r){var t=this;t.isFull()||t.isInputHidden||t.isLocked?r.preventDefault():t.settings.splitOn&&setTimeout(function(){var y=t.$control_input.val();if(y.match(t.settings.splitOn)){y=M.trim(y).split(t.settings.splitOn);for(var w=0,A=y.length;w<A;w++)t.createItem(y[w])}},0)},onKeyPress:function(r){if(this.isLocked)return r&&
r.preventDefault();var t=String.fromCharCode(r.keyCode||r.which);if(this.settings.create&&"multi"===this.settings.mode&&t===this.settings.delimiter)return this.createItem(),r.preventDefault(),!1},onKeyDown:function(r){if(this.isLocked)9!==r.keyCode&&r.preventDefault();else{switch(r.keyCode){case 65:if(this.isCmdDown){this.selectAll();return}break;case 27:this.isOpen&&(r.preventDefault(),r.stopPropagation(),this.close(),this.$control[0].focus());return;case 78:if(!r.ctrlKey||r.altKey)break;case 40:if(!this.isOpen&&
this.hasOptions)this.open();else if(this.$activeOption){this.ignoreHover=!0;var t=this.getAdjacentOption(this.$activeOption,1);t.length&&this.setActiveOption(t,!0,!0)}r.preventDefault();return;case 80:if(!r.ctrlKey||r.altKey)break;case 38:this.$activeOption&&(this.ignoreHover=!0,t=this.getAdjacentOption(this.$activeOption,-1),t.length&&this.setActiveOption(t,!0,!0));r.preventDefault();return;case 13:!this.isOpen&&this.hasOptions?this.open():this.isOpen&&this.$activeOption&&(this.onOptionSelect({currentTarget:this.$activeOption}),
r.preventDefault());return;case 37:this.advanceSelection(-1,r);return;case 39:this.advanceSelection(1,r);return;case 9:this.isOpen&&(r.preventDefault(),r.stopPropagation(),this.close(),this.$control[0].focus());this.settings.selectOnTab&&this.isOpen&&this.$activeOption&&(this.onOptionSelect({currentTarget:this.$activeOption}),this.isFull()||r.preventDefault());this.settings.create&&this.createItem()&&r.preventDefault();return;case 8:case 46:return}!this.isFull()&&!this.isInputHidden||(n?r.metaKey:
r.ctrlKey)||r.preventDefault()}},onKeyUp:function(r){if(this.isLocked)return r&&r.preventDefault();r=this.$control_input.val()||"";this.lastValue!==r&&(this.lastValue=r,this.onSearchChange(r),this.refreshOptions(),this.trigger("type",r))},onSearchChange:function(r){var t=this,y=t.settings.load;y&&!t.loadedSearches.hasOwnProperty(r)&&(t.loadedSearches[r]=!0,t.load(function(w){y.apply(t,[r,w])}))},onFocus:function(r){var t=this.isFocused;if(this.isDisabled)return this.blur(),r&&r.preventDefault(),!1;
if(!this.ignoreFocus){this.isFocused=!0;if("focus"===this.settings.preload)this.onSearchChange("");t||this.trigger("focus");this.$activeItems.length||(this.showInput(),this.setActiveItem(null),this.refreshOptions(!!this.settings.openOnFocus));this.refreshState()}},onBlur:function(r,t,y){var w=this;w.isOpen&&y&&w.close();w.isFocused&&(w.isFocused=!1,w.$activeOption?w.isOpen||w.trigger("blur"):w.ignoreFocus||(w.ignoreBlur||document.activeElement!==w.$dropdown_content[0]?(r=function(){w.close();w.setTextboxValue("");
w.setActiveItem(null);w.setActiveOption(null);w.setCaret(w.items.length);w.refreshState();t&&t.focus&&t.focus();w.ignoreFocus=!1;w.trigger("blur")},w.ignoreFocus=!0,w.settings.create&&w.settings.createOnBlur?w.createItem(null,!1,r):r()):(w.ignoreBlur=!0,w.onFocus(r))))},onOptionHover:function(r){this.ignoreHover||this.setActiveOption(r.currentTarget,!1)},onOptionSelect:function(r){var t=this;r.preventDefault&&(r.preventDefault(),r.stopPropagation());var y=M(r.currentTarget);y.hasClass("create")?t.createItem(null,
function(){t.settings.closeAfterSelect&&t.close()}):(y=y.attr("data-value"),"undefined"!==typeof y&&(t.lastQuery=null,t.setTextboxValue(""),t.addItem(y),t.$control[0].focus(),t.settings.closeAfterSelect?t.close():!t.settings.hideSelected&&r.type&&/mouse/.test(r.type)&&t.setActiveOption(t.getOption(y))))},onItemSelect:function(r){this.isLocked||"multi"!==this.settings.mode||(r.preventDefault(),this.setActiveItem(r.currentTarget,r))},load:function(r){var t=this,y=t.$wrapper.addClass(t.settings.loadingClass);
t.loading++;r.apply(t,[function(w){t.loading=Math.max(t.loading-1,0);w&&w.length&&(t.addOption(w),t.refreshOptions(t.isFocused&&!t.isInputHidden));t.loading||y.removeClass(t.settings.loadingClass);t.trigger("load",w)}])},setTextboxValue:function(r){var t=this.$control_input;t.val()!==r&&(t.val(r).triggerHandler("update"),this.lastValue=r)},getValue:function(){return 1===this.tagType&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(r,t){e(this,t?
[]:["change"],function(){this.clear(t);this.addItems(r,t)})},setActiveItem:function(r,t){if("single"!==this.settings.mode)if(r=M(r),r.length){var y=t&&t.type.toLowerCase();if("mousedown"===y&&this.isShiftDown&&this.$activeItems.length){y=this.$control.children(".active:last");y=Array.prototype.indexOf.apply(this.$control[0].childNodes,[y[0]]);r=Array.prototype.indexOf.apply(this.$control[0].childNodes,[r[0]]);if(y>r){var w=y;y=r;r=w}for(;y<=r;y++)w=this.$control[0].childNodes[y],-1===this.$activeItems.indexOf(w)&&
(M(w).addClass("active"),this.$activeItems.push(w));t.preventDefault()}else"mousedown"===y&&this.isCtrlDown||"keydown"===y&&this.isShiftDown?r.hasClass("active")?(t=this.$activeItems.indexOf(r[0]),this.$activeItems.splice(t,1),r.removeClass("active")):this.$activeItems.push(r.addClass("active")[0]):(M(this.$activeItems).removeClass("active"),this.$activeItems=[r.addClass("active")[0]]);this.hideInput()}else M(this.$activeItems).removeClass("active"),this.$activeItems=[],this.isFocused&&this.showInput()},
setActiveOption:function(r,t,y){this.$activeOption&&(this.$activeOption.removeClass("active"),this.$activeOption.hasClass("selected")||this.$activeOption.hasClass("active")||this.$activeOption.attr("tabindex",-1));this.$activeOption=null;r=M(r);if(r.length&&(this.$activeOption=r.addClass("active"),this.$activeOption=r.attr("tabindex",0),this.$activeOption.focus(),t||"undefined"===typeof t)){r=this.$dropdown_content.height();var w=this.$activeOption.outerHeight(!0);t=this.$dropdown_content.scrollTop()||
0;var A=this.$activeOption.offset().top-this.$dropdown_content.offset().top+t;var F=A-r+w;A+w>r+t?this.$dropdown_content.stop().animate({scrollTop:F},y?this.settings.scrollDuration:0):A<t&&this.$dropdown_content.stop().animate({scrollTop:A},y?this.settings.scrollDuration:0)}},selectAll:function(){"single"!==this.settings.mode&&(this.$activeItems=Array.prototype.slice.apply(this.$control.children(":not(input)").addClass("active")),this.$activeItems.length&&(this.hideInput(),this.close()),this.focus())},
hideInput:function(){this.setTextboxValue("");this.$control_input.css({opacity:0,position:"absolute",left:this.rtl?1E4:-1E4});this.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0});this.isInputHidden=!1},focus:function(){var r=this;r.isDisabled||(r.ignoreFocus=!0,r.$control[0].focus(),window.setTimeout(function(){r.ignoreFocus=!1;r.onFocus()},0))},blur:function(r,t){this.$control[0].blur();this.onBlur(null,r,t)},getScoreFunction:function(r){return this.sifter.getScoreFunction(r,
this.getSearchOptions())},getSearchOptions:function(){var r=this.settings,t=r.sortField;"string"===typeof t&&(t=[{field:t}]);return{fields:r.searchField,conjunction:r.searchConjunction,sort:t,nesting:r.nesting}},search:function(r){var t=this.settings;var y=this.getSearchOptions();if(t.score){var w=this.settings.score.apply(this,[r]);if("function"!==typeof w)throw Error('Selectize "score" setting must be a function that returns a function');}r!==this.lastQuery?(this.lastQuery=r,this.currentResults=
r=this.sifter.search(r,M.extend(y,{score:w}))):r=M.extend(!0,{},this.currentResults);if(t.hideSelected)for(t=r.items.length-1;0<=t;t--)-1!==this.items.indexOf(d(r.items[t].id))&&r.items.splice(t,1);return r},refreshOptions:function(r){var t,y,w;"undefined"===typeof r&&(r=!0);var A=this;var F=M.trim(A.$control_input.val());var C=A.search(F),J=A.$dropdown_content,B=A.$activeOption&&d(A.$activeOption.attr("data-value"));var G=C.items.length;"number"===typeof A.settings.maxOptions&&(G=Math.min(G,A.settings.maxOptions));
var E={};var v=[];for(t=0;t<G;t++){var D=A.options[C.items[t].id];var K=A.render("option",D);D=D[A.settings.optgroupField]||"";var P=M.isArray(D)?D:[D];var Q=0;for(y=P&&P.length;Q<y;Q++)D=P[Q],A.optgroups.hasOwnProperty(D)||(D=""),E.hasOwnProperty(D)||(E[D]=document.createDocumentFragment(),v.push(D)),E[D].appendChild(K)}this.settings.lockOptgroupOrder&&v.sort(function(T,H){return(A.optgroups[T].$order||0)-(A.optgroups[H].$order||0)});K=document.createDocumentFragment();t=0;for(G=v.length;t<G;t++)D=
v[t],A.optgroups.hasOwnProperty(D)&&E[D].childNodes.length?(Q=document.createDocumentFragment(),Q.appendChild(A.render("optgroup_header",A.optgroups[D])),Q.appendChild(E[D]),K.appendChild(A.render("optgroup",M.extend({},A.optgroups[D],{html:q(Q),dom:Q})))):K.appendChild(E[D]);J.html(K);if(A.settings.highlight&&(J.removeHighlight(),C.query.length&&C.tokens.length))for(t=0,G=C.tokens.length;t<G;t++)z(J,C.tokens[t].regex);if(!A.settings.hideSelected)for(t=J.find(".selected"),t.removeClass("selected"),
t.attr("aria-selected",!1),t.attr("tabindex",-1),t=0,G=A.items.length;t<G;t++)A.getOption(A.items[t]).addClass("selected"),A.getOption(A.items[t]).addClass("active"),A.getOption(A.items[t]).attr("aria-selected",!0);if(t=A.canCreate(F)){J.prepend(A.render("option_create",{input:F}));var N=M(J[0].childNodes[0])}A.hasOptions=0<C.items.length||t;A.hasOptions?(0<C.items.length?((F=B&&A.getOption(B))&&F.length?w=F:"single"===A.settings.mode&&A.items.length&&(w=A.getOption(A.items[0])),w&&w.length||(w=N&&
!A.settings.addPrecedence?A.getAdjacentOption(N,1):J.find("[data-selectable]:first"))):w=N,A.setActiveOption(w),r&&!A.isOpen&&A.open()):(A.setActiveOption(null),r&&A.isOpen&&A.close())},addOption:function(r){var t;if(M.isArray(r)){var y=0;for(t=r.length;y<t;y++)this.addOption(r[y])}else if(y=this.registerOption(r))this.userOptions[y]=!0,this.lastQuery=null,this.trigger("option_add",y,r)},registerOption:function(r){var t=d(r[this.settings.valueField]);if("undefined"===typeof t||null===t||this.options.hasOwnProperty(t))return!1;
r.$order=r.$order||++this.order;this.options[t]=r;return t},registerOptionGroup:function(r){var t=d(r[this.settings.optgroupValueField]);if(!t)return!1;r.$order=r.$order||++this.order;this.optgroups[t]=r;return t},addOptionGroup:function(r,t){t[this.settings.optgroupValueField]=r;(r=this.registerOptionGroup(t))&&this.trigger("optgroup_add",r,t)},removeOptionGroup:function(r){this.optgroups.hasOwnProperty(r)&&(delete this.optgroups[r],this.renderCache={},this.trigger("optgroup_remove",r))},clearOptionGroups:function(){this.optgroups=
{};this.renderCache={};this.trigger("optgroup_clear")},updateOption:function(r,t){r=d(r);var y=d(t[this.settings.valueField]);if(null!==r&&this.options.hasOwnProperty(r)){if("string"!==typeof y)throw Error("Value must be set in option data");var w=this.options[r].$order;if(y!==r){delete this.options[r];var A=this.items.indexOf(r);-1!==A&&this.items.splice(A,1,y)}t.$order=t.$order||w;this.options[y]=t;A=this.renderCache.item;w=this.renderCache.option;A&&(delete A[r],delete A[y]);w&&(delete w[r],delete w[y]);
-1!==this.items.indexOf(y)&&(r=this.getItem(r),t=M(this.render("item",t)),r.hasClass("active")&&t.addClass("active"),r.replaceWith(t));this.lastQuery=null;this.isOpen&&this.refreshOptions(!1)}},removeOption:function(r,t){r=d(r);var y=this.renderCache.item,w=this.renderCache.option;y&&delete y[r];w&&delete w[r];delete this.userOptions[r];delete this.options[r];this.lastQuery=null;this.trigger("option_remove",r);this.removeItem(r,t)},clearOptions:function(){this.loadedSearches={};this.userOptions={};
this.renderCache={};this.options=this.sifter.items={};this.lastQuery=null;this.trigger("option_clear");this.clear()},getOption:function(r){return this.getElementWithValue(r,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(r,t){var y=this.$dropdown.find("[data-selectable]");r=y.index(r)+t;return 0<=r&&r<y.length?y.eq(r):M()},getElementWithValue:function(r,t){r=d(r);if("undefined"!==typeof r&&null!==r)for(var y=0,w=t.length;y<w;y++)if(t[y].getAttribute("data-value")===r)return M(t[y]);
return M()},getItem:function(r){return this.getElementWithValue(r,this.$control.children())},addItems:function(r,t){this.buffer=document.createDocumentFragment();for(var y=this.$control[0].childNodes,w=0;w<y.length;w++)this.buffer.appendChild(y[w]);r=M.isArray(r)?r:[r];w=0;for(y=r.length;w<y;w++)this.isPending=w<y-1,this.addItem(r[w],t);t=this.$control[0];t.insertBefore(this.buffer,t.firstChild);this.buffer=null},addItem:function(r,t){e(this,t?[]:["change"],function(){var y=this.settings.mode;r=d(r);
if(-1!==this.items.indexOf(r))"single"===y&&this.close();else if(this.options.hasOwnProperty(r)&&("single"===y&&this.clear(t),"multi"!==y||!this.isFull())){var w=M(this.render("item",this.options[r]));var A=this.isFull();this.items.splice(this.caretPos,0,r);this.insertAtCaret(w);(!this.isPending||!A&&this.isFull())&&this.refreshState();if(this.isSetup){A=this.$dropdown_content.find("[data-selectable]");if(!this.isPending){var F=this.getOption(r);F=this.getAdjacentOption(F,1).attr("data-value");this.refreshOptions(this.isFocused&&
"single"!==y);F&&this.setActiveOption(this.getOption(F))}!A.length||this.isFull()?this.close():this.isPending||this.positionDropdown();this.updatePlaceholder();this.trigger("item_add",r,w);this.isPending||this.updateOriginalInput({silent:t})}w.text()&&this.$selected_value.text(w.text())}})},removeItem:function(r,t){var y=r instanceof M?r:this.getItem(r);r=d(y.attr("data-value"));var w=this.items.indexOf(r);if(-1!==w){y.remove();if(y.hasClass("active")){var A=this.$activeItems.indexOf(y[0]);this.$activeItems.splice(A,
1)}this.items.splice(w,1);this.lastQuery=null;!this.settings.persist&&this.userOptions.hasOwnProperty(r)&&this.removeOption(r,t);w<this.caretPos&&this.setCaret(this.caretPos-1);this.refreshState();this.updatePlaceholder();this.updateOriginalInput({silent:t});this.positionDropdown();this.trigger("item_remove",r,y)}},createItem:function(r,t){var y=this,w=y.caretPos;r=r||M.trim(y.$control_input.val()||"");var A=arguments[arguments.length-1];"function"!==typeof A&&(A=function(){});"boolean"!==typeof t&&
(t=!0);if(!y.canCreate(r))return A(),!1;y.lock();var F="function"===typeof y.settings.create?this.settings.create:function(J){var B={};B[y.settings.labelField]=J;B[y.settings.valueField]=J;return B},C=b(function(J){y.unlock();if(!J||"object"!==typeof J)return A();var B=d(J[y.settings.valueField]);if("string"!==typeof B)return A();y.setTextboxValue("");y.addOption(J);y.setCaret(w);y.addItem(B);y.refreshOptions(t&&"single"!==y.settings.mode);A(J)});F=F.apply(this,[r,C]);"undefined"!==typeof F&&C(F);
return!0},refreshItems:function(){this.lastQuery=null;this.isSetup&&this.addItem(this.items);this.refreshState();this.updateOriginalInput()},refreshState:function(){this.refreshValidityState();this.refreshClasses()},refreshValidityState:function(){if(!this.isRequired)return!1;var r=!this.items.length;this.isInvalid=r;this.$control_input.prop("required",r)},refreshClasses:function(){var r=this.isFull(),t=this.isLocked;this.$wrapper.toggleClass("rtl",this.rtl);this.$control.toggleClass("focus",this.isFocused).toggleClass("disabled",
this.isDisabled).toggleClass("required",this.isRequired).toggleClass("invalid",this.isInvalid).toggleClass("locked",t).toggleClass("full",r).toggleClass("not-full",!r).toggleClass("input-active",this.isFocused&&!this.isInputHidden).toggleClass("dropdown-active",this.isOpen).toggleClass("has-options",!M.isEmptyObject(this.options)).toggleClass("has-items",0<this.items.length);this.$control_input.data("grow",!r&&!t)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},
updateOriginalInput:function(r){var t;r=r||{};if(1===this.tagType){var y=[];var w=0;for(t=this.items.length;w<t;w++){var A=this.options[this.items[w]][this.settings.labelField]||"";y.push('\x3coption value\x3d"'+a(this.items[w])+'" selected\x3d"selected"\x3e'+a(A)+"\x3c/option\x3e")}y.length||this.$input.attr("multiple")||y.push('\x3coption value\x3d"" selected\x3d"selected"\x3e\x3c/option\x3e');this.$input.html(y.join(""))}else this.$input.val(this.getValue()),this.$input.attr("value",this.$input.val());
this.isSetup&&(r.silent||this.trigger("change",this.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var r=this.$control_input;this.items.length?(r.removeAttr("placeholder"),this.$control_placeholder.remove(),self.isSetup&&this.$selected_value.text("")):(this.$control_placeholder.appendTo(this.$control),this.$selected_value.text(this.settings.placeholder));r.triggerHandler("update",{force:!0})}},open:function(){this.isLocked||this.isOpen||"multi"===this.settings.mode&&this.isFull()||
(this.focus(),this.isOpen=!0,this.refreshState(),this.$dropdown.css({visibility:"hidden",display:"block"}),this.positionDropdown(),this.$dropdown.css({visibility:"visible"}),this.$control.attr("aria-expanded","true"),this.$dropdown_content.attr("aria-hidden","false"),this.trigger("dropdown_open",this.$dropdown))},close:function(){var r=this,t=r.isOpen;"single"===r.settings.mode&&r.items.length&&(r.hideInput(),setTimeout(function(){r.settings.openOnFocus&&r.$control_input.blur()}));r.isOpen=!1;r.$dropdown.hide();
r.setActiveOption(null);r.refreshState();r.$dropdown.css({visibility:"hidden"});r.$control.attr("aria-expanded","false");r.$dropdown_content.attr("aria-hidden","true");t&&r.trigger("dropdown_close",r.$dropdown)},positionDropdown:function(){var r=this.$control,t="body"===this.settings.dropdownParent?r.offset():r.position();t.top+=r.outerHeight(!0);this.$dropdown.css({width:r[0].getBoundingClientRect().width,top:t.top+1,left:t.left})},clear:function(r){this.items.length&&(this.$control.children(":not(input)").remove(),
this.items=[],this.lastQuery=null,this.setCaret(0),this.setActiveItem(null),this.updatePlaceholder(),this.updateOriginalInput({silent:r}),this.refreshState(),this.showInput(),this.trigger("clear"))},insertAtCaret:function(r){var t=Math.min(this.caretPos,this.items.length);r=r[0];var y=this.buffer||this.$control[0];0===t?y.insertBefore(r,y.firstChild):y.insertBefore(r,y.childNodes[t]);this.setCaret(t+1)},deleteSelection:function(r){var t;var y=r&&8===r.keyCode?-1:1;var w=h(this.$control_input[0]);
this.$activeOption&&!this.settings.hideSelected&&(t=this.getAdjacentOption(this.$activeOption,-1).attr("data-value"));var A=[];if(this.$activeItems.length){var F=this.$control.children(".active:"+(0<y?"last":"first"));F=this.$control.children(":not(input)").index(F);0<y&&F++;y=0;for(w=this.$activeItems.length;y<w;y++)A.push(M(this.$activeItems[y]).attr("data-value"));r&&(r.preventDefault(),r.stopPropagation())}else(this.isFocused||"single"===this.settings.mode)&&this.items.length&&(0>y&&0===w.start&&
0===w.length?A.push(this.items[this.caretPos-1]):0<y&&w.start===this.$control_input.val().length&&A.push(this.items[this.caretPos]));if(!A.length||"function"===typeof this.settings.onDelete&&!1===this.settings.onDelete.apply(this,[A]))return!1;for("undefined"!==typeof F&&this.setCaret(F);A.length;)this.removeItem(A.pop());this.showInput();this.positionDropdown();this.refreshOptions(!0);t&&(r=this.getOption(t),r.length&&this.setActiveOption(r));return!0},advanceSelection:function(r,t){if(0!==r){this.rtl&&
(r*=-1);var y=0<r?"last":"first";var w=h(this.$control_input[0]);this.isFocused&&!this.isInputHidden?(y=this.$control_input.val().length,(w=0>r?0===w.start&&0===w.length:w.start===y)&&!y&&this.advanceCaret(r,t)):(t=this.$control.children(".active:"+y),t.length&&(t=this.$control.children(":not(input)").index(t),this.setActiveItem(null),this.setCaret(0<r?t+1:t)))}},advanceCaret:function(r,t){if(0!==r){var y=0<r?"next":"prev";this.isShiftDown?(r=this.$control_input[y](),r.length&&(this.hideInput(),this.setActiveItem(r),
t&&t.preventDefault())):this.setCaret(this.caretPos+r)}},setCaret:function(r){r="single"===this.settings.mode?this.items.length:Math.max(0,Math.min(this.items.length,r));if(!this.isPending){var t;var y=this.$control.children(":not(input)");var w=0;for(t=y.length;w<t;w++){var A=M(y[w]).detach();w<r?this.$control_input.before(A):this.$control.append(A)}}this.caretPos=r},lock:function(){this.close();this.isLocked=!0;this.refreshState()},unlock:function(){this.isLocked=!1;this.refreshState()},disable:function(){this.$input.prop("disabled",
!0);this.$control.prop("disabled",!0).prop("tabindex",-1);this.isDisabled=!0;this.lock()},enable:function(){this.$input.prop("disabled",!1);this.$control.prop("disabled",!1).prop("tabindex",this.tabIndex);this.isDisabled=!1;this.unlock()},disableFocus:function(){this.$control.prop("tabindex","-1")},enableFocus:function(){this.$control.prop("tabindex","0")},hiddenInput:function(){this.$control_input[0].type="hidden"},destroy:function(){var r=this.eventNS,t=this.revertSettings;this.trigger("destroy");
this.off();this.$wrapper.remove();this.$dropdown.remove();this.$input.html("").append(t.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:t.tabindex}).show();this.$control_input.removeData("grow");this.$input.removeData("selectize");0==--u.count&&u.$testInput&&(u.$testInput.remove(),u.$testInput=void 0);M(window).off(r);M(document).off(r);M(document.body).off(r);delete this.$input[0].selectize},render:function(r,t){var y=!1;if("option"===r||"item"===r){var w=d(t[this.settings.valueField]);
y=!!w}if(y&&("undefined"===typeof this.renderCache[r]&&(this.renderCache[r]={}),this.renderCache[r].hasOwnProperty(w)))return this.renderCache[r][w];var A=M(this.settings.render[r].apply(this,[t,a]));if("option"===r||"option_create"===r)t[this.settings.disabledField]||A.attr("data-selectable","");else if("optgroup"===r){var F=t[this.settings.optgroupValueField]||"";A.attr("data-group",F);t[this.settings.disabledField]&&A.attr("data-disabled","")}"option"!==r&&"item"!==r||A.attr("data-value",w||"");
y&&(this.renderCache[r][w]=A[0]);return A[0]},clearCache:function(r){"undefined"===typeof r?this.renderCache={}:delete this.renderCache[r]},canCreate:function(r){if(!this.settings.create)return!1;var t=this.settings.createFilter;return r.length&&("function"!==typeof t||t.apply(this,[r]))&&("string"!==typeof t||(new RegExp(t)).test(r))&&(!(t instanceof RegExp)||t.test(r))}});u.count=0;u.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,
createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1E3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",
inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}};M.fn.selectize=function(r){var t=M.fn.selectize.defaults,y=M.extend({},t,r),w=y.dataAttr,A=y.labelField,F=y.valueField,C=y.disabledField,J=y.optgroupField,B=y.optgroupLabelField,G=y.optgroupValueField,E=function(v,D){var K,P=D.options,Q={},N=function(U){U=w&&U.attr(w);return"string"===typeof U&&U.length?JSON.parse(U):null},T=function(U,
V){U=M(U);var Z=d(U.val());if(Z||y.allowEmptyOption)if(Q.hasOwnProperty(Z))V&&((U=Q[Z][J])?M.isArray(U)?U.push(V):Q[Z][J]=[U,V]:Q[Z][J]=V);else{var O=N(U)||{};O[A]=O[A]||U.text();O[F]=O[F]||Z;O[C]=O[C]||U.prop("disabled");O[J]=O[J]||V;Q[Z]=O;P.push(O);U.is(":selected")&&D.items.push(Z)}},H=function(U){var V;U=M(U);if(V=U.attr("label")){var Z=N(U)||{};Z[B]=V;Z[G]=V;Z[C]=U.prop("disabled");D.optgroups.push(Z)}var O=M("option",U);U=0;for(Z=O.length;U<Z;U++)T(O[U],V)};D.maxItems=v.attr("multiple")?null:
1;var L=v.children();v=0;for(K=L.length;v<K;v++){var R=L[v].tagName.toLowerCase();"optgroup"===R?H(L[v]):"option"===R&&T(L[v])}};return this.each(function(){if(!this.selectize){var v=M(this),D=this.tagName.toLowerCase(),K=v.attr("placeholder")||v.attr("data-placeholder");K||y.allowEmptyOption||(K=v.children('option[value\x3d""]').text());K={placeholder:K,options:[],optgroups:[],items:[]};if("select"===D)E(v,K);else{var P;if(D=v.attr(w))for(K.options=JSON.parse(D),D=0,P=K.options.length;D<P;D++)K.items.push(K.options[D][F]);
else if(D=M.trim(v.val()||""),y.allowEmptyOption||D.length){var Q=D.split(y.delimiter);D=0;for(P=Q.length;D<P;D++){var N={};N[A]=Q[D];N[F]=Q[D];K.options.push(N)}K.items=Q}}new u(v,M.extend(!0,{},t,K,r))}})};M.fn.selectize.defaults=u.defaults;M.fn.selectize.support={validity:p};return u});"use strict";
(function(M,Y){"object"===typeof module&&module.exports?(Y["default"]=Y,module.exports=M.document?Y(M):Y):"function"===typeof define&&define.amd?define("highcharts/highcharts",function(){return Y(M)}):(M.Highcharts&&M.Highcharts.error(16,!0),M.Highcharts=Y(M))})("undefined"!==typeof window?window:this,function(M){function Y(z,m,n,l){z.hasOwnProperty(m)||(z[m]=l.apply(null,n))}var I={};Y(I,"Core/Globals.js",[],function(){var z="undefined"!==typeof M?M:"undefined"!==typeof window?window:{},m;(function(n){n.SVG_NS=
"http://www.w3.org/2000/svg";n.product="Highcharts";n.version="9.3.1";n.win=z;n.doc=n.win.document;n.svg=n.doc&&n.doc.createElementNS&&!!n.doc.createElementNS(n.SVG_NS,"svg").createSVGRect;n.userAgent=n.win.navigator&&n.win.navigator.userAgent||"";n.isChrome=-1!==n.userAgent.indexOf("Chrome");n.isFirefox=-1!==n.userAgent.indexOf("Firefox");n.isMS=/(edge|msie|trident)/i.test(n.userAgent)&&!n.win.opera;n.isSafari=!n.isChrome&&-1!==n.userAgent.indexOf("Safari");n.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(n.userAgent);
n.isWebKit=-1!==n.userAgent.indexOf("AppleWebKit");n.deg2rad=2*Math.PI/360;n.hasBidiBug=n.isFirefox&&4>parseInt(n.userAgent.split("Firefox/")[1],10);n.hasTouch=!!n.win.TouchEvent;n.marginNames=["plotTop","marginRight","marginBottom","plotLeft"];n.noop=function(){};n.supportsPassiveEvents=function(){var l=!1;if(!n.isMS){var c=Object.defineProperty({},"passive",{get:function(){l=!0}});n.win.addEventListener&&n.win.removeEventListener&&(n.win.addEventListener("testPassive",n.noop,c),n.win.removeEventListener("testPassive",
n.noop,c))}return l}();n.charts=[];n.dateFormats={};n.seriesTypes={};n.symbolSizes={};n.chartCount=0})(m||(m={}));"";return m});Y(I,"Core/Utilities.js",[I["Core/Globals.js"]],function(z){function m(v,D,K,P){var Q=D?"Highcharts error":"Highcharts warning";32===v&&(v=Q+": Deprecated member");var N=f(v),T=N?Q+" #"+v+": www.highcharts.com/errors/"+v+"/":v.toString();if("undefined"!==typeof P){var H="";N&&(T+="?");t(P,function(L,R){H+="\n - "+R+": "+L;N&&(T+=encodeURI(R)+"\x3d"+encodeURI(L))});T+=H}w(z,
"displayError",{chart:K,code:v,message:T,params:P},function(){if(D)throw Error(T);C.console&&-1===m.messages.indexOf(T)&&console.warn(T)});m.messages.push(T)}function n(v,D){var K={};t(v,function(P,Q){if(d(v[Q],!0)&&!v.nodeType&&D[Q])P=n(v[Q],D[Q]),Object.keys(P).length&&(K[Q]=P);else if(d(v[Q])||v[Q]!==D[Q])K[Q]=v[Q]});return K}function l(v,D){return parseInt(v,D||10)}function c(v){return"string"===typeof v}function p(v){v=Object.prototype.toString.call(v);return"[object Array]"===v||"[object Array Iterator]"===
v}function d(v,D){return!!v&&"object"===typeof v&&(!D||!p(v))}function a(v){return d(v)&&"number"===typeof v.nodeType}function b(v){var D=v&&v.constructor;return!(!d(v,!0)||a(v)||!D||!D.name||"Object"===D.name)}function f(v){return"number"===typeof v&&!isNaN(v)&&Infinity>v&&-Infinity<v}function e(v){return"undefined"!==typeof v&&null!==v}function k(v,D,K){var P;c(D)?e(K)?v.setAttribute(D,K):v&&v.getAttribute&&((P=v.getAttribute(D))||"class"!==D||(P=v.getAttribute(D+"Name"))):t(D,function(Q,N){e(Q)?
v.setAttribute(N,Q):v.removeAttribute(N)});return P}function h(v,D){var K;v||(v={});for(K in D)v[K]=D[K];return v}function g(){for(var v=arguments,D=v.length,K=0;K<D;K++){var P=v[K];if("undefined"!==typeof P&&null!==P)return P}}function q(v,D){z.isMS&&!z.svg&&D&&"undefined"!==typeof D.opacity&&(D.filter="alpha(opacity\x3d"+100*D.opacity+")");h(v.style,D)}function x(v,D,K,P,Q){v=F.createElement(v);D&&h(v,D);Q&&q(v,{padding:"0",border:"none",margin:"0"});K&&q(v,K);P&&P.appendChild(v);return v}function u(v,
D){return 1E14<v?v:parseFloat(v.toPrecision(D||14))}function r(v,D,K){var P=z.getStyle||r;if("width"===D)return D=Math.min(v.offsetWidth,v.scrollWidth),K=v.getBoundingClientRect&&v.getBoundingClientRect().width,K<D&&K>=D-1&&(D=Math.floor(K)),Math.max(0,D-(P(v,"padding-left",!0)||0)-(P(v,"padding-right",!0)||0));if("height"===D)return Math.max(0,Math.min(v.offsetHeight,v.scrollHeight)-(P(v,"padding-top",!0)||0)-(P(v,"padding-bottom",!0)||0));C.getComputedStyle||m(27,!0);if(v=C.getComputedStyle(v,void 0)){var Q=
v.getPropertyValue(D);g(K,"opacity"!==D)&&(Q=l(Q))}return Q}function t(v,D,K){for(var P in v)Object.hasOwnProperty.call(v,P)&&D.call(K||v[P],v[P],P,v)}function y(v,D,K){function P(H,L){var R=v.removeEventListener||z.removeEventListenerPolyfill;R&&R.call(v,H,L,!1)}function Q(H){var L;if(v.nodeName){if(D){var R={};R[D]=!0}else R=H;t(R,function(U,V){if(H[V])for(L=H[V].length;L--;)P(V,H[V][L].fn)})}}var N="function"===typeof v&&v.prototype||v;if(Object.hasOwnProperty.call(N,"hcEvents")){var T=N.hcEvents;
D?(N=T[D]||[],K?(T[D]=N.filter(function(H){return K!==H.fn}),P(D,K)):(Q(T),T[D]=[])):(Q(T),delete N.hcEvents)}}function w(v,D,K,P){K=K||{};if(F.createEvent&&(v.dispatchEvent||v.fireEvent&&v!==z)){var Q=F.createEvent("Events");Q.initEvent(D,!0,!0);K=h(Q,K);v.dispatchEvent?v.dispatchEvent(K):v.fireEvent(D,K)}else if(v.hcEvents){K.target||h(K,{preventDefault:function(){K.defaultPrevented=!0},target:v,type:D});Q=[];for(var N=v,T=!1;N.hcEvents;)Object.hasOwnProperty.call(N,"hcEvents")&&N.hcEvents[D]&&
(Q.length&&(T=!0),Q.unshift.apply(Q,N.hcEvents[D])),N=Object.getPrototypeOf(N);T&&Q.sort(function(H,L){return H.order-L.order});Q.forEach(function(H){!1===H.fn.call(v,K)&&K.preventDefault()})}P&&!K.defaultPrevented&&P.call(v,K)}var A=z.charts,F=z.doc,C=z.win;(m||(m={})).messages=[];var J;Math.easeInOutSine=function(v){return-.5*(Math.cos(Math.PI*v)-1)};var B=Array.prototype.find?function(v,D){return v.find(D)}:function(v,D){var K,P=v.length;for(K=0;K<P;K++)if(D(v[K],K))return v[K]};t({map:"map",each:"forEach",
grep:"filter",reduce:"reduce",some:"some"},function(v,D){z[D]=function(K){var P;m(32,!1,void 0,(P={},P["Highcharts."+D]="use Array."+v,P));return Array.prototype[v].apply(K,[].slice.call(arguments,1))}});var G,E=function(){var v=Math.random().toString(36).substring(2,9)+"-",D=0;return function(){return"highcharts-"+(G?"":v)+D++}}();C.jQuery&&(C.jQuery.fn.highcharts=function(){var v=[].slice.call(arguments);if(this[0])return v[0]?(new (z[c(v[0])?v.shift():"Chart"])(this[0],v[0],v[1]),this):A[k(this[0],
"data-highcharts-chart")]});B={addEvent:function(v,D,K,P){void 0===P&&(P={});var Q="function"===typeof v&&v.prototype||v;Object.hasOwnProperty.call(Q,"hcEvents")||(Q.hcEvents={});Q=Q.hcEvents;z.Point&&v instanceof z.Point&&v.series&&v.series.chart&&(v.series.chart.runTrackerClick=!0);var N=v.addEventListener||z.addEventListenerPolyfill;N&&N.call(v,D,K,z.supportsPassiveEvents?{passive:void 0===P.passive?-1!==D.indexOf("touch"):P.passive,capture:!1}:!1);Q[D]||(Q[D]=[]);Q[D].push({fn:K,order:"number"===
typeof P.order?P.order:Infinity});Q[D].sort(function(T,H){return T.order-H.order});return function(){y(v,D,K)}},arrayMax:function(v){for(var D=v.length,K=v[0];D--;)v[D]>K&&(K=v[D]);return K},arrayMin:function(v){for(var D=v.length,K=v[0];D--;)v[D]<K&&(K=v[D]);return K},attr:k,clamp:function(v,D,K){return v>D?v<K?v:K:D},cleanRecursively:n,clearTimeout:function(v){e(v)&&clearTimeout(v)},correctFloat:u,createElement:x,css:q,defined:e,destroyObjectProperties:function(v,D){t(v,function(K,P){K&&K!==D&&
K.destroy&&K.destroy();delete v[P]})},discardElement:function(v){J||(J=x("div"));v&&J.appendChild(v);J.innerHTML=""},erase:function(v,D){for(var K=v.length;K--;)if(v[K]===D){v.splice(K,1);break}},error:m,extend:h,extendClass:function(v,D){var K=function(){};K.prototype=new v;h(K.prototype,D);return K},find:B,fireEvent:w,getMagnitude:function(v){return Math.pow(10,Math.floor(Math.log(v)/Math.LN10))},getNestedProperty:function(v,D){for(v=v.split(".");v.length&&e(D);){var K=v.shift();if("undefined"===
typeof K||"__proto__"===K)return;D=D[K];if(!e(D)||"function"===typeof D||"number"===typeof D.nodeType||D===C)return}return D},getStyle:r,inArray:function(v,D,K){m(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"});return D.indexOf(v,K)},isArray:p,isClass:b,isDOMElement:a,isFunction:function(v){return"function"===typeof v},isNumber:f,isObject:d,isString:c,keys:function(v){m(32,!1,void 0,{"Highcharts.keys":"use Object.keys"});return Object.keys(v)},merge:function(){var v,D=arguments,K={},P=function(N,
T){"object"!==typeof N&&(N={});t(T,function(H,L){"__proto__"!==L&&"constructor"!==L&&(!d(H,!0)||b(H)||a(H)?N[L]=T[L]:N[L]=P(N[L]||{},H))});return N};!0===D[0]&&(K=D[1],D=Array.prototype.slice.call(D,2));var Q=D.length;for(v=0;v<Q;v++)K=P(K,D[v]);return K},normalizeTickInterval:function(v,D,K,P,Q){var N=v;K=g(K,1);var T=v/K;D||(D=Q?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===P&&(1===K?D=D.filter(function(H){return 0===H%1}):.1>=K&&(D=[1/K])));for(P=0;P<D.length&&!(N=D[P],Q&&N*K>=v||!Q&&T<=(D[P]+
(D[P+1]||D[P]))/2);P++);return N=u(N*K,-Math.round(Math.log(.001)/Math.LN10))},objectEach:t,offset:function(v){var D=F.documentElement;v=v.parentElement||v.parentNode?v.getBoundingClientRect():{top:0,left:0,width:0,height:0};return{top:v.top+(C.pageYOffset||D.scrollTop)-(D.clientTop||0),left:v.left+(C.pageXOffset||D.scrollLeft)-(D.clientLeft||0),width:v.width,height:v.height}},pad:function(v,D,K){return Array((D||2)+1-String(v).replace("-","").length).join(K||"0")+v},pick:g,pInt:l,relativeLength:function(v,
D,K){return/%$/.test(v)?D*parseFloat(v)/100+(K||0):parseFloat(v)},removeEvent:y,splat:function(v){return p(v)?v:[v]},stableSort:function(v,D){var K=v.length,P,Q;for(Q=0;Q<K;Q++)v[Q].safeI=Q;v.sort(function(N,T){P=D(N,T);return 0===P?N.safeI-T.safeI:P});for(Q=0;Q<K;Q++)delete v[Q].safeI},syncTimeout:function(v,D,K){if(0<D)return setTimeout(v,D,K);v.call(0,K);return-1},timeUnits:{millisecond:1,second:1E3,minute:6E4,hour:36E5,day:864E5,week:6048E5,month:24192E5,year:314496E5},uniqueKey:E,useSerialIds:function(v){return G=
g(v,G)},wrap:function(v,D,K){var P=v[D];v[D]=function(){var Q=Array.prototype.slice.call(arguments),N=arguments,T=this;T.proceed=function(){P.apply(T,arguments.length?arguments:N)};Q.unshift(P);Q=K.apply(this,Q);T.proceed=null;return Q}}};"";return B});Y(I,"Core/Chart/ChartDefaults.js",[],function(){return{panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",
x:-10,y:10}},zoomBySingleTouch:!1,width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}});Y(I,"Core/Color/Color.js",[I["Core/Globals.js"],I["Core/Utilities.js"]],function(z,m){var n=m.isNumber,l=m.merge,c=m.pInt;m=function(){function p(d){this.rgba=[NaN,NaN,NaN,NaN];this.input=d;var a=z.Color;if(a&&a!==p)return new a(d);if(!(this instanceof p))return new p(d);this.init(d)}p.parse=function(d){return d?new p(d):p.None};p.prototype.init=function(d){var a;if("object"===
typeof d&&"undefined"!==typeof d.stops)this.stops=d.stops.map(function(k){return new p(k[1])});else if("string"===typeof d){this.input=d=p.names[d.toLowerCase()]||d;if("#"===d.charAt(0)){var b=d.length,f=parseInt(d.substr(1),16);7===b?a=[(f&16711680)>>16,(f&65280)>>8,f&255,1]:4===b&&(a=[(f&3840)>>4|(f&3840)>>8,(f&240)>>4|f&240,(f&15)<<4|f&15,1])}if(!a)for(f=p.parsers.length;f--&&!a;){var e=p.parsers[f];(b=e.regex.exec(d))&&(a=e.parse(b))}}a&&(this.rgba=a)};p.prototype.get=function(d){var a=this.input,
b=this.rgba;if("object"===typeof a&&"undefined"!==typeof this.stops){var f=l(a);f.stops=[].slice.call(f.stops);this.stops.forEach(function(e,k){f.stops[k]=[f.stops[k][0],e.get(d)]});return f}return b&&n(b[0])?"rgb"===d||!d&&1===b[3]?"rgb("+b[0]+","+b[1]+","+b[2]+")":"a"===d?""+b[3]:"rgba("+b.join(",")+")":a};p.prototype.brighten=function(d){var a=this.rgba;if(this.stops)this.stops.forEach(function(f){f.brighten(d)});else if(n(d)&&0!==d)for(var b=0;3>b;b++)a[b]+=c(255*d),0>a[b]&&(a[b]=0),255<a[b]&&
(a[b]=255);return this};p.prototype.setOpacity=function(d){this.rgba[3]=d;return this};p.prototype.tweenTo=function(d,a){var b=this.rgba,f=d.rgba;if(!n(b[0])||!n(f[0]))return d.input||"none";d=1!==f[3]||1!==b[3];return(d?"rgba(":"rgb(")+Math.round(f[0]+(b[0]-f[0])*(1-a))+","+Math.round(f[1]+(b[1]-f[1])*(1-a))+","+Math.round(f[2]+(b[2]-f[2])*(1-a))+(d?","+(f[3]+(b[3]-f[3])*(1-a)):"")+")"};p.names={white:"#ffffff",black:"#000000"};p.parsers=[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,
parse:function(d){return[c(d[1]),c(d[2]),c(d[3]),parseFloat(d[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(d){return[c(d[1]),c(d[2]),c(d[3]),1]}}];p.None=new p("");return p}();"";return m});Y(I,"Core/Color/Palettes.js",[],function(){return{colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" ")}});Y(I,"Core/Time.js",[I["Core/Globals.js"],I["Core/Utilities.js"]],function(z,m){var n=z.win,l=m.defined,c=
m.error,p=m.extend,d=m.isObject,a=m.merge,b=m.objectEach,f=m.pad,e=m.pick,k=m.splat,h=m.timeUnits,g=z.isSafari&&n.Intl&&n.Intl.DateTimeFormat.prototype.formatRange,q=z.isSafari&&n.Intl&&!n.Intl.DateTimeFormat.prototype.formatRange;m=function(){function x(u){this.options={};this.variableTimezone=this.useUTC=!1;this.Date=n.Date;this.getTimezoneOffset=this.timezoneOffsetFunction();this.update(u)}x.prototype.get=function(u,r){if(this.variableTimezone||this.timezoneOffset){var t=r.getTime(),y=t-this.getTimezoneOffset(r);
r.setTime(y);u=r["getUTC"+u]();r.setTime(t);return u}return this.useUTC?r["getUTC"+u]():r["get"+u]()};x.prototype.set=function(u,r,t){if(this.variableTimezone||this.timezoneOffset){if("Milliseconds"===u||"Seconds"===u||"Minutes"===u&&0===this.getTimezoneOffset(r)%36E5)return r["setUTC"+u](t);var y=this.getTimezoneOffset(r);y=r.getTime()-y;r.setTime(y);r["setUTC"+u](t);u=this.getTimezoneOffset(r);y=r.getTime()+u;return r.setTime(y)}return this.useUTC||g&&"FullYear"===u?r["setUTC"+u](t):r["set"+u](t)};
x.prototype.update=function(u){var r=e(u&&u.useUTC,!0);this.options=u=a(!0,this.options||{},u);this.Date=u.Date||n.Date||Date;this.timezoneOffset=(this.useUTC=r)&&u.timezoneOffset;this.getTimezoneOffset=this.timezoneOffsetFunction();this.variableTimezone=r&&!(!u.getTimezoneOffset&&!u.timezone)};x.prototype.makeTime=function(u,r,t,y,w,A){if(this.useUTC){var F=this.Date.UTC.apply(0,arguments),C=this.getTimezoneOffset(F);F+=C;var J=this.getTimezoneOffset(F);C!==J?F+=J-C:C-36E5!==this.getTimezoneOffset(F-
36E5)||q||(F-=36E5)}else F=(new this.Date(u,r,e(t,1),e(y,0),e(w,0),e(A,0))).getTime();return F};x.prototype.timezoneOffsetFunction=function(){var u=this,r=this.options,t=r.moment||n.moment;if(!this.useUTC)return function(y){return 6E4*(new Date(y.toString())).getTimezoneOffset()};if(r.timezone){if(t)return function(y){return 6E4*-t.tz(y,r.timezone).utcOffset()};c(25)}return this.useUTC&&r.getTimezoneOffset?function(y){return 6E4*r.getTimezoneOffset(y.valueOf())}:function(){return 6E4*(u.timezoneOffset||
0)}};x.prototype.dateFormat=function(u,r,t){if(!l(r)||isNaN(r))return z.defaultOptions.lang&&z.defaultOptions.lang.invalidDate||"";u=e(u,"%Y-%m-%d %H:%M:%S");var y=this,w=new this.Date(r),A=this.get("Hours",w),F=this.get("Day",w),C=this.get("Date",w),J=this.get("Month",w),B=this.get("FullYear",w),G=z.defaultOptions.lang,E=G&&G.weekdays,v=G&&G.shortWeekdays;w=p({a:v?v[F]:E[F].substr(0,3),A:E[F],d:f(C),e:f(C,2," "),w:F,b:G.shortMonths[J],B:G.months[J],m:f(J+1),o:J+1,y:B.toString().substr(2,2),Y:B,H:f(A),
k:A,I:f(A%12||12),l:A%12||12,M:f(this.get("Minutes",w)),p:12>A?"AM":"PM",P:12>A?"am":"pm",S:f(w.getSeconds()),L:f(Math.floor(r%1E3),3)},z.dateFormats);b(w,function(D,K){for(;-1!==u.indexOf("%"+K);)u=u.replace("%"+K,"function"===typeof D?D.call(y,r):D)});return t?u.substr(0,1).toUpperCase()+u.substr(1):u};x.prototype.resolveDTLFormat=function(u){return d(u,!0)?u:(u=k(u),{main:u[0],from:u[1],to:u[2]})};x.prototype.getTimeTicks=function(u,r,t,y){var w=this,A=[],F={},C=new w.Date(r),J=u.unitRange,B=u.count||
1,G;y=e(y,1);if(l(r)){w.set("Milliseconds",C,J>=h.second?0:B*Math.floor(w.get("Milliseconds",C)/B));J>=h.second&&w.set("Seconds",C,J>=h.minute?0:B*Math.floor(w.get("Seconds",C)/B));J>=h.minute&&w.set("Minutes",C,J>=h.hour?0:B*Math.floor(w.get("Minutes",C)/B));J>=h.hour&&w.set("Hours",C,J>=h.day?0:B*Math.floor(w.get("Hours",C)/B));J>=h.day&&w.set("Date",C,J>=h.month?1:Math.max(1,B*Math.floor(w.get("Date",C)/B)));if(J>=h.month){w.set("Month",C,J>=h.year?0:B*Math.floor(w.get("Month",C)/B));var E=w.get("FullYear",
C)}J>=h.year&&w.set("FullYear",C,E-E%B);J===h.week&&(E=w.get("Day",C),w.set("Date",C,w.get("Date",C)-E+y+(E<y?-7:0)));E=w.get("FullYear",C);y=w.get("Month",C);var v=w.get("Date",C),D=w.get("Hours",C);r=C.getTime();!w.variableTimezone&&w.useUTC||!l(t)||(G=t-r>4*h.month||w.getTimezoneOffset(r)!==w.getTimezoneOffset(t));r=C.getTime();for(C=1;r<t;)A.push(r),r=J===h.year?w.makeTime(E+C*B,0):J===h.month?w.makeTime(E,y+C*B):!G||J!==h.day&&J!==h.week?G&&J===h.hour&&1<B?w.makeTime(E,y,v,D+C*B):r+J*B:w.makeTime(E,
y,v+C*B*(J===h.day?1:7)),C++;A.push(r);J<=h.hour&&1E4>A.length&&A.forEach(function(K){0===K%18E5&&"000000000"===w.dateFormat("%H%M%S%L",K)&&(F[K]="day")})}A.info=p(u,{higherRanks:F,totalRange:J*B});return A};x.prototype.getDateFormat=function(u,r,t,y){var w=this.dateFormat("%m-%d %H:%M:%S.%L",r),A={millisecond:15,second:12,minute:9,hour:6,day:3},F="millisecond";for(C in h){if(u===h.week&&+this.dateFormat("%w",r)===t&&"00:00:00.000"===w.substr(6)){var C="week";break}if(h[C]>u){C=F;break}if(A[C]&&w.substr(A[C])!==
"01-01 00:00:00.000".substr(A[C]))break;"week"!==C&&(F=C)}if(C)var J=this.resolveDTLFormat(y[C]).main;return J};return x}();"";return m});Y(I,"Core/DefaultOptions.js",[I["Core/Chart/ChartDefaults.js"],I["Core/Color/Color.js"],I["Core/Globals.js"],I["Core/Color/Palettes.js"],I["Core/Time.js"],I["Core/Utilities.js"]],function(z,m,n,l,c,p){m=m.parse;var d=p.merge,a={colors:l.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),
shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:z,title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},
caption:{margin:15,text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},
itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:n.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",
minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:n.isTouchDevice?25:10,headerFormat:'\x3cspan style\x3d"font-size: 10px"\x3e{point.key}\x3c/span\x3e\x3cbr/\x3e',pointFormat:'\x3cspan style\x3d"color:{point.color}"\x3e\u25cf\x3c/span\x3e {series.name}: \x3cb\x3e{point.y}\x3c/b\x3e\x3cbr/\x3e',backgroundColor:m("#f7f7f7").setOpacity(.85).get(),
borderWidth:1,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"12px",whiteSpace:"nowrap"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}};a.chart.styledMode=!1;"";var b=new c(d(a.global,a.time));z={defaultOptions:a,defaultTime:b,getOptions:function(){return a},setOptions:function(f){d(!0,a,f);if(f.time||f.global)n.time?
n.time.update(d(a.global,a.time,f.global,f.time)):n.time=b;return a}};"";return z});Y(I,"Core/Animation/Fx.js",[I["Core/Color/Color.js"],I["Core/Globals.js"],I["Core/Utilities.js"]],function(z,m,n){var l=z.parse,c=m.win,p=n.isNumber,d=n.objectEach;return function(){function a(b,f,e){this.pos=NaN;this.options=f;this.elem=b;this.prop=e}a.prototype.dSetter=function(){var b=this.paths,f=b&&b[0];b=b&&b[1];var e=this.now||0,k=[];if(1!==e&&f&&b)if(f.length===b.length&&1>e)for(var h=0;h<b.length;h++){for(var g=
f[h],q=b[h],x=[],u=0;u<q.length;u++){var r=g[u],t=q[u];p(r)&&p(t)&&("A"!==q[0]||4!==u&&5!==u)?x[u]=r+e*(t-r):x[u]=t}k.push(x)}else k=b;else k=this.toD||[];this.elem.attr("d",k,void 0,!0)};a.prototype.update=function(){var b=this.elem,f=this.prop,e=this.now,k=this.options.step;if(this[f+"Setter"])this[f+"Setter"]();else b.attr?b.element&&b.attr(f,e,null,!0):b.style[f]=e+this.unit;k&&k.call(b,e,this)};a.prototype.run=function(b,f,e){var k=this,h=k.options,g=function(u){return g.stopped?!1:k.step(u)},
q=c.requestAnimationFrame||function(u){setTimeout(u,13)},x=function(){for(var u=0;u<a.timers.length;u++)a.timers[u]()||a.timers.splice(u--,1);a.timers.length&&q(x)};b!==f||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=b,this.end=f,this.unit=e,this.now=this.start,this.pos=0,g.elem=this.elem,g.prop=this.prop,g()&&1===a.timers.push(g)&&q(x)):(delete h.curAnim[this.prop],h.complete&&0===Object.keys(h.curAnim).length&&h.complete.call(this.elem))};a.prototype.step=function(b){var f=
+new Date,e=this.options,k=this.elem,h=e.complete,g=e.duration,q=e.curAnim;if(k.attr&&!k.element)b=!1;else if(b||f>=g+this.startTime){this.now=this.end;this.pos=1;this.update();var x=q[this.prop]=!0;d(q,function(u){!0!==u&&(x=!1)});x&&h&&h.call(k);b=!1}else this.pos=e.easing((f-this.startTime)/g),this.now=this.start+(this.end-this.start)*this.pos,this.update(),b=!0;return b};a.prototype.initPath=function(b,f,e){function k(w,A){for(;w.length<y;){var F=w[0],C=A[y-w.length];C&&"M"===F[0]&&(w[0]="C"===
C[0]?["C",F[1],F[2],F[1],F[2],F[1],F[2]]:["L",F[1],F[2]]);w.unshift(F);x&&(F=w.pop(),w.push(w[w.length-1],F))}}function h(w,A){for(;w.length<y;)if(A=w[Math.floor(w.length/u)-1].slice(),"C"===A[0]&&(A[1]=A[5],A[2]=A[6]),x){var F=w[Math.floor(w.length/u)].slice();w.splice(w.length/2,0,A,F)}else w.push(A)}var g=b.startX,q=b.endX;e=e.slice();var x=b.isArea,u=x?2:1;f=f&&f.slice();if(!f)return[e,e];if(g&&q&&q.length){for(b=0;b<g.length;b++)if(g[b]===q[0]){var r=b;break}else if(g[0]===q[q.length-g.length+
b]){r=b;var t=!0;break}else if(g[g.length-1]===q[q.length-g.length+b]){r=g.length-b;break}"undefined"===typeof r&&(f=[])}if(f.length&&p(r)){var y=e.length+r*u;t?(k(f,e),h(e,f)):(k(e,f),h(f,e))}return[f,e]};a.prototype.fillSetter=function(){a.prototype.strokeSetter.apply(this,arguments)};a.prototype.strokeSetter=function(){this.elem.attr(this.prop,l(this.start).tweenTo(l(this.end),this.pos),null,!0)};a.timers=[];return a}()});Y(I,"Core/Animation/AnimationUtilities.js",[I["Core/Animation/Fx.js"],I["Core/Utilities.js"]],
function(z,m){function n(h){return b(h)?f({duration:500,defer:0},h):{duration:h?500:0,defer:0}}function l(h,g){for(var q=z.timers.length;q--;)z.timers[q].elem!==h||g&&g!==z.timers[q].prop||(z.timers[q].stopped=!0)}var c=m.defined,p=m.getStyle,d=m.isArray,a=m.isNumber,b=m.isObject,f=m.merge,e=m.objectEach,k=m.pick;return{animate:function(h,g,q){var x,u="",r,t;if(!b(q)){var y=arguments;q={duration:y[2],easing:y[3],complete:y[4]}}a(q.duration)||(q.duration=400);q.easing="function"===typeof q.easing?
q.easing:Math[q.easing]||Math.easeInOutSine;q.curAnim=f(g);e(g,function(w,A){l(h,A);t=new z(h,q,A);r=void 0;"d"===A&&d(g.d)?(t.paths=t.initPath(h,h.pathArray,g.d),t.toD=g.d,x=0,r=1):h.attr?x=h.attr(A):(x=parseFloat(p(h,A))||0,"opacity"!==A&&(u="px"));r||(r=w);"string"===typeof r&&r.match("px")&&(r=r.replace(/px/g,""));t.run(x,r,u)})},animObject:n,getDeferredAnimation:function(h,g,q){var x=n(g),u=0,r=0;(q?[q]:h.series).forEach(function(t){t=n(t.options.animation);u=g&&c(g.defer)?x.defer:Math.max(u,
t.duration+t.defer);r=Math.min(x.duration,t.duration)});h.renderer.forExport&&(u=0);return{defer:Math.max(0,u-r),duration:Math.min(u,r)}},setAnimation:function(h,g){g.renderer.globalAnimation=k(h,g.options.chart.animation,!0)},stop:l}});Y(I,"Core/Renderer/HTML/AST.js",[I["Core/Globals.js"],I["Core/Utilities.js"]],function(z,m){var n=z.SVG_NS,l=m.attr,c=m.createElement,p=m.discardElement,d=m.error,a=m.isString,b=m.objectEach,f=m.splat;try{var e=!!(new DOMParser).parseFromString("","text/html")}catch(k){e=
!1}m=function(){function k(h){this.nodes="string"===typeof h?this.parseMarkup(h):h}k.filterUserAttributes=function(h){b(h,function(g,q){var x=!0;-1===k.allowedAttributes.indexOf(q)&&(x=!1);-1!==["background","dynsrc","href","lowsrc","src"].indexOf(q)&&(x=a(g)&&k.allowedReferences.some(function(u){return 0===g.indexOf(u)}));x||(d("Highcharts warning: Invalid attribute '"+q+"' in config"),delete h[q])});return h};k.setElementHTML=function(h,g){h.innerHTML="";g&&(new k(g)).addToDOM(h)};k.prototype.addToDOM=
function(h){function g(q,x){var u;f(q).forEach(function(r){var t=r.tagName,y=r.textContent?z.doc.createTextNode(r.textContent):void 0;if(t)if("#text"===t)var w=y;else if(-1!==k.allowedTags.indexOf(t)){t=z.doc.createElementNS("svg"===t?n:x.namespaceURI||n,t);var A=r.attributes||{};b(r,function(F,C){"tagName"!==C&&"attributes"!==C&&"children"!==C&&"textContent"!==C&&(A[C]=F)});l(t,k.filterUserAttributes(A));y&&t.appendChild(y);g(r.children||[],t);w=t}else d("Highcharts warning: Invalid tagName '"+t+
"' in config");w&&x.appendChild(w);u=w});return u}return g(this.nodes,h)};k.prototype.parseMarkup=function(h){var g=[];h=h.trim();if(e)h=(new DOMParser).parseFromString(h,"text/html");else{var q=c("div");q.innerHTML=h;h={body:q}}var x=function(u,r){var t=u.nodeName.toLowerCase(),y={tagName:t};"#text"===t&&(y.textContent=u.textContent||"");if(t=u.attributes){var w={};[].forEach.call(t,function(F){w[F.name]=F.value});y.attributes=w}if(u.childNodes.length){var A=[];[].forEach.call(u.childNodes,function(F){x(F,
A)});A.length&&(y.children=A)}r.push(y)};[].forEach.call(h.body.childNodes,function(u){return x(u,g)});q&&p(q);return g};k.allowedAttributes="aria-controls aria-describedby aria-expanded aria-haspopup aria-hidden aria-label aria-labelledby aria-live aria-pressed aria-readonly aria-roledescription aria-selected class clip-path color colspan cx cy d dx dy disabled fill height href id in markerHeight markerWidth offset opacity orient padding paddingLeft paddingRight patternUnits r refX refY role scope slope src startOffset stdDeviation stroke stroke-linecap stroke-width style tableValues result rowspan summary target tabindex text-align textAnchor textLength title type valign width x x1 x2 y y1 y2 zIndex".split(" ");
k.allowedReferences="https:// http:// mailto: / ../ ./ #".split(" ");k.allowedTags="a abbr b br button caption circle clipPath code dd defs div dl dt em feComponentTransfer feFuncA feFuncB feFuncG feFuncR feGaussianBlur feOffset feMerge feMergeNode filter h1 h2 h3 h4 h5 h6 hr i img li linearGradient marker ol p path pattern pre rect small span stop strong style sub sup svg table text thead tbody tspan td th tr u ul #text".split(" ");return k}();"";return m});Y(I,"Core/FormatUtilities.js",[I["Core/DefaultOptions.js"],
I["Core/Utilities.js"]],function(z,m){function n(f,e,k,h){f=+f||0;e=+e;var g=l.lang,q=(f.toString().split(".")[1]||"").split("e")[0].length,x=f.toString().split("e"),u=e;if(-1===e)e=Math.min(q,20);else if(!d(e))e=2;else if(e&&x[1]&&0>x[1]){var r=e+ +x[1];0<=r?(x[0]=(+x[0]).toExponential(r).split("e")[0],e=r):(x[0]=x[0].split(".")[0]||0,f=20>e?(x[0]*Math.pow(10,x[1])).toFixed(e):0,x[1]=0)}r=(Math.abs(x[1]?x[0]:f)+Math.pow(10,-Math.max(e,q)-1)).toFixed(e);q=String(b(r));var t=3<q.length?q.length%3:
0;k=a(k,g.decimalPoint);h=a(h,g.thousandsSep);f=(0>f?"-":"")+(t?q.substr(0,t)+h:"");f=0>+x[1]&&!u?"0":f+q.substr(t).replace(/(\d{3})(?=\d)/g,"$1"+h);e&&(f+=k+r.slice(-e));x[1]&&0!==+f&&(f+="e"+x[1]);return f}var l=z.defaultOptions,c=z.defaultTime,p=m.getNestedProperty,d=m.isNumber,a=m.pick,b=m.pInt;return{dateFormat:function(f,e,k){return c.dateFormat(f,e,k)},format:function(f,e,k){var h="{",g=!1,q=/f$/,x=/\.([0-9])/,u=l.lang,r=k&&k.time||c;k=k&&k.numberFormatter||n;for(var t=[];f;){var y=f.indexOf(h);
if(-1===y)break;var w=f.slice(0,y);if(g){w=w.split(":");h=p(w.shift()||"",e);if(w.length&&"number"===typeof h)if(w=w.join(":"),q.test(w)){var A=parseInt((w.match(x)||["","-1"])[1],10);null!==h&&(h=k(h,A,u.decimalPoint,-1<w.indexOf(",")?u.thousandsSep:""))}else h=r.dateFormat(w,h);t.push(h)}else t.push(w);f=f.slice(y+1);h=(g=!g)?"}":"{"}t.push(f);return t.join("")},numberFormat:n}});Y(I,"Core/Renderer/RendererUtilities.js",[I["Core/Utilities.js"]],function(z){var m=z.clamp,n=z.pick,l=z.stableSort,
c;(function(p){function d(a,b,f){var e=a,k=e.reducedLen||b,h=function(t,y){return(y.rank||0)-(t.rank||0)},g=function(t,y){return t.target-y.target},q,x=!0,u=[],r=0;for(q=a.length;q--;)r+=a[q].size;if(r>k){l(a,h);for(r=q=0;r<=k;)r+=a[q].size,q++;u=a.splice(q-1,a.length)}l(a,g);for(a=a.map(function(t){return{size:t.size,targets:[t.target],align:n(t.align,.5)}});x;){for(q=a.length;q--;)k=a[q],h=(Math.min.apply(0,k.targets)+Math.max.apply(0,k.targets))/2,k.pos=m(h-k.size*k.align,0,b-k.size);q=a.length;
for(x=!1;q--;)0<q&&a[q-1].pos+a[q-1].size>a[q].pos&&(a[q-1].size+=a[q].size,a[q-1].targets=a[q-1].targets.concat(a[q].targets),a[q-1].align=.5,a[q-1].pos+a[q-1].size>b&&(a[q-1].pos=b-a[q-1].size),a.splice(q,1),x=!0)}e.push.apply(e,u);q=0;a.some(function(t){var y=0;return(t.targets||[]).some(function(){e[q].pos=t.pos+y;if("undefined"!==typeof f&&Math.abs(e[q].pos-e[q].target)>f)return e.slice(0,q+1).forEach(function(w){return delete w.pos}),e.reducedLen=(e.reducedLen||b)-.1*b,e.reducedLen>.1*b&&d(e,
b,f),!0;y+=e[q].size;q++;return!1})});l(e,g);return e}p.distribute=d})(c||(c={}));return c});Y(I,"Core/Renderer/SVG/SVGElement.js",[I["Core/Animation/AnimationUtilities.js"],I["Core/Renderer/HTML/AST.js"],I["Core/Color/Color.js"],I["Core/Globals.js"],I["Core/Utilities.js"]],function(z,m,n,l,c){var p=z.animate,d=z.animObject,a=z.stop,b=l.deg2rad,f=l.doc,e=l.noop,k=l.svg,h=l.SVG_NS,g=l.win,q=c.addEvent,x=c.attr,u=c.createElement,r=c.css,t=c.defined,y=c.erase,w=c.extend,A=c.fireEvent,F=c.isArray,C=c.isFunction,
J=c.isNumber,B=c.isString,G=c.merge,E=c.objectEach,v=c.pick,D=c.pInt,K=c.syncTimeout,P=c.uniqueKey;z=function(){function Q(){this.element=void 0;this.onEvents={};this.opacity=1;this.renderer=void 0;this.SVG_NS=h;this.symbolCustomAttribs="x y width height r start end innerR anchorX anchorY rounded".split(" ")}Q.prototype._defaultGetter=function(N){N=v(this[N+"Value"],this[N],this.element?this.element.getAttribute(N):null,0);/^[\-0-9\.]+$/.test(N)&&(N=parseFloat(N));return N};Q.prototype._defaultSetter=
function(N,T,H){H.setAttribute(T,N)};Q.prototype.add=function(N){var T=this.renderer,H=this.element;N&&(this.parentGroup=N);this.parentInverted=N&&N.inverted;"undefined"!==typeof this.textStr&&"text"===this.element.nodeName&&T.buildText(this);this.added=!0;if(!N||N.handleZ||this.zIndex)var L=this.zIndexSetter();L||(N?N.element:T.box).appendChild(H);if(this.onAdd)this.onAdd();return this};Q.prototype.addClass=function(N,T){var H=T?"":this.attr("class")||"";N=(N||"").split(/ /g).reduce(function(L,R){-1===
H.indexOf(R)&&L.push(R);return L},H?[H]:[]).join(" ");N!==H&&this.attr("class",N);return this};Q.prototype.afterSetters=function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)};Q.prototype.align=function(N,T,H){var L={},R=this.renderer,U=R.alignedObjects,V,Z,O;if(N){if(this.alignOptions=N,this.alignByTranslate=T,!H||B(H))this.alignTo=V=H||"renderer",y(U,this),U.push(this),H=void 0}else N=this.alignOptions,T=this.alignByTranslate,V=this.alignTo;H=v(H,R[V],"scrollablePlotBox"===V?
R.plotBox:void 0,R);V=N.align;var W=N.verticalAlign;R=(H.x||0)+(N.x||0);U=(H.y||0)+(N.y||0);"right"===V?Z=1:"center"===V&&(Z=2);Z&&(R+=(H.width-(N.width||0))/Z);L[T?"translateX":"x"]=Math.round(R);"bottom"===W?O=1:"middle"===W&&(O=2);O&&(U+=(H.height-(N.height||0))/O);L[T?"translateY":"y"]=Math.round(U);this[this.placed?"animate":"attr"](L);this.placed=!0;this.alignAttr=L;return this};Q.prototype.alignSetter=function(N){var T={left:"start",center:"middle",right:"end"};T[N]&&(this.alignValue=N,this.element.setAttribute("text-anchor",
T[N]))};Q.prototype.animate=function(N,T,H){var L=this,R=d(v(T,this.renderer.globalAnimation,!0));T=R.defer;v(f.hidden,f.msHidden,f.webkitHidden,!1)&&(R.duration=0);0!==R.duration?(H&&(R.complete=H),K(function(){L.element&&p(L,N,R)},T)):(this.attr(N,void 0,H),E(N,function(U,V){R.step&&R.step.call(this,U,{prop:V,pos:1,elem:this})},this));return this};Q.prototype.applyTextOutline=function(N){var T=this.element;-1!==N.indexOf("contrast")&&(N=N.replace(/contrast/g,this.renderer.getContrast(T.style.fill)));
var H=N.split(" ");N=H[H.length-1];if((H=H[0])&&"none"!==H&&l.svg){this.fakeTS=!0;this.ySetter=this.xSetter;H=H.replace(/(^[\d\.]+)(.*?)$/g,function(U,V,Z){return 2*Number(V)+Z});this.removeTextOutline();var L=f.createElementNS(h,"tspan");x(L,{"class":"highcharts-text-outline",fill:N,stroke:N,"stroke-width":H,"stroke-linejoin":"round"});[].forEach.call(T.childNodes,function(U){var V=U.cloneNode(!0);V.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(function(Z){return V.removeAttribute(Z)});
L.appendChild(V)});var R=f.createElementNS(h,"tspan");R.textContent="\u200b";["x","y"].forEach(function(U){var V=T.getAttribute(U);V&&R.setAttribute(U,V)});L.appendChild(R);T.insertBefore(L,T.firstChild)}};Q.prototype.attr=function(N,T,H,L){var R=this.element,U=this.symbolCustomAttribs,V,Z=this,O,W;if("string"===typeof N&&"undefined"!==typeof T){var S=N;N={};N[S]=T}"string"===typeof N?Z=(this[N+"Getter"]||this._defaultGetter).call(this,N,R):(E(N,function(aa,ba){O=!1;L||a(this,ba);this.symbolName&&
-1!==U.indexOf(ba)&&(V||(this.symbolAttr(N),V=!0),O=!0);!this.rotation||"x"!==ba&&"y"!==ba||(this.doTransform=!0);O||(W=this[ba+"Setter"]||this._defaultSetter,W.call(this,aa,ba,R),!this.styledMode&&this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(ba)&&this.updateShadows(ba,aa,W))},this),this.afterSetters());H&&H.call(this);return Z};Q.prototype.clip=function(N){return this.attr("clip-path",N?"url("+this.renderer.url+"#"+N.id+")":"none")};Q.prototype.crisp=function(N,T){T=T||
N.strokeWidth||0;var H=Math.round(T)%2/2;N.x=Math.floor(N.x||this.x||0)+H;N.y=Math.floor(N.y||this.y||0)+H;N.width=Math.floor((N.width||this.width||0)-2*H);N.height=Math.floor((N.height||this.height||0)-2*H);t(N.strokeWidth)&&(N.strokeWidth=T);return N};Q.prototype.complexColor=function(N,T,H){var L=this.renderer,R,U,V,Z,O,W,S,aa,ba,fa,ea=[],ha;A(this.renderer,"complexColor",{args:arguments},function(){N.radialGradient?U="radialGradient":N.linearGradient&&(U="linearGradient");if(U){V=N[U];O=L.gradients;
W=N.stops;ba=H.radialReference;F(V)&&(N[U]=V={x1:V[0],y1:V[1],x2:V[2],y2:V[3],gradientUnits:"userSpaceOnUse"});"radialGradient"===U&&ba&&!t(V.gradientUnits)&&(Z=V,V=G(V,L.getRadialAttr(ba,Z),{gradientUnits:"userSpaceOnUse"}));E(V,function(ra,ta){"id"!==ta&&ea.push(ta,ra)});E(W,function(ra){ea.push(ra)});ea=ea.join(",");if(O[ea])fa=O[ea].attr("id");else{V.id=fa=P();var ka=O[ea]=L.createElement(U).attr(V).add(L.defs);ka.radAttr=Z;ka.stops=[];W.forEach(function(ra){0===ra[1].indexOf("rgba")?(R=n.parse(ra[1]),
S=R.get("rgb"),aa=R.get("a")):(S=ra[1],aa=1);ra=L.createElement("stop").attr({offset:ra[0],"stop-color":S,"stop-opacity":aa}).add(ka);ka.stops.push(ra)})}ha="url("+L.url+"#"+fa+")";H.setAttribute(T,ha);H.gradient=ea;N.toString=function(){return ha}}})};Q.prototype.css=function(N){var T=this.styles,H={},L=this.element,R=["textOutline","textOverflow","width"],U="",V=!T;N&&N.color&&(N.fill=N.color);T&&E(N,function(W,S){T&&T[S]!==W&&(H[S]=W,V=!0)});if(V){T&&(N=w(T,H));if(N)if(null===N.width||"auto"===
N.width)delete this.textWidth;else if("text"===L.nodeName.toLowerCase()&&N.width)var Z=this.textWidth=D(N.width);this.styles=N;Z&&!k&&this.renderer.forExport&&delete N.width;if(L.namespaceURI===this.SVG_NS){var O=function(W,S){return"-"+S.toLowerCase()};E(N,function(W,S){-1===R.indexOf(S)&&(U+=S.replace(/([A-Z])/g,O)+":"+W+";")});U&&x(L,"style",U)}else r(L,N);this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),N&&N.textOutline&&this.applyTextOutline(N.textOutline))}return this};
Q.prototype.dashstyleSetter=function(N){var T=this["stroke-width"];"inherit"===T&&(T=1);if(N=N&&N.toLowerCase()){var H=N.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(N=H.length;N--;)H[N]=""+D(H[N])*v(T,NaN);N=H.join(",").replace(/NaN/g,"none");this.element.setAttribute("stroke-dasharray",N)}};Q.prototype.destroy=
function(){var N=this,T=N.element||{},H=N.renderer,L=T.ownerSVGElement,R=H.isSVG&&"SPAN"===T.nodeName&&N.parentGroup||void 0;T.onclick=T.onmouseout=T.onmouseover=T.onmousemove=T.point=null;a(N);if(N.clipPath&&L){var U=N.clipPath;[].forEach.call(L.querySelectorAll("[clip-path],[CLIP-PATH]"),function(V){-1<V.getAttribute("clip-path").indexOf(U.element.id)&&V.removeAttribute("clip-path")});N.clipPath=U.destroy()}if(N.stops){for(L=0;L<N.stops.length;L++)N.stops[L].destroy();N.stops.length=0;N.stops=void 0}N.safeRemoveChild(T);
for(H.styledMode||N.destroyShadows();R&&R.div&&0===R.div.childNodes.length;)T=R.parentGroup,N.safeRemoveChild(R.div),delete R.div,R=T;N.alignTo&&y(H.alignedObjects,N);E(N,function(V,Z){N[Z]&&N[Z].parentGroup===N&&N[Z].destroy&&N[Z].destroy();delete N[Z]})};Q.prototype.destroyShadows=function(){(this.shadows||[]).forEach(function(N){this.safeRemoveChild(N)},this);this.shadows=void 0};Q.prototype.destroyTextPath=function(N,T){var H=N.getElementsByTagName("text")[0];if(H){if(H.removeAttribute("dx"),
H.removeAttribute("dy"),T.element.setAttribute("id",""),this.textPathWrapper&&H.getElementsByTagName("textPath").length){for(N=this.textPathWrapper.element.childNodes;N.length;)H.appendChild(N[0]);H.removeChild(this.textPathWrapper.element)}}else if(N.getAttribute("dx")||N.getAttribute("dy"))N.removeAttribute("dx"),N.removeAttribute("dy");this.textPathWrapper&&(this.textPathWrapper=this.textPathWrapper.destroy())};Q.prototype.dSetter=function(N,T,H){F(N)&&("string"===typeof N[0]&&(N=this.renderer.pathToSegments(N)),
this.pathArray=N,N=N.reduce(function(L,R,U){return R&&R.join?(U?L+" ":"")+R.join(" "):(R||"").toString()},""));/(NaN| {2}|^$)/.test(N)&&(N="M 0 0");this[T]!==N&&(H.setAttribute(T,N),this[T]=N)};Q.prototype.fadeOut=function(N){var T=this;T.animate({opacity:0},{duration:v(N,150),complete:function(){T.attr({y:-9999}).hide()}})};Q.prototype.fillSetter=function(N,T,H){"string"===typeof N?H.setAttribute(T,N):N&&this.complexColor(N,T,H)};Q.prototype.getBBox=function(N,T){var H=this.renderer,L=this.element,
R=this.styles,U=this.textStr,V=H.cache,Z=H.cacheKeys,O=L.namespaceURI===this.SVG_NS;T=v(T,this.rotation,0);var W=H.styledMode?L&&Q.prototype.getStyle.call(L,"font-size"):R&&R.fontSize,S;if(t(U)){var aa=U.toString();-1===aa.indexOf("\x3c")&&(aa=aa.replace(/[0-9]/g,"0"));aa+=["",T,W,this.textWidth,R&&R.textOverflow,R&&R.fontWeight].join()}aa&&!N&&(S=V[aa]);if(!S){if(O||H.forExport){try{var ba=this.fakeTS&&function(fa){var ea=L.querySelector(".highcharts-text-outline");ea&&r(ea,{display:fa})};C(ba)&&
ba("none");S=L.getBBox?w({},L.getBBox()):{width:L.offsetWidth,height:L.offsetHeight};C(ba)&&ba("")}catch(fa){""}if(!S||0>S.width)S={width:0,height:0}}else S=this.htmlGetBBox();H.isSVG&&(N=S.width,H=S.height,O&&(S.height=H={"11px,17":14,"13px,20":16}[R&&R.fontSize+","+Math.round(H)]||H),T&&(R=T*b,S.width=Math.abs(H*Math.sin(R))+Math.abs(N*Math.cos(R)),S.height=Math.abs(H*Math.cos(R))+Math.abs(N*Math.sin(R))));if(aa&&(""===U||0<S.height)){for(;250<Z.length;)delete V[Z.shift()];V[aa]||Z.push(aa);V[aa]=
S}}return S};Q.prototype.getStyle=function(N){return g.getComputedStyle(this.element||this,"").getPropertyValue(N)};Q.prototype.hasClass=function(N){return-1!==(""+this.attr("class")).split(" ").indexOf(N)};Q.prototype.hide=function(N){N?this.attr({y:-9999}):this.attr({visibility:"hidden"});return this};Q.prototype.htmlGetBBox=function(){return{height:0,width:0,x:0,y:0}};Q.prototype.init=function(N,T){this.element="span"===T?u(T):f.createElementNS(this.SVG_NS,T);this.renderer=N;A(this,"afterInit")};
Q.prototype.invert=function(N){this.inverted=N;this.updateTransform();return this};Q.prototype.on=function(N,T){var H=this.onEvents;if(H[N])H[N]();H[N]=q(this.element,N,T);return this};Q.prototype.opacitySetter=function(N,T,H){this.opacity=N=Number(Number(N).toFixed(3));H.setAttribute(T,N)};Q.prototype.removeClass=function(N){return this.attr("class",(""+this.attr("class")).replace(B(N)?new RegExp("(^| )"+N+"( |$)"):N," ").replace(/ +/g," ").trim())};Q.prototype.removeTextOutline=function(){var N=
this.element.querySelector("tspan.highcharts-text-outline");N&&this.safeRemoveChild(N)};Q.prototype.safeRemoveChild=function(N){var T=N.parentNode;T&&T.removeChild(N)};Q.prototype.setRadialReference=function(N){var T=this.element.gradient&&this.renderer.gradients[this.element.gradient];this.element.radialReference=N;T&&T.radAttr&&T.animate(this.renderer.getRadialAttr(N,T.radAttr));return this};Q.prototype.setTextPath=function(N,T){var H=this.element,L=this.text?this.text.element:H,R={textAnchor:"text-anchor"},
U=!1,V=this.textPathWrapper,Z=!V;T=G(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},T);var O=m.filterUserAttributes(T.attributes);if(N&&T&&T.enabled){V&&null===V.element.parentNode?(Z=!0,V=V.destroy()):V&&this.removeTextOutline.call(V.parentGroup);this.options&&this.options.padding&&(O.dx=-this.options.padding);V||(this.textPathWrapper=V=this.renderer.createElement("textPath"),U=!0);var W=V.element;(T=N.element.getAttribute("id"))||N.element.setAttribute("id",T=P());if(Z)for(L.setAttribute("y",
0),J(O.dx)&&L.setAttribute("x",-O.dx),N=[].slice.call(L.childNodes),Z=0;Z<N.length;Z++){var S=N[Z];S.nodeType!==g.Node.TEXT_NODE&&"tspan"!==S.nodeName||W.appendChild(S)}U&&V&&V.add({element:L});W.setAttributeNS("http://www.w3.org/1999/xlink","href",this.renderer.url+"#"+T);t(O.dy)&&(W.parentNode.setAttribute("dy",O.dy),delete O.dy);t(O.dx)&&(W.parentNode.setAttribute("dx",O.dx),delete O.dx);E(O,function(aa,ba){W.setAttribute(R[ba]||ba,aa)});H.removeAttribute("transform");this.removeTextOutline.call(V);
this.text&&!this.renderer.styledMode&&this.attr({fill:"none","stroke-width":0});this.applyTextOutline=this.updateTransform=e}else V&&(delete this.updateTransform,delete this.applyTextOutline,this.destroyTextPath(H,N),this.updateTransform(),this.options&&this.options.rotation&&this.applyTextOutline(this.options.style.textOutline));return this};Q.prototype.shadow=function(N,T,H){var L=[],R=this.element,U=this.oldShadowOptions,V={color:"#000000",offsetX:this.parentInverted?-1:1,offsetY:this.parentInverted?
-1:1,opacity:.15,width:3},Z=!1,O;!0===N?O=V:"object"===typeof N&&(O=w(V,N));O&&(O&&U&&E(O,function(fa,ea){fa!==U[ea]&&(Z=!0)}),Z&&this.destroyShadows(),this.oldShadowOptions=O);if(!O)this.destroyShadows();else if(!this.shadows){var W=O.opacity/O.width,S=this.parentInverted?"translate("+O.offsetY+", "+O.offsetX+")":"translate("+O.offsetX+", "+O.offsetY+")";for(V=1;V<=O.width;V++){var aa=R.cloneNode(!1),ba=2*O.width+1-2*V;x(aa,{stroke:N.color||"#000000","stroke-opacity":W*V,"stroke-width":ba,transform:S,
fill:"none"});aa.setAttribute("class",(aa.getAttribute("class")||"")+" highcharts-shadow");H&&(x(aa,"height",Math.max(x(aa,"height")-ba,0)),aa.cutHeight=ba);T?T.element.appendChild(aa):R.parentNode&&R.parentNode.insertBefore(aa,R);L.push(aa)}this.shadows=L}return this};Q.prototype.show=function(N){return this.attr({visibility:N?"inherit":"visible"})};Q.prototype.strokeSetter=function(N,T,H){this[T]=N;this.stroke&&this["stroke-width"]?(Q.prototype.fillSetter.call(this,this.stroke,"stroke",H),H.setAttribute("stroke-width",
this["stroke-width"]),this.hasStroke=!0):"stroke-width"===T&&0===N&&this.hasStroke?(H.removeAttribute("stroke"),this.hasStroke=!1):this.renderer.styledMode&&this["stroke-width"]&&(H.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0)};Q.prototype.strokeWidth=function(){if(!this.renderer.styledMode)return this["stroke-width"]||0;var N=this.getStyle("stroke-width"),T=0;if(N.indexOf("px")===N.length-2)T=D(N);else if(""!==N){var H=f.createElementNS(h,"rect");x(H,{width:N,"stroke-width":0});
this.element.parentNode.appendChild(H);T=H.getBBox().width;H.parentNode.removeChild(H)}return T};Q.prototype.symbolAttr=function(N){var T=this;"x y r start end width height innerR anchorX anchorY clockwise".split(" ").forEach(function(H){T[H]=v(N[H],T[H])});T.attr({d:T.renderer.symbols[T.symbolName](T.x,T.y,T.width,T.height,T)})};Q.prototype.textSetter=function(N){N!==this.textStr&&(delete this.textPxLength,this.textStr=N,this.added&&this.renderer.buildText(this))};Q.prototype.titleSetter=function(N){var T=
this.element,H=T.getElementsByTagName("title")[0]||f.createElementNS(this.SVG_NS,"title");T.insertBefore?T.insertBefore(H,T.firstChild):T.appendChild(H);H.textContent=String(v(N,"")).replace(/<[^>]*>/g,"").replace(/&lt;/g,"\x3c").replace(/&gt;/g,"\x3e")};Q.prototype.toFront=function(){var N=this.element;N.parentNode.appendChild(N);return this};Q.prototype.translate=function(N,T){return this.attr({translateX:N,translateY:T})};Q.prototype.updateShadows=function(N,T,H){var L=this.shadows;if(L)for(var R=
L.length;R--;)H.call(L[R],"height"===N?Math.max(T-(L[R].cutHeight||0),0):"d"===N?this.d:T,N,L[R])};Q.prototype.updateTransform=function(){var N=this.scaleX,T=this.scaleY,H=this.inverted,L=this.rotation,R=this.matrix,U=this.element,V=this.translateX||0,Z=this.translateY||0;H&&(V+=this.width,Z+=this.height);V=["translate("+V+","+Z+")"];t(R)&&V.push("matrix("+R.join(",")+")");H?V.push("rotate(90) scale(-1,1)"):L&&V.push("rotate("+L+" "+v(this.rotationOriginX,U.getAttribute("x"),0)+" "+v(this.rotationOriginY,
U.getAttribute("y")||0)+")");(t(N)||t(T))&&V.push("scale("+v(N,1)+" "+v(T,1)+")");V.length&&U.setAttribute("transform",V.join(" "))};Q.prototype.visibilitySetter=function(N,T,H){"inherit"===N?H.removeAttribute(T):this[T]!==N&&H.setAttribute(T,N);this[T]=N};Q.prototype.xGetter=function(N){"circle"===this.element.nodeName&&("x"===N?N="cx":"y"===N&&(N="cy"));return this._defaultGetter(N)};Q.prototype.zIndexSetter=function(N,T){var H=this.renderer,L=this.parentGroup,R=(L||H).element||H.box,U=this.element;
H=R===H.box;var V=!1,Z=this.added,O;t(N)?(U.setAttribute("data-z-index",N),N=+N,this[T]===N&&(Z=!1)):t(this[T])&&U.removeAttribute("data-z-index");this[T]=N;if(Z){(N=this.zIndex)&&L&&(L.handleZ=!0);T=R.childNodes;for(O=T.length-1;0<=O&&!V;O--){L=T[O];Z=L.getAttribute("data-z-index");var W=!t(Z);if(L!==U)if(0>N&&W&&!H&&!O)R.insertBefore(U,T[O]),V=!0;else if(D(Z)<=N||W&&(!t(N)||0<=N))R.insertBefore(U,T[O+1]||null),V=!0}V||(R.insertBefore(U,T[H?3:0]||null),V=!0)}return V};return Q}();z.prototype["stroke-widthSetter"]=
z.prototype.strokeSetter;z.prototype.yGetter=z.prototype.xGetter;z.prototype.matrixSetter=z.prototype.rotationOriginXSetter=z.prototype.rotationOriginYSetter=z.prototype.rotationSetter=z.prototype.scaleXSetter=z.prototype.scaleYSetter=z.prototype.translateXSetter=z.prototype.translateYSetter=z.prototype.verticalAlignSetter=function(Q,N){this[N]=Q;this.doTransform=!0};"";return z});Y(I,"Core/Renderer/RendererRegistry.js",[I["Core/Globals.js"]],function(z){var m;(function(n){n.rendererTypes={};var l;
n.getRendererType=function(c){void 0===c&&(c=l);return n.rendererTypes[c]||n.rendererTypes[l]};n.registerRendererType=function(c,p,d){n.rendererTypes[c]=p;if(!l||d)l=c,z.Renderer=p}})(m||(m={}));return m});Y(I,"Core/Renderer/SVG/SVGLabel.js",[I["Core/Renderer/SVG/SVGElement.js"],I["Core/Utilities.js"]],function(z,m){var n=this&&this.__extends||function(){var f=function(e,k){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,g){h.__proto__=g}||function(h,g){for(var q in g)g.hasOwnProperty(q)&&
(h[q]=g[q])};return f(e,k)};return function(e,k){function h(){this.constructor=e}f(e,k);e.prototype=null===k?Object.create(k):(h.prototype=k.prototype,new h)}}(),l=m.defined,c=m.extend,p=m.isNumber,d=m.merge,a=m.pick,b=m.removeEvent;return function(f){function e(k,h,g,q,x,u,r,t,y,w){var A=f.call(this)||this;A.paddingLeftSetter=A.paddingSetter;A.paddingRightSetter=A.paddingSetter;A.init(k,"g");A.textStr=h;A.x=g;A.y=q;A.anchorX=u;A.anchorY=r;A.baseline=y;A.className=w;A.addClass("button"===w?"highcharts-no-tooltip":
"highcharts-label");w&&A.addClass("highcharts-"+w);A.text=k.text(void 0,0,0,t).attr({zIndex:1});var F;"string"===typeof x&&((F=/^url\((.*?)\)$/.test(x))||A.renderer.symbols[x])&&(A.symbolKey=x);A.bBox=e.emptyBBox;A.padding=3;A.baselineOffset=0;A.needsBox=k.styledMode||F;A.deferredAttr={};A.alignFactor=0;return A}n(e,f);e.prototype.alignSetter=function(k){k={left:0,center:.5,right:1}[k];k!==this.alignFactor&&(this.alignFactor=k,this.bBox&&p(this.xSetting)&&this.attr({x:this.xSetting}))};e.prototype.anchorXSetter=
function(k,h){this.anchorX=k;this.boxAttr(h,Math.round(k)-this.getCrispAdjust()-this.xSetting)};e.prototype.anchorYSetter=function(k,h){this.anchorY=k;this.boxAttr(h,k-this.ySetting)};e.prototype.boxAttr=function(k,h){this.box?this.box.attr(k,h):this.deferredAttr[k]=h};e.prototype.css=function(k){if(k){var h={};k=d(k);e.textProps.forEach(function(q){"undefined"!==typeof k[q]&&(h[q]=k[q],delete k[q])});this.text.css(h);var g="width"in h;"fontSize"in h||"fontWeight"in h?this.updateTextPadding():g&&
this.updateBoxSize()}return z.prototype.css.call(this,k)};e.prototype.destroy=function(){b(this.element,"mouseenter");b(this.element,"mouseleave");this.text&&this.text.destroy();this.box&&(this.box=this.box.destroy());z.prototype.destroy.call(this)};e.prototype.fillSetter=function(k,h){k&&(this.needsBox=!0);this.fill=k;this.boxAttr(h,k)};e.prototype.getBBox=function(){this.textStr&&0===this.bBox.width&&0===this.bBox.height&&this.updateBoxSize();var k=this.padding,h=a(this.paddingLeft,k);return{width:this.width,
height:this.height,x:this.bBox.x-h,y:this.bBox.y-k}};e.prototype.getCrispAdjust=function(){return this.renderer.styledMode&&this.box?this.box.strokeWidth()%2/2:(this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2};e.prototype.heightSetter=function(k){this.heightSetting=k};e.prototype.onAdd=function(){var k=this.textStr;this.text.add(this);this.attr({text:l(k)?k:"",x:this.x,y:this.y});this.box&&l(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})};e.prototype.paddingSetter=
function(k,h){p(k)?k!==this[h]&&(this[h]=k,this.updateTextPadding()):this[h]=void 0};e.prototype.rSetter=function(k,h){this.boxAttr(h,k)};e.prototype.shadow=function(k){k&&!this.renderer.styledMode&&(this.updateBoxSize(),this.box&&this.box.shadow(k));return this};e.prototype.strokeSetter=function(k,h){this.stroke=k;this.boxAttr(h,k)};e.prototype["stroke-widthSetter"]=function(k,h){k&&(this.needsBox=!0);this["stroke-width"]=k;this.boxAttr(h,k)};e.prototype["text-alignSetter"]=function(k){this.textAlign=
k};e.prototype.textSetter=function(k){"undefined"!==typeof k&&this.text.attr({text:k});this.updateTextPadding()};e.prototype.updateBoxSize=function(){var k=this.text.element.style,h={},g=this.padding,q=this.bBox=p(this.widthSetting)&&p(this.heightSetting)&&!this.textAlign||!l(this.text.textStr)?e.emptyBBox:this.text.getBBox();this.width=this.getPaddedWidth();this.height=(this.heightSetting||q.height||0)+2*g;k=this.renderer.fontMetrics(k&&k.fontSize,this.text);this.baselineOffset=g+Math.min((this.text.firstLineMetrics||
k).b,q.height||Infinity);this.heightSetting&&(this.baselineOffset+=(this.heightSetting-k.h)/2);this.needsBox&&(this.box||(g=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect(),g.addClass(("button"===this.className?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),g.add(this)),g=this.getCrispAdjust(),h.x=g,h.y=(this.baseline?-this.baselineOffset:0)+g,h.width=Math.round(this.width),h.height=Math.round(this.height),this.box.attr(c(h,this.deferredAttr)),
this.deferredAttr={})};e.prototype.updateTextPadding=function(){var k=this.text;this.updateBoxSize();var h=this.baseline?0:this.baselineOffset,g=a(this.paddingLeft,this.padding);l(this.widthSetting)&&this.bBox&&("center"===this.textAlign||"right"===this.textAlign)&&(g+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width));if(g!==k.x||h!==k.y)k.attr("x",g),k.hasBoxWidthChanged&&(this.bBox=k.getBBox(!0)),"undefined"!==typeof h&&k.attr("y",h);k.x=g;k.y=h};e.prototype.widthSetter=function(k){this.widthSetting=
p(k)?k:void 0};e.prototype.getPaddedWidth=function(){var k=this.padding,h=a(this.paddingLeft,k);k=a(this.paddingRight,k);return(this.widthSetting||this.bBox.width||0)+h+k};e.prototype.xSetter=function(k){this.x=k;this.alignFactor&&(k-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0);this.xSetting=Math.round(k);this.attr("translateX",this.xSetting)};e.prototype.ySetter=function(k){this.ySetting=this.y=Math.round(k);this.attr("translateY",this.ySetting)};e.emptyBBox={width:0,height:0,
x:0,y:0};e.textProps="color direction fontFamily fontSize fontStyle fontWeight lineHeight textAlign textDecoration textOutline textOverflow width".split(" ");return e}(z)});Y(I,"Core/Renderer/SVG/Symbols.js",[I["Core/Utilities.js"]],function(z){function m(a,b,f,e,k){var h=[];if(k){var g=k.start||0,q=d(k.r,f);f=d(k.r,e||f);var x=(k.end||0)-.001;e=k.innerR;var u=d(k.open,.001>Math.abs((k.end||0)-g-2*Math.PI)),r=Math.cos(g),t=Math.sin(g),y=Math.cos(x),w=Math.sin(x);g=d(k.longArc,.001>x-g-Math.PI?0:1);
h.push(["M",a+q*r,b+f*t],["A",q,f,0,g,d(k.clockwise,1),a+q*y,b+f*w]);c(e)&&h.push(u?["M",a+e*y,b+e*w]:["L",a+e*y,b+e*w],["A",e,e,0,g,c(k.clockwise)?1-k.clockwise:0,a+e*r,b+e*t]);u||h.push(["Z"])}return h}function n(a,b,f,e,k){return k&&k.r?l(a,b,f,e,k):[["M",a,b],["L",a+f,b],["L",a+f,b+e],["L",a,b+e],["Z"]]}function l(a,b,f,e,k){k=k&&k.r||0;return[["M",a+k,b],["L",a+f-k,b],["C",a+f,b,a+f,b,a+f,b+k],["L",a+f,b+e-k],["C",a+f,b+e,a+f,b+e,a+f-k,b+e],["L",a+k,b+e],["C",a,b+e,a,b+e,a,b+e-k],["L",a,b+k],
["C",a,b,a,b,a+k,b]]}var c=z.defined,p=z.isNumber,d=z.pick;return{arc:m,callout:function(a,b,f,e,k){var h=Math.min(k&&k.r||0,f,e),g=h+6,q=k&&k.anchorX;k=k&&k.anchorY||0;var x=l(a,b,f,e,{r:h});if(!p(q))return x;a+q>=f?k>b+g&&k<b+e-g?x.splice(3,1,["L",a+f,k-6],["L",a+f+6,k],["L",a+f,k+6],["L",a+f,b+e-h]):x.splice(3,1,["L",a+f,e/2],["L",q,k],["L",a+f,e/2],["L",a+f,b+e-h]):0>=a+q?k>b+g&&k<b+e-g?x.splice(7,1,["L",a,k+6],["L",a-6,k],["L",a,k-6],["L",a,b+h]):x.splice(7,1,["L",a,e/2],["L",q,k],["L",a,e/2],
["L",a,b+h]):k&&k>e&&q>a+g&&q<a+f-g?x.splice(5,1,["L",q+6,b+e],["L",q,b+e+6],["L",q-6,b+e],["L",a+h,b+e]):k&&0>k&&q>a+g&&q<a+f-g&&x.splice(1,1,["L",q-6,b],["L",q,b-6],["L",q+6,b],["L",f-h,b]);return x},circle:function(a,b,f,e){return m(a+f/2,b+e/2,f/2,e/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(a,b,f,e){return[["M",a+f/2,b],["L",a+f,b+e/2],["L",a+f/2,b+e],["L",a,b+e/2],["Z"]]},rect:n,roundedRect:l,square:n,triangle:function(a,b,f,e){return[["M",a+f/2,b],["L",a+f,b+e],["L",a,
b+e],["Z"]]},"triangle-down":function(a,b,f,e){return[["M",a,b],["L",a+f,b],["L",a+f/2,b+e],["Z"]]}}});Y(I,"Core/Renderer/SVG/TextBuilder.js",[I["Core/Renderer/HTML/AST.js"],I["Core/Globals.js"],I["Core/Utilities.js"]],function(z,m,n){var l=m.doc,c=m.SVG_NS,p=m.win,d=n.attr,a=n.isString,b=n.objectEach,f=n.pick;return function(){function e(k){var h=k.styles;this.renderer=k.renderer;this.svgElement=k;this.width=k.textWidth;this.textLineHeight=h&&h.lineHeight;this.textOutline=h&&h.textOutline;this.ellipsis=
!(!h||"ellipsis"!==h.textOverflow);this.noWrap=!(!h||"nowrap"!==h.whiteSpace);this.fontSize=h&&h.fontSize}e.prototype.buildSVG=function(){var k=this.svgElement,h=k.element,g=k.renderer,q=f(k.textStr,"").toString(),x=-1!==q.indexOf("\x3c"),u=h.childNodes;g=this.width&&!k.added&&g.box;var r=/<br.*?>/g,t=[q,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,this.fontSize,this.width].join();if(t!==k.textCache){k.textCache=t;delete k.actualWidth;for(t=u.length;t--;)h.removeChild(u[t]);x||this.ellipsis||
this.width||-1!==q.indexOf(" ")&&(!this.noWrap||r.test(q))?""!==q&&(g&&g.appendChild(h),q=new z(q),this.modifyTree(q.nodes),q.addToDOM(k.element),this.modifyDOM(),this.ellipsis&&-1!==(h.textContent||"").indexOf("\u2026")&&k.attr("title",this.unescapeEntities(k.textStr||"",["\x26lt;","\x26gt;"])),g&&g.removeChild(h)):h.appendChild(l.createTextNode(this.unescapeEntities(q)));a(this.textOutline)&&k.applyTextOutline&&k.applyTextOutline(this.textOutline)}};e.prototype.modifyDOM=function(){var k=this,h=
this.svgElement,g=d(h.element,"x");h.firstLineMetrics=void 0;for(var q;q=h.element.firstChild;)if(/^[\s\u200B]*$/.test(q.textContent||" "))h.element.removeChild(q);else break;[].forEach.call(h.element.querySelectorAll("tspan.highcharts-br"),function(t,y){t.nextSibling&&t.previousSibling&&(0===y&&1===t.previousSibling.nodeType&&(h.firstLineMetrics=h.renderer.fontMetrics(void 0,t.previousSibling)),d(t,{dy:k.getLineHeight(t.nextSibling),x:g}))});var x=this.width||0;if(x){var u=function(t,y){var w=t.textContent||
"",A=w.replace(/([^\^])-/g,"$1- ").split(" "),F=!k.noWrap&&(1<A.length||1<h.element.childNodes.length),C=k.getLineHeight(y),J=0,B=h.actualWidth;if(k.ellipsis)w&&k.truncate(t,w,void 0,0,Math.max(0,x-parseInt(k.fontSize||12,10)),function(G,E){return G.substring(0,E)+"\u2026"});else if(F){w=[];for(F=[];y.firstChild&&y.firstChild!==t;)F.push(y.firstChild),y.removeChild(y.firstChild);for(;A.length;)A.length&&!k.noWrap&&0<J&&(w.push(t.textContent||""),t.textContent=A.join(" ").replace(/- /g,"-")),k.truncate(t,
void 0,A,0===J?B||0:0,x,function(G,E){return A.slice(0,E).join(" ").replace(/- /g,"-")}),B=h.actualWidth,J++;F.forEach(function(G){y.insertBefore(G,t)});w.forEach(function(G){y.insertBefore(l.createTextNode(G),t);G=l.createElementNS(c,"tspan");G.textContent="\u200b";d(G,{dy:C,x:g});y.insertBefore(G,t)})}},r=function(t){[].slice.call(t.childNodes).forEach(function(y){y.nodeType===p.Node.TEXT_NODE?u(y,t):(-1!==y.className.baseVal.indexOf("highcharts-br")&&(h.actualWidth=0),r(y))})};r(h.element)}};e.prototype.getLineHeight=
function(k){var h;k=k.nodeType===p.Node.TEXT_NODE?k.parentElement:k;this.renderer.styledMode||(h=k&&/(px|em)$/.test(k.style.fontSize)?k.style.fontSize:this.fontSize||this.renderer.style.fontSize||12);return this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(h,k||this.svgElement.element).h};e.prototype.modifyTree=function(k){var h=this,g=function(q,x){var u=q.tagName,r=h.renderer.styledMode,t=q.attributes||{};if("b"===u||"strong"===u)r?t["class"]="highcharts-strong":
t.style="font-weight:bold;"+(t.style||"");else if("i"===u||"em"===u)r?t["class"]="highcharts-emphasized":t.style="font-style:italic;"+(t.style||"");a(t.style)&&(t.style=t.style.replace(/(;| |^)color([ :])/,"$1fill$2"));"br"===u&&(t["class"]="highcharts-br",q.textContent="\u200b",(x=k[x+1])&&x.textContent&&(x.textContent=x.textContent.replace(/^ +/gm,"")));"#text"!==u&&"a"!==u&&(q.tagName="tspan");q.attributes=t;q.children&&q.children.filter(function(y){return"#text"!==y.tagName}).forEach(g)};k.forEach(g)};
e.prototype.truncate=function(k,h,g,q,x,u){var r=this.svgElement,t=r.renderer,y=r.rotation,w=[],A=g?1:0,F=(h||g||"").length,C=F,J,B=function(E,v){v=v||E;var D=k.parentNode;if(D&&"undefined"===typeof w[v])if(D.getSubStringLength)try{w[v]=q+D.getSubStringLength(0,g?v+1:v)}catch(K){""}else t.getSpanWidth&&(k.textContent=u(h||g,E),w[v]=q+t.getSpanWidth(r,k));return w[v]};r.rotation=0;var G=B(k.textContent.length);if(q+G>x){for(;A<=F;)C=Math.ceil((A+F)/2),g&&(J=u(g,C)),G=B(C,J&&J.length-1),A===F?A=F+1:
G>x?F=C-1:A=C;0===F?k.textContent="":h&&F===h.length-1||(k.textContent=J||u(h||g,C))}g&&g.splice(0,C);r.actualWidth=G;r.rotation=y};e.prototype.unescapeEntities=function(k,h){b(this.renderer.escapes,function(g,q){h&&-1!==h.indexOf(g)||(k=k.toString().replace(new RegExp(g,"g"),q))});return k};return e}()});Y(I,"Core/Renderer/SVG/SVGRenderer.js",[I["Core/Renderer/HTML/AST.js"],I["Core/Color/Color.js"],I["Core/Globals.js"],I["Core/Renderer/RendererRegistry.js"],I["Core/Renderer/SVG/SVGElement.js"],I["Core/Renderer/SVG/SVGLabel.js"],
I["Core/Renderer/SVG/Symbols.js"],I["Core/Renderer/SVG/TextBuilder.js"],I["Core/Utilities.js"]],function(z,m,n,l,c,p,d,a,b){var f=n.charts,e=n.deg2rad,k=n.doc,h=n.isFirefox,g=n.isMS,q=n.isWebKit,x=n.noop,u=n.SVG_NS,r=n.symbolSizes,t=n.win,y=b.addEvent,w=b.attr,A=b.createElement,F=b.css,C=b.defined,J=b.destroyObjectProperties,B=b.extend,G=b.isArray,E=b.isNumber,v=b.isObject,D=b.isString,K=b.merge,P=b.pick,Q=b.pInt,N=b.uniqueKey,T;n=function(){function H(L,R,U,V,Z,O,W){this.width=this.url=this.style=
this.isSVG=this.imgCount=this.height=this.gradients=this.globalAnimation=this.defs=this.chartIndex=this.cacheKeys=this.cache=this.boxWrapper=this.box=this.alignedObjects=void 0;this.init(L,R,U,V,Z,O,W)}H.prototype.init=function(L,R,U,V,Z,O,W){var S=this.createElement("svg").attr({version:"1.1","class":"highcharts-root"}),aa=S.element;W||S.css(this.getStyle(V));L.appendChild(aa);w(L,"dir","ltr");-1===L.innerHTML.indexOf("xmlns")&&w(aa,"xmlns",this.SVG_NS);this.isSVG=!0;this.box=aa;this.boxWrapper=
S;this.alignedObjects=[];this.url=this.getReferenceURL();this.createElement("desc").add().element.appendChild(k.createTextNode("Created with Highcharts 9.3.1"));this.defs=this.createElement("defs").add();this.allowHTML=O;this.forExport=Z;this.styledMode=W;this.gradients={};this.cache={};this.cacheKeys=[];this.imgCount=0;this.setSize(R,U,!1);var ba;h&&L.getBoundingClientRect&&(R=function(){F(L,{left:0,top:0});ba=L.getBoundingClientRect();F(L,{left:Math.ceil(ba.left)-ba.left+"px",top:Math.ceil(ba.top)-
ba.top+"px"})},R(),this.unSubPixelFix=y(t,"resize",R))};H.prototype.definition=function(L){return(new z([L])).addToDOM(this.defs.element)};H.prototype.getReferenceURL=function(){if((h||q)&&k.getElementsByTagName("base").length){if(!C(T)){var L=N();L=(new z([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:L},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":"url(#"+
L+")",fill:"rgba(0,0,0,0.001)"}}]}])).addToDOM(k.body);F(L,{position:"fixed",top:0,left:0,zIndex:9E5});var R=k.elementFromPoint(6,6);T="hitme"===(R&&R.id);k.body.removeChild(L)}if(T)return t.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20")}return""};H.prototype.getStyle=function(L){return this.style=B({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},L)};H.prototype.setStyle=function(L){this.boxWrapper.css(this.getStyle(L))};
H.prototype.isHidden=function(){return!this.boxWrapper.getBBox().width};H.prototype.destroy=function(){var L=this.defs;this.box=null;this.boxWrapper=this.boxWrapper.destroy();J(this.gradients||{});this.gradients=null;L&&(this.defs=L.destroy());this.unSubPixelFix&&this.unSubPixelFix();return this.alignedObjects=null};H.prototype.createElement=function(L){var R=new this.Element;R.init(this,L);return R};H.prototype.getRadialAttr=function(L,R){return{cx:L[0]-L[2]/2+(R.cx||0)*L[2],cy:L[1]-L[2]/2+(R.cy||
0)*L[2],r:(R.r||0)*L[2]}};H.prototype.buildText=function(L){(new a(L)).buildSVG()};H.prototype.getContrast=function(L){L=m.parse(L).rgba;L[0]*=1;L[1]*=1.2;L[2]*=.5;return 459<L[0]+L[1]+L[2]?"#000000":"#FFFFFF"};H.prototype.button=function(L,R,U,V,Z,O,W,S,aa,ba){var fa=this.label(L,R,U,aa,void 0,void 0,ba,void 0,"button"),ea=this.styledMode,ha=0,ka=Z?K(Z):{};L=ka&&ka.style||{};ka=z.filterUserAttributes(ka);fa.attr(K({padding:8,r:2},ka));if(!ea){ka=K({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,
style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},{style:L},ka);var ra=ka.style;delete ka.style;O=K(ka,{fill:"#e6e6e6"},z.filterUserAttributes(O||{}));var ta=O.style;delete O.style;W=K(ka,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},z.filterUserAttributes(W||{}));var sa=W.style;delete W.style;S=K(ka,{style:{color:"#cccccc"}},z.filterUserAttributes(S||{}));var oa=S.style;delete S.style}y(fa.element,g?"mouseover":"mouseenter",function(){3!==ha&&fa.setState(1)});y(fa.element,
g?"mouseout":"mouseleave",function(){3!==ha&&fa.setState(ha)});fa.setState=function(ma){1!==ma&&(fa.state=ha=ma);fa.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][ma||0]);ea||fa.attr([ka,O,W,S][ma||0]).css([ra,ta,sa,oa][ma||0])};ea||fa.attr(ka).css(B({cursor:"default"},ra));return fa.on("touchstart",function(ma){return ma.stopPropagation()}).on("click",function(ma){3!==ha&&V.call(fa,ma)})};H.prototype.crispLine=
function(L,R,U){void 0===U&&(U="round");var V=L[0],Z=L[1];C(V[1])&&V[1]===Z[1]&&(V[1]=Z[1]=Math[U](V[1])-R%2/2);C(V[2])&&V[2]===Z[2]&&(V[2]=Z[2]=Math[U](V[2])+R%2/2);return L};H.prototype.path=function(L){var R=this.styledMode?{}:{fill:"none"};G(L)?R.d=L:v(L)&&B(R,L);return this.createElement("path").attr(R)};H.prototype.circle=function(L,R,U){L=v(L)?L:"undefined"===typeof L?{}:{x:L,y:R,r:U};R=this.createElement("circle");R.xSetter=R.ySetter=function(V,Z,O){O.setAttribute("c"+Z,V)};return R.attr(L)};
H.prototype.arc=function(L,R,U,V,Z,O){v(L)?(V=L,R=V.y,U=V.r,L=V.x):V={innerR:V,start:Z,end:O};L=this.symbol("arc",L,R,U,U,V);L.r=U;return L};H.prototype.rect=function(L,R,U,V,Z,O){Z=v(L)?L.r:Z;var W=this.createElement("rect");L=v(L)?L:"undefined"===typeof L?{}:{x:L,y:R,width:Math.max(U,0),height:Math.max(V,0)};this.styledMode||("undefined"!==typeof O&&(L["stroke-width"]=O,L=W.crisp(L)),L.fill="none");Z&&(L.r=Z);W.rSetter=function(S,aa,ba){W.r=S;w(ba,{rx:S,ry:S})};W.rGetter=function(){return W.r||
0};return W.attr(L)};H.prototype.setSize=function(L,R,U){this.width=L;this.height=R;this.boxWrapper.animate({width:L,height:R},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:P(U,!0)?void 0:0});this.alignElements()};H.prototype.g=function(L){var R=this.createElement("g");return L?R.attr({"class":"highcharts-"+L}):R};H.prototype.image=function(L,R,U,V,Z,O){var W={preserveAspectRatio:"none"},S=function(ba,fa){ba.setAttributeNS?ba.setAttributeNS("http://www.w3.org/1999/xlink",
"href",fa):ba.setAttribute("hc-svg-href",fa)};E(R)&&(W.x=R);E(U)&&(W.y=U);E(V)&&(W.width=V);E(Z)&&(W.height=Z);var aa=this.createElement("image").attr(W);R=function(ba){S(aa.element,L);O.call(aa,ba)};O?(S(aa.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw\x3d\x3d"),U=new t.Image,y(U,"load",R),U.src=L,U.complete&&R({})):S(aa.element,L);return aa};H.prototype.symbol=function(L,R,U,V,Z,O){var W=this,S=/^url\((.*?)\)$/,aa=S.test(L),ba=!aa&&(this.symbols[L]?L:"circle"),
fa=ba&&this.symbols[ba],ea;if(fa){"number"===typeof R&&(ea=fa.call(this.symbols,Math.round(R||0),Math.round(U||0),V||0,Z||0,O));var ha=this.path(ea);W.styledMode||ha.attr("fill","none");B(ha,{symbolName:ba||void 0,x:R,y:U,width:V,height:Z});O&&B(ha,O)}else if(aa){var ka=L.match(S)[1],ra=ha=this.image(ka);ra.imgwidth=P(r[ka]&&r[ka].width,O&&O.width);ra.imgheight=P(r[ka]&&r[ka].height,O&&O.height);["width","height"].forEach(function(ta){ra[ta+"Setter"]=function(sa,oa){var ma=this["img"+oa];this[oa]=
sa;C(ma)&&(O&&"within"===O.backgroundSize&&this.width&&this.height&&(ma=Math.round(ma*Math.min(this.width/this.imgwidth,this.height/this.imgheight))),this.element&&this.element.setAttribute(oa,ma),this.alignByTranslate||(sa=((this[oa]||0)-ma)/2,this.attr("width"===oa?{translateX:sa}:{translateY:sa})))}});C(R)&&ra.attr({x:R,y:U});ra.isImg=!0;C(ra.imgwidth)&&C(ra.imgheight)?ra.attr({width:ra.width,height:ra.height}):(ra.attr({width:0,height:0}),A("img",{onload:function(){var ta=f[W.chartIndex];0===
this.width&&(F(this,{position:"absolute",top:"-999em"}),k.body.appendChild(this));r[ka]={width:this.width,height:this.height};ra.imgwidth=this.width;ra.imgheight=this.height;ra.element&&ra.attr({width:ra.width,height:ra.height});this.parentNode&&this.parentNode.removeChild(this);W.imgCount--;if(!W.imgCount&&ta&&!ta.hasLoaded)ta.onload()},src:ka}),this.imgCount++)}return ha};H.prototype.clipRect=function(L,R,U,V){var Z=N()+"-",O=this.createElement("clipPath").attr({id:Z}).add(this.defs);L=this.rect(L,
R,U,V,0).add(O);L.id=Z;L.clipPath=O;L.count=0;return L};H.prototype.text=function(L,R,U,V){var Z={};if(V&&(this.allowHTML||!this.forExport))return this.html(L,R,U);Z.x=Math.round(R||0);U&&(Z.y=Math.round(U));C(L)&&(Z.text=L);L=this.createElement("text").attr(Z);if(!V||this.forExport&&!this.allowHTML)L.xSetter=function(O,W,S){for(var aa=S.getElementsByTagName("tspan"),ba=S.getAttribute(W),fa=0,ea;fa<aa.length;fa++)ea=aa[fa],ea.getAttribute(W)===ba&&ea.setAttribute(W,O);S.setAttribute(W,O)};return L};
H.prototype.fontMetrics=function(L,R){L=!this.styledMode&&/px/.test(L)||!t.getComputedStyle?L||R&&R.style&&R.style.fontSize||this.style&&this.style.fontSize:R&&c.prototype.getStyle.call(R,"font-size");L=/px/.test(L)?Q(L):12;R=24>L?L+3:Math.round(1.2*L);return{h:R,b:Math.round(.8*R),f:L}};H.prototype.rotCorr=function(L,R,U){var V=L;R&&U&&(V=Math.max(V*Math.cos(R*e),4));return{x:-L/3*Math.sin(R*e),y:V}};H.prototype.pathToSegments=function(L){for(var R=[],U=[],V={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2},
Z=0;Z<L.length;Z++)D(U[0])&&E(L[Z])&&U.length===V[U[0].toUpperCase()]&&L.splice(Z,0,U[0].replace("M","L").replace("m","l")),"string"===typeof L[Z]&&(U.length&&R.push(U.slice(0)),U.length=0),U.push(L[Z]);R.push(U.slice(0));return R};H.prototype.label=function(L,R,U,V,Z,O,W,S,aa){return new p(this,L,R,U,V,Z,O,W,S,aa)};H.prototype.alignElements=function(){this.alignedObjects.forEach(function(L){return L.align()})};return H}();B(n.prototype,{Element:c,SVG_NS:u,escapes:{"\x26":"\x26amp;","\x3c":"\x26lt;",
"\x3e":"\x26gt;","'":"\x26#39;",'"':"\x26quot;"},symbols:d,draw:x});l.registerRendererType("svg",n,!0);"";return n});Y(I,"Core/Renderer/HTML/HTMLElement.js",[I["Core/Globals.js"],I["Core/Renderer/SVG/SVGElement.js"],I["Core/Utilities.js"]],function(z,m,n){var l=this&&this.__extends||function(){var g=function(q,x){g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,r){u.__proto__=r}||function(u,r){for(var t in r)r.hasOwnProperty(t)&&(u[t]=r[t])};return g(q,x)};return function(q,x){function u(){this.constructor=
q}g(q,x);q.prototype=null===x?Object.create(x):(u.prototype=x.prototype,new u)}}(),c=z.isFirefox,p=z.isMS,d=z.isWebKit,a=z.win,b=n.css,f=n.defined,e=n.extend,k=n.pick,h=n.pInt;return function(g){function q(){return null!==g&&g.apply(this,arguments)||this}l(q,g);q.compose=function(x){if(-1===q.composedClasses.indexOf(x)){q.composedClasses.push(x);var u=q.prototype,r=x.prototype;r.getSpanCorrection=u.getSpanCorrection;r.htmlCss=u.htmlCss;r.htmlGetBBox=u.htmlGetBBox;r.htmlUpdateTransform=u.htmlUpdateTransform;
r.setSpanRotation=u.setSpanRotation}return x};q.prototype.getSpanCorrection=function(x,u,r){this.xCorr=-x*r;this.yCorr=-u};q.prototype.htmlCss=function(x){var u="SPAN"===this.element.tagName&&x&&"width"in x,r=k(u&&x.width,void 0);if(u){delete x.width;this.textWidth=r;var t=!0}x&&"ellipsis"===x.textOverflow&&(x.whiteSpace="nowrap",x.overflow="hidden");this.styles=e(this.styles,x);b(this.element,x);t&&this.htmlUpdateTransform();return this};q.prototype.htmlGetBBox=function(){var x=this.element;return{x:x.offsetLeft,
y:x.offsetTop,width:x.offsetWidth,height:x.offsetHeight}};q.prototype.htmlUpdateTransform=function(){if(this.added){var x=this.renderer,u=this.element,r=this.translateX||0,t=this.translateY||0,y=this.x||0,w=this.y||0,A=this.textAlign||"left",F={left:0,center:.5,right:1}[A],C=this.styles;C=C&&C.whiteSpace;b(u,{marginLeft:r,marginTop:t});!x.styledMode&&this.shadows&&this.shadows.forEach(function(D){b(D,{marginLeft:r+1,marginTop:t+1})});this.inverted&&[].forEach.call(u.childNodes,function(D){x.invertChild(D,
u)});if("SPAN"===u.tagName){var J=this.rotation,B=this.textWidth&&h(this.textWidth),G=[J,A,u.innerHTML,this.textWidth,this.textAlign].join(),E=void 0;E=!1;if(B!==this.oldTextWidth){if(this.textPxLength)var v=this.textPxLength;else b(u,{width:"",whiteSpace:C||"nowrap"}),v=u.offsetWidth;(B>this.oldTextWidth||v>B)&&(/[ \-]/.test(u.textContent||u.innerText)||"ellipsis"===u.style.textOverflow)&&(b(u,{width:v>B||J?B+"px":"auto",display:"block",whiteSpace:C||"normal"}),this.oldTextWidth=B,E=!0)}this.hasBoxWidthChanged=
E;G!==this.cTT&&(E=x.fontMetrics(u.style.fontSize,u).b,!f(J)||J===(this.oldRotation||0)&&A===this.oldAlign||this.setSpanRotation(J,F,E),this.getSpanCorrection(!f(J)&&this.textPxLength||u.offsetWidth,E,F,J,A));b(u,{left:y+(this.xCorr||0)+"px",top:w+(this.yCorr||0)+"px"});this.cTT=G;this.oldRotation=J;this.oldAlign=A}}else this.alignOnAdd=!0};q.prototype.setSpanRotation=function(x,u,r){var t={},y=p&&!/Edge/.test(a.navigator.userAgent)?"-ms-transform":d?"-webkit-transform":c?"MozTransform":a.opera?"-o-transform":
void 0;y&&(t[y]=t.transform="rotate("+x+"deg)",t[y+(c?"Origin":"-origin")]=t.transformOrigin=100*u+"% "+r+"px",b(this.element,t))};q.composedClasses=[];return q}(m)});Y(I,"Core/Renderer/HTML/HTMLRenderer.js",[I["Core/Renderer/HTML/AST.js"],I["Core/Renderer/SVG/SVGElement.js"],I["Core/Renderer/SVG/SVGRenderer.js"],I["Core/Utilities.js"]],function(z,m,n,l){var c=this&&this.__extends||function(){var f=function(e,k){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,g){h.__proto__=g}||
function(h,g){for(var q in g)g.hasOwnProperty(q)&&(h[q]=g[q])};return f(e,k)};return function(e,k){function h(){this.constructor=e}f(e,k);e.prototype=null===k?Object.create(k):(h.prototype=k.prototype,new h)}}(),p=l.attr,d=l.createElement,a=l.extend,b=l.pick;return function(f){function e(){return null!==f&&f.apply(this,arguments)||this}c(e,f);e.compose=function(k){-1===e.composedClasses.indexOf(k)&&(e.composedClasses.push(k),k.prototype.html=e.prototype.html);return k};e.prototype.html=function(k,
h,g){var q=this.createElement("span"),x=q.element,u=q.renderer,r=u.isSVG,t=function(y,w){["opacity","visibility"].forEach(function(A){y[A+"Setter"]=function(F,C,J){var B=y.div?y.div.style:w;m.prototype[A+"Setter"].call(this,F,C,J);B&&(B[C]=F)}});y.addedSetters=!0};q.textSetter=function(y){y!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,z.setElementHTML(this.element,b(y,"")),this.textStr=y,q.doTransform=!0)};r&&t(q,q.element.style);q.xSetter=q.ySetter=q.alignSetter=q.rotationSetter=function(y,
w){"align"===w?q.alignValue=q.textAlign=y:q[w]=y;q.doTransform=!0};q.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)};q.attr({text:k,x:Math.round(h),y:Math.round(g)}).css({position:"absolute"});u.styledMode||q.css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize});x.style.whiteSpace="nowrap";q.css=q.htmlCss;r&&(q.add=function(y){var w=u.box.parentNode,A=[];if(this.parentGroup=y){var F=y.div;if(!F){for(;y;)A.push(y),y=y.parentGroup;A.reverse().forEach(function(C){function J(v,
D){C[D]=v;"translateX"===D?E.left=v+"px":E.top=v+"px";C.doTransform=!0}var B=p(C.element,"class"),G=C.styles||{};F=C.div=C.div||d("div",B?{className:B}:void 0,{position:"absolute",left:(C.translateX||0)+"px",top:(C.translateY||0)+"px",display:C.display,opacity:C.opacity,cursor:G.cursor,pointerEvents:G.pointerEvents,visibility:C.visibility},F||w);var E=F.style;a(C,{classSetter:function(v){return function(D){this.element.setAttribute("class",D);v.className=D}}(F),on:function(){A[0].div&&q.on.apply({element:A[0].div,
onEvents:C.onEvents},arguments);return C},translateXSetter:J,translateYSetter:J});C.addedSetters||t(C)})}}else F=w;F.appendChild(x);q.added=!0;q.alignOnAdd&&q.htmlUpdateTransform();return q});return q};e.composedClasses=[];return e}(n)});Y(I,"Core/Axis/AxisDefaults.js",[],function(){var z;(function(m){m.defaultXAxisOptions={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},
minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e. %b"},week:{main:"%e. %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotation:void 0,autoRotationLimit:80,distance:void 0,enabled:!0,indentation:10,overflow:"justify",padding:5,reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,x:0,zIndex:7,style:{color:"#666666",cursor:"default",fontSize:"11px"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,
minorTickPosition:"outside",minPadding:.01,offset:void 0,opposite:!1,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",rotation:0,useHTML:!1,x:0,y:0,style:{color:"#666666"}},type:"linear",uniqueNames:!0,visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",
gridLineWidth:void 0,tickColor:"#ccd6eb"};m.defaultYAxisOptions={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){var n=this.axis.chart.numberFormatter;return n(this.total,-1)},style:{color:"#000000",fontSize:"11px",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0};
m.defaultLeftAxisOptions={labels:{x:-15},title:{rotation:270}};m.defaultRightAxisOptions={labels:{x:15},title:{rotation:90}};m.defaultBottomAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}};m.defaultTopAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}}})(z||(z={}));return z});Y(I,"Core/Foundation.js",[I["Core/Utilities.js"]],function(z){var m=z.addEvent,n=z.isFunction,l=z.objectEach,c=z.removeEvent,p;(function(d){d.registerEventOptions=function(a,b){a.eventOptions=
a.eventOptions||{};l(b.events,function(f,e){a.eventOptions[e]!==f&&(a.eventOptions[e]&&(c(a,e,a.eventOptions[e]),delete a.eventOptions[e]),n(f)&&(a.eventOptions[e]=f,m(a,e,f)))})}})(p||(p={}));return p});Y(I,"Core/Axis/Tick.js",[I["Core/FormatUtilities.js"],I["Core/Globals.js"],I["Core/Utilities.js"]],function(z,m,n){var l=m.deg2rad,c=n.clamp,p=n.correctFloat,d=n.defined,a=n.destroyObjectProperties,b=n.extend,f=n.fireEvent,e=n.isNumber,k=n.merge,h=n.objectEach,g=n.pick;m=function(){function q(x,u,
r,t,y){this.isNewLabel=this.isNew=!0;this.axis=x;this.pos=u;this.type=r||"";this.parameters=y||{};this.tickmarkOffset=this.parameters.tickmarkOffset;this.options=this.parameters.options;f(this,"init");r||t||this.addLabel()}q.prototype.addLabel=function(){var x=this,u=x.axis,r=u.options,t=u.chart,y=u.categories,w=u.logarithmic,A=u.names,F=x.pos,C=g(x.options&&x.options.labels,r.labels),J=u.tickPositions,B=F===J[0],G=F===J[J.length-1],E=(!C.step||1===C.step)&&1===u.tickInterval;J=J.info;var v=x.label,
D;y=this.parameters.category||(y?g(y[F],A[F],F):F);w&&e(y)&&(y=p(w.lin2log(y)));if(u.dateTime)if(J)var K=t.time.resolveDTLFormat(r.dateTimeLabelFormats[!r.grid&&J.higherRanks[F]||J.unitName]),P=K.main;else e(y)&&(P=u.dateTime.getXDateFormat(y,r.dateTimeLabelFormats||{}));x.isFirst=B;x.isLast=G;var Q={axis:u,chart:t,dateTimeLabelFormat:P,isFirst:B,isLast:G,pos:F,tick:x,tickPositionInfo:J,value:y};f(this,"labelFormat",Q);var N=function(H){return C.formatter?C.formatter.call(H,H):C.format?(H.text=u.defaultLabelFormatter.call(H),
z.format(C.format,H,t)):u.defaultLabelFormatter.call(H,H)};r=N.call(Q,Q);var T=K&&K.list;x.shortenLabel=T?function(){for(D=0;D<T.length;D++)if(b(Q,{dateTimeLabelFormat:T[D]}),v.attr({text:N.call(Q,Q)}),v.getBBox().width<u.getSlotWidth(x)-2*C.padding)return;v.attr({text:""})}:void 0;E&&u._addedPlotLB&&x.moveLabel(r,C);d(v)||x.movedLabel?v&&v.textStr!==r&&!E&&(!v.textWidth||C.style.width||v.styles.width||v.css({width:null}),v.attr({text:r}),v.textPxLength=v.getBBox().width):(x.label=v=x.createLabel({x:0,
y:0},r,C),x.rotation=0)};q.prototype.createLabel=function(x,u,r){var t=this.axis,y=t.chart;if(x=d(u)&&r.enabled?y.renderer.text(u,x.x,x.y,r.useHTML).add(t.labelGroup):null)y.styledMode||x.css(k(r.style)),x.textPxLength=x.getBBox().width;return x};q.prototype.destroy=function(){a(this,this.axis)};q.prototype.getPosition=function(x,u,r,t){var y=this.axis,w=y.chart,A=t&&w.oldChartHeight||w.chartHeight;x={x:x?p(y.translate(u+r,null,null,t)+y.transB):y.left+y.offset+(y.opposite?(t&&w.oldChartWidth||w.chartWidth)-
y.right-y.left:0),y:x?A-y.bottom+y.offset-(y.opposite?y.height:0):p(A-y.translate(u+r,null,null,t)-y.transB)};x.y=c(x.y,-1E5,1E5);f(this,"afterGetPosition",{pos:x});return x};q.prototype.getLabelPosition=function(x,u,r,t,y,w,A,F){var C=this.axis,J=C.transA,B=C.isLinked&&C.linkedParent?C.linkedParent.reversed:C.reversed,G=C.staggerLines,E=C.tickRotCorr||{x:0,y:0},v=t||C.reserveSpaceDefault?0:-C.labelOffset*("center"===C.labelAlign?.5:1),D={},K=y.y;d(K)||(K=0===C.side?r.rotation?-8:-r.getBBox().height:
2===C.side?E.y+8:Math.cos(r.rotation*l)*(E.y-r.getBBox(!1,0).height/2));x=x+y.x+v+E.x-(w&&t?w*J*(B?-1:1):0);u=u+K-(w&&!t?w*J*(B?1:-1):0);G&&(r=A/(F||1)%G,C.opposite&&(r=G-r-1),u+=C.labelOffset/G*r);D.x=x;D.y=Math.round(u);f(this,"afterGetLabelPosition",{pos:D,tickmarkOffset:w,index:A});return D};q.prototype.getLabelSize=function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0};q.prototype.getMarkPath=function(x,u,r,t,y,w){return w.crispLine([["M",x,u],["L",x+(y?0:-r),
u+(y?r:0)]],t)};q.prototype.handleOverflow=function(x){var u=this.axis,r=u.options.labels,t=x.x,y=u.chart.chartWidth,w=u.chart.spacing,A=g(u.labelLeft,Math.min(u.pos,w[3]));w=g(u.labelRight,Math.max(u.isRadial?0:u.pos+u.len,y-w[1]));var F=this.label,C=this.rotation,J={left:0,center:.5,right:1}[u.labelAlign||F.attr("align")],B=F.getBBox().width,G=u.getSlotWidth(this),E={},v=G,D=1,K;if(C||"justify"!==r.overflow)0>C&&t-J*B<A?K=Math.round(t/Math.cos(C*l)-A):0<C&&t+J*B>w&&(K=Math.round((y-t)/Math.cos(C*
l)));else if(y=t+(1-J)*B,t-J*B<A?v=x.x+v*(1-J)-A:y>w&&(v=w-x.x+v*J,D=-1),v=Math.min(G,v),v<G&&"center"===u.labelAlign&&(x.x+=D*(G-v-J*(G-Math.min(B,v)))),B>v||u.autoRotation&&(F.styles||{}).width)K=v;K&&(this.shortenLabel?this.shortenLabel():(E.width=Math.floor(K)+"px",(r.style||{}).textOverflow||(E.textOverflow="ellipsis"),F.css(E)))};q.prototype.moveLabel=function(x,u){var r=this,t=r.label,y=r.axis,w=y.reversed,A=!1;t&&t.textStr===x?(r.movedLabel=t,A=!0,delete r.label):h(y.ticks,function(C){A||
C.isNew||C===r||!C.label||C.label.textStr!==x||(r.movedLabel=C.label,A=!0,C.labelPos=r.movedLabel.xy,delete C.label)});if(!A&&(r.labelPos||t)){var F=r.labelPos||t.xy;t=y.horiz?w?0:y.width+y.left:F.x;y=y.horiz?F.y:w?y.width+y.left:0;r.movedLabel=r.createLabel({x:t,y:y},x,u);r.movedLabel&&r.movedLabel.attr({opacity:0})}};q.prototype.render=function(x,u,r){var t=this.axis,y=t.horiz,w=this.pos,A=g(this.tickmarkOffset,t.tickmarkOffset);w=this.getPosition(y,w,A,u);A=w.x;var F=w.y;t=y&&A===t.pos+t.len||
!y&&F===t.pos?-1:1;y=g(r,this.label&&this.label.newOpacity,1);r=g(r,1);this.isActive=!0;this.renderGridLine(u,r,t);this.renderMark(w,r,t);this.renderLabel(w,u,y,x);this.isNew=!1;f(this,"afterRender")};q.prototype.renderGridLine=function(x,u,r){var t=this.axis,y=t.options,w={},A=this.pos,F=this.type,C=g(this.tickmarkOffset,t.tickmarkOffset),J=t.chart.renderer,B=this.gridLine,G=y.gridLineWidth,E=y.gridLineColor,v=y.gridLineDashStyle;"minor"===this.type&&(G=y.minorGridLineWidth,E=y.minorGridLineColor,
v=y.minorGridLineDashStyle);B||(t.chart.styledMode||(w.stroke=E,w["stroke-width"]=G||0,w.dashstyle=v),F||(w.zIndex=1),x&&(u=0),this.gridLine=B=J.path().attr(w).addClass("highcharts-"+(F?F+"-":"")+"grid-line").add(t.gridGroup));if(B&&(r=t.getPlotLinePath({value:A+C,lineWidth:B.strokeWidth()*r,force:"pass",old:x})))B[x||this.isNew?"attr":"animate"]({d:r,opacity:u})};q.prototype.renderMark=function(x,u,r){var t=this.axis,y=t.options,w=t.chart.renderer,A=this.type,F=t.tickSize(A?A+"Tick":"tick"),C=x.x;
x=x.y;var J=g(y["minor"!==A?"tickWidth":"minorTickWidth"],!A&&t.isXAxis?1:0);y=y["minor"!==A?"tickColor":"minorTickColor"];var B=this.mark,G=!B;F&&(t.opposite&&(F[0]=-F[0]),B||(this.mark=B=w.path().addClass("highcharts-"+(A?A+"-":"")+"tick").add(t.axisGroup),t.chart.styledMode||B.attr({stroke:y,"stroke-width":J})),B[G?"attr":"animate"]({d:this.getMarkPath(C,x,F[0],B.strokeWidth()*r,t.horiz,w),opacity:u}))};q.prototype.renderLabel=function(x,u,r,t){var y=this.axis,w=y.horiz,A=y.options,F=this.label,
C=A.labels,J=C.step;y=g(this.tickmarkOffset,y.tickmarkOffset);var B=x.x;x=x.y;var G=!0;F&&e(B)&&(F.xy=x=this.getLabelPosition(B,x,F,w,C,y,t,J),this.isFirst&&!this.isLast&&!A.showFirstLabel||this.isLast&&!this.isFirst&&!A.showLastLabel?G=!1:!w||C.step||C.rotation||u||0===r||this.handleOverflow(x),J&&t%J&&(G=!1),G&&e(x.y)?(x.opacity=r,F[this.isNewLabel?"attr":"animate"](x),this.isNewLabel=!1):(F.attr("y",-9999),this.isNewLabel=!0))};q.prototype.replaceMovedLabel=function(){var x=this.label,u=this.axis,
r=u.reversed;if(x&&!this.isNew){var t=u.horiz?r?u.left:u.width+u.left:x.xy.x;r=u.horiz?x.xy.y:r?u.width+u.top:u.top;x.animate({x:t,y:r,opacity:0},void 0,x.destroy);delete this.label}u.isDirty=!0;this.label=this.movedLabel;delete this.movedLabel};return q}();"";return m});Y(I,"Core/Axis/Axis.js",[I["Core/Animation/AnimationUtilities.js"],I["Core/Axis/AxisDefaults.js"],I["Core/Color/Color.js"],I["Core/DefaultOptions.js"],I["Core/Foundation.js"],I["Core/Globals.js"],I["Core/Axis/Tick.js"],I["Core/Utilities.js"]],
function(z,m,n,l,c,p,d,a){var b=z.animObject,f=l.defaultOptions,e=c.registerEventOptions,k=p.deg2rad,h=a.arrayMax,g=a.arrayMin,q=a.clamp,x=a.correctFloat,u=a.defined,r=a.destroyObjectProperties,t=a.erase,y=a.error,w=a.extend,A=a.fireEvent,F=a.getMagnitude,C=a.isArray,J=a.isNumber,B=a.isString,G=a.merge,E=a.normalizeTickInterval,v=a.objectEach,D=a.pick,K=a.relativeLength,P=a.removeEvent,Q=a.splat,N=a.syncTimeout;z=function(){function T(H,L){this.zoomEnabled=this.width=this.visible=this.userOptions=
this.translationSlope=this.transB=this.transA=this.top=this.ticks=this.tickRotCorr=this.tickPositions=this.tickmarkOffset=this.tickInterval=this.tickAmount=this.side=this.series=this.right=this.positiveValuesOnly=this.pos=this.pointRangePadding=this.pointRange=this.plotLinesAndBandsGroups=this.plotLinesAndBands=this.paddedTicks=this.overlap=this.options=this.offset=this.names=this.minPixelPadding=this.minorTicks=this.minorTickInterval=this.min=this.maxLabelLength=this.max=this.len=this.left=this.labelFormatter=
this.labelEdge=this.isLinked=this.height=this.hasVisibleSeries=this.hasNames=this.eventOptions=this.coll=this.closestPointRange=this.chart=this.categories=this.bottom=this.alternateBands=void 0;this.init(H,L)}T.prototype.init=function(H,L){var R=L.isX;this.chart=H;this.horiz=H.inverted&&!this.isZAxis?!R:R;this.isXAxis=R;this.coll=this.coll||(R?"xAxis":"yAxis");A(this,"init",{userOptions:L});this.opposite=D(L.opposite,this.opposite);this.side=D(L.side,this.side,this.horiz?this.opposite?0:2:this.opposite?
1:3);this.setOptions(L);var U=this.options,V=U.labels,Z=U.type;this.userOptions=L;this.minPixelPadding=0;this.reversed=D(U.reversed,this.reversed);this.visible=U.visible;this.zoomEnabled=U.zoomEnabled;this.hasNames="category"===Z||!0===U.categories;this.categories=U.categories||this.hasNames;this.names||(this.names=[],this.names.keys={});this.plotLinesAndBandsGroups={};this.positiveValuesOnly=!!this.logarithmic;this.isLinked=u(U.linkedTo);this.ticks={};this.labelEdge=[];this.minorTicks={};this.plotLinesAndBands=
[];this.alternateBands={};this.len=0;this.minRange=this.userMinRange=U.minRange||U.maxZoom;this.range=U.range;this.offset=U.offset||0;this.min=this.max=null;L=D(U.crosshair,Q(H.options.tooltip.crosshairs)[R?0:1]);this.crosshair=!0===L?{}:L;-1===H.axes.indexOf(this)&&(R?H.axes.splice(H.xAxis.length,0,this):H.axes.push(this),H[this.coll].push(this));this.series=this.series||[];H.inverted&&!this.isZAxis&&R&&"undefined"===typeof this.reversed&&(this.reversed=!0);this.labelRotation=J(V.rotation)?V.rotation:
void 0;e(this,U);A(this,"afterInit")};T.prototype.setOptions=function(H){this.options=G(m.defaultXAxisOptions,"yAxis"===this.coll&&m.defaultYAxisOptions,[m.defaultTopAxisOptions,m.defaultRightAxisOptions,m.defaultBottomAxisOptions,m.defaultLeftAxisOptions][this.side],G(f[this.coll],H));A(this,"afterSetOptions",{userOptions:H})};T.prototype.defaultLabelFormatter=function(H){var L=this.axis;H=this.chart.numberFormatter;var R=J(this.value)?this.value:NaN,U=L.chart.time,V=this.dateTimeLabelFormat,Z=f.lang,
O=Z.numericSymbols;Z=Z.numericSymbolMagnitude||1E3;var W=L.logarithmic?Math.abs(R):L.tickInterval,S=O&&O.length;if(L.categories)var aa=""+this.value;else if(V)aa=U.dateFormat(V,R);else if(S&&1E3<=W)for(;S--&&"undefined"===typeof aa;)L=Math.pow(Z,S+1),W>=L&&0===10*R%L&&null!==O[S]&&0!==R&&(aa=H(R/L,-1)+O[S]);"undefined"===typeof aa&&(aa=1E4<=Math.abs(R)?H(R,-1):H(R,-1,void 0,""));return aa};T.prototype.getSeriesExtremes=function(){var H=this,L=H.chart,R;A(this,"getSeriesExtremes",null,function(){H.hasVisibleSeries=
!1;H.dataMin=H.dataMax=H.threshold=null;H.softThreshold=!H.isXAxis;H.stacking&&H.stacking.buildStacks();H.series.forEach(function(U){if(U.visible||!L.options.chart.ignoreHiddenSeries){var V=U.options,Z=V.threshold;H.hasVisibleSeries=!0;H.positiveValuesOnly&&0>=Z&&(Z=null);if(H.isXAxis){if(V=U.xData,V.length){V=H.logarithmic?V.filter(H.validatePositiveValue):V;R=U.getXExtremes(V);var O=R.min,W=R.max;J(O)||O instanceof Date||(V=V.filter(J),R=U.getXExtremes(V),O=R.min,W=R.max);V.length&&(H.dataMin=Math.min(D(H.dataMin,
O),O),H.dataMax=Math.max(D(H.dataMax,W),W))}}else if(U=U.applyExtremes(),J(U.dataMin)&&(O=U.dataMin,H.dataMin=Math.min(D(H.dataMin,O),O)),J(U.dataMax)&&(W=U.dataMax,H.dataMax=Math.max(D(H.dataMax,W),W)),u(Z)&&(H.threshold=Z),!V.softThreshold||H.positiveValuesOnly)H.softThreshold=!1}})});A(this,"afterGetSeriesExtremes")};T.prototype.translate=function(H,L,R,U,V,Z){var O=this.linkedParent||this,W=U&&O.old?O.old.min:O.min,S=O.minPixelPadding;V=(O.isOrdinal||O.brokenAxis&&O.brokenAxis.hasBreaks||O.logarithmic&&
V)&&O.lin2val;var aa=1,ba=0;(U=U&&O.old?O.old.transA:O.transA)||(U=O.transA);R&&(aa*=-1,ba=O.len);O.reversed&&(aa*=-1,ba-=aa*(O.sector||O.len));L?(H=(H*aa+ba-S)/U+W,V&&(H=O.lin2val(H))):(V&&(H=O.val2lin(H)),H=J(W)?aa*(H-W)*U+ba+aa*S+(J(Z)?U*Z:0):void 0);return H};T.prototype.toPixels=function(H,L){return this.translate(H,!1,!this.horiz,null,!0)+(L?0:this.pos)};T.prototype.toValue=function(H,L){return this.translate(H-(L?0:this.pos),!0,!this.horiz,null,!0)};T.prototype.getPlotLinePath=function(H){function L(ma,
X,da){if("pass"!==ha&&ma<X||ma>da)ha?ma=q(ma,X,da):oa=!0;return ma}var R=this,U=R.chart,V=R.left,Z=R.top,O=H.old,W=H.value,S=H.lineWidth,aa=O&&U.oldChartHeight||U.chartHeight,ba=O&&U.oldChartWidth||U.chartWidth,fa=R.transB,ea=H.translatedValue,ha=H.force,ka,ra,ta,sa,oa;H={value:W,lineWidth:S,old:O,force:ha,acrossPanes:H.acrossPanes,translatedValue:ea};A(this,"getPlotLinePath",H,function(ma){ea=D(ea,R.translate(W,null,null,O));ea=q(ea,-1E5,1E5);ka=ta=Math.round(ea+fa);ra=sa=Math.round(aa-ea-fa);J(ea)?
R.horiz?(ra=Z,sa=aa-R.bottom,ka=ta=L(ka,V,V+R.width)):(ka=V,ta=ba-R.right,ra=sa=L(ra,Z,Z+R.height)):(oa=!0,ha=!1);ma.path=oa&&!ha?null:U.renderer.crispLine([["M",ka,ra],["L",ta,sa]],S||1)});return H.path};T.prototype.getLinearTickPositions=function(H,L,R){var U=x(Math.floor(L/H)*H);R=x(Math.ceil(R/H)*H);var V=[],Z;x(U+H)===U&&(Z=20);if(this.single)return[L];for(L=U;L<=R;){V.push(L);L=x(L+H,Z);if(L===O)break;var O=L}return V};T.prototype.getMinorTickInterval=function(){var H=this.options;return!0===
H.minorTicks?D(H.minorTickInterval,"auto"):!1===H.minorTicks?null:H.minorTickInterval};T.prototype.getMinorTickPositions=function(){var H=this.options,L=this.tickPositions,R=this.minorTickInterval,U=this.pointRangePadding||0,V=this.min-U;U=this.max+U;var Z=U-V,O=[];if(Z&&Z/R<this.len/3){var W=this.logarithmic;if(W)this.paddedTicks.forEach(function(S,aa,ba){aa&&O.push.apply(O,W.getLogTickPositions(R,ba[aa-1],ba[aa],!0))});else if(this.dateTime&&"auto"===this.getMinorTickInterval())O=O.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(R),
V,U,H.startOfWeek));else for(H=V+(L[0]-V)%R;H<=U&&H!==O[0];H+=R)O.push(H)}0!==O.length&&this.trimTicks(O);return O};T.prototype.adjustForMinRange=function(){var H=this.options,L=this.logarithmic,R=this.min,U=this.max,V=0,Z,O,W,S;this.isXAxis&&"undefined"===typeof this.minRange&&!L&&(u(H.min)||u(H.max)||u(H.floor)||u(H.ceiling)?this.minRange=null:(this.series.forEach(function(ea){W=ea.xData;S=ea.xIncrement?1:W.length-1;if(1<W.length)for(Z=S;0<Z;Z--)if(O=W[Z]-W[Z-1],!V||O<V)V=O}),this.minRange=Math.min(5*
V,this.dataMax-this.dataMin)));if(U-R<this.minRange){var aa=this.dataMax-this.dataMin>=this.minRange,ba=this.minRange,fa=(ba-U+R)/2;fa=[R-fa,D(H.min,R-fa)];aa&&(fa[2]=this.logarithmic?this.logarithmic.log2lin(this.dataMin):this.dataMin);R=h(fa);U=[R+ba,D(H.max,R+ba)];aa&&(U[2]=L?L.log2lin(this.dataMax):this.dataMax);U=g(U);U-R<ba&&(fa[0]=U-ba,fa[1]=D(H.min,U-ba),R=h(fa))}this.min=R;this.max=U};T.prototype.getClosest=function(){var H;this.categories?H=1:this.series.forEach(function(L){var R=L.closestPointRange,
U=L.visible||!L.chart.options.chart.ignoreHiddenSeries;!L.noSharedTooltip&&u(R)&&U&&(H=u(H)?Math.min(H,R):R)});return H};T.prototype.nameToX=function(H){var L=C(this.categories),R=L?this.categories:this.names,U=H.options.x;H.series.requireSorting=!1;u(U)||(U=this.options.uniqueNames?L?R.indexOf(H.name):D(R.keys[H.name],-1):H.series.autoIncrement());if(-1===U){if(!L)var V=R.length}else V=U;"undefined"!==typeof V&&(this.names[V]=H.name,this.names.keys[H.name]=V);return V};T.prototype.updateNames=function(){var H=
this,L=this.names;0<L.length&&(Object.keys(L.keys).forEach(function(R){delete L.keys[R]}),L.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(function(R){R.xIncrement=null;if(!R.points||R.isDirtyData)H.max=Math.max(H.max,R.xData.length-1),R.processData(),R.generatePoints();R.data.forEach(function(U,V){if(U&&U.options&&"undefined"!==typeof U.name){var Z=H.nameToX(U);"undefined"!==typeof Z&&Z!==U.x&&(U.x=Z,R.xData[V]=Z)}})}))};T.prototype.setAxisTranslation=function(){var H=this,L=
H.max-H.min,R=H.linkedParent,U=!!H.categories,V=H.isXAxis,Z=H.axisPointRange||0,O=0,W=0,S=H.transA;if(V||U||Z){var aa=H.getClosest();R?(O=R.minPointOffset,W=R.pointRangePadding):H.series.forEach(function(ba){var fa=U?1:V?D(ba.options.pointRange,aa,0):H.axisPointRange||0,ea=ba.options.pointPlacement;Z=Math.max(Z,fa);if(!H.single||U)ba=ba.is("xrange")?!V:V,O=Math.max(O,ba&&B(ea)?0:fa/2),W=Math.max(W,ba&&"on"===ea?0:fa)});R=H.ordinal&&H.ordinal.slope&&aa?H.ordinal.slope/aa:1;H.minPointOffset=O*=R;H.pointRangePadding=
W*=R;H.pointRange=Math.min(Z,H.single&&U?1:L);V&&(H.closestPointRange=aa)}H.translationSlope=H.transA=S=H.staticScale||H.len/(L+W||1);H.transB=H.horiz?H.left:H.bottom;H.minPixelPadding=S*O;A(this,"afterSetAxisTranslation")};T.prototype.minFromRange=function(){return this.max-this.range};T.prototype.setTickInterval=function(H){var L=this.chart,R=this.logarithmic,U=this.options,V=this.isXAxis,Z=this.isLinked,O=U.tickPixelInterval,W=this.categories,S=this.softThreshold,aa=U.maxPadding,ba=U.minPadding,
fa=J(U.tickInterval)&&0<=U.tickInterval?U.tickInterval:void 0,ea=J(this.threshold)?this.threshold:null;this.dateTime||W||Z||this.getTickAmount();var ha=D(this.userMin,U.min),ka=D(this.userMax,U.max);if(Z){this.linkedParent=L[this.coll][U.linkedTo];var ra=this.linkedParent.getExtremes();this.min=D(ra.min,ra.dataMin);this.max=D(ra.max,ra.dataMax);U.type!==this.linkedParent.options.type&&y(11,1,L)}else{if(S&&u(ea))if(this.dataMin>=ea)ra=ea,ba=0;else if(this.dataMax<=ea){var ta=ea;aa=0}this.min=D(ha,
ra,this.dataMin);this.max=D(ka,ta,this.dataMax)}R&&(this.positiveValuesOnly&&!H&&0>=Math.min(this.min,D(this.dataMin,this.min))&&y(10,1,L),this.min=x(R.log2lin(this.min),16),this.max=x(R.log2lin(this.max),16));this.range&&u(this.max)&&(this.userMin=this.min=ha=Math.max(this.dataMin,this.minFromRange()),this.userMax=ka=this.max,this.range=null);A(this,"foundExtremes");this.beforePadding&&this.beforePadding();this.adjustForMinRange();!(W||this.axisPointRange||this.stacking&&this.stacking.usePercentage||
Z)&&u(this.min)&&u(this.max)&&(L=this.max-this.min)&&(!u(ha)&&ba&&(this.min-=L*ba),!u(ka)&&aa&&(this.max+=L*aa));J(this.userMin)||(J(U.softMin)&&U.softMin<this.min&&(this.min=ha=U.softMin),J(U.floor)&&(this.min=Math.max(this.min,U.floor)));J(this.userMax)||(J(U.softMax)&&U.softMax>this.max&&(this.max=ka=U.softMax),J(U.ceiling)&&(this.max=Math.min(this.max,U.ceiling)));S&&u(this.dataMin)&&(ea=ea||0,!u(ha)&&this.min<ea&&this.dataMin>=ea?this.min=this.options.minRange?Math.min(ea,this.max-this.minRange):
ea:!u(ka)&&this.max>ea&&this.dataMax<=ea&&(this.max=this.options.minRange?Math.max(ea,this.min+this.minRange):ea));J(this.min)&&J(this.max)&&!this.chart.polar&&this.min>this.max&&(u(this.options.min)?this.max=this.min:u(this.options.max)&&(this.min=this.max));this.tickInterval=this.min===this.max||"undefined"===typeof this.min||"undefined"===typeof this.max?1:Z&&this.linkedParent&&!fa&&O===this.linkedParent.options.tickPixelInterval?fa=this.linkedParent.tickInterval:D(fa,this.tickAmount?(this.max-
this.min)/Math.max(this.tickAmount-1,1):void 0,W?1:(this.max-this.min)*O/Math.max(this.len,O));if(V&&!H){var sa=this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max);this.series.forEach(function(oa){oa.forceCrop=oa.forceCropping&&oa.forceCropping();oa.processData(sa)});A(this,"postProcessData",{hasExtemesChanged:sa})}this.setAxisTranslation();A(this,"initialAxisTranslation");this.pointRange&&!fa&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval));H=D(U.minTickInterval,
this.dateTime&&!this.series.some(function(oa){return oa.noSharedTooltip})?this.closestPointRange:0);!fa&&this.tickInterval<H&&(this.tickInterval=H);this.dateTime||this.logarithmic||fa||(this.tickInterval=E(this.tickInterval,void 0,F(this.tickInterval),D(U.allowDecimals,.5>this.tickInterval||void 0!==this.tickAmount),!!this.tickAmount));this.tickAmount||(this.tickInterval=this.unsquish());this.setTickPositions()};T.prototype.setTickPositions=function(){var H=this.options,L=H.tickPositions,R=this.getMinorTickInterval(),
U=this.hasVerticalPanning(),V="colorAxis"===this.coll,Z=(V||!U)&&H.startOnTick;U=(V||!U)&&H.endOnTick;V=H.tickPositioner;this.tickmarkOffset=this.categories&&"between"===H.tickmarkPlacement&&1===this.tickInterval?.5:0;this.minorTickInterval="auto"===R&&this.tickInterval?this.tickInterval/5:R;this.single=this.min===this.max&&u(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==H.allowDecimals);this.tickPositions=R=L&&L.slice();!R&&(this.ordinal&&this.ordinal.positions||!((this.max-
this.min)/this.tickInterval>Math.max(2*this.len,200))?R=this.dateTime?this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,H.units),this.min,this.max,H.startOfWeek,this.ordinal&&this.ordinal.positions,this.closestPointRange,!0):this.logarithmic?this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max):(R=[this.min,this.max],y(19,!1,this.chart)),R.length>this.len&&(R=[R[0],R.pop()],R[0]===R[1]&&
(R.length=1)),this.tickPositions=R,V&&(V=V.apply(this,[this.min,this.max])))&&(this.tickPositions=R=V);this.paddedTicks=R.slice(0);this.trimTicks(R,Z,U);this.isLinked||(this.single&&2>R.length&&!this.categories&&!this.series.some(function(O){return O.is("heatmap")&&"between"===O.options.pointPlacement})&&(this.min-=.5,this.max+=.5),L||V||this.adjustTickAmount());A(this,"afterSetTickPositions")};T.prototype.trimTicks=function(H,L,R){var U=H[0],V=H[H.length-1],Z=!this.isOrdinal&&this.minPointOffset||
0;A(this,"trimTicks");if(!this.isLinked){if(L&&-Infinity!==U)this.min=U;else for(;this.min-Z>H[0];)H.shift();if(R)this.max=V;else for(;this.max+Z<H[H.length-1];)H.pop();0===H.length&&u(U)&&!this.options.tickPositions&&H.push((V+U)/2)}};T.prototype.alignToOthers=function(){var H={},L=this.options,R;!1!==this.chart.options.chart.alignTicks&&L.alignTicks&&!1!==L.startOnTick&&!1!==L.endOnTick&&!this.logarithmic&&this.chart[this.coll].forEach(function(U){var V=U.options;V=[U.horiz?V.left:V.top,V.width,
V.height,V.pane].join();U.series.length&&(H[V]?R=!0:H[V]=1)});return R};T.prototype.getTickAmount=function(){var H=this.options,L=H.tickPixelInterval,R=H.tickAmount;!u(H.tickInterval)&&!R&&this.len<L&&!this.isRadial&&!this.logarithmic&&H.startOnTick&&H.endOnTick&&(R=2);!R&&this.alignToOthers()&&(R=Math.ceil(this.len/L)+1);4>R&&(this.finalTickAmt=R,R=5);this.tickAmount=R};T.prototype.adjustTickAmount=function(){var H=this.options,L=this.tickInterval,R=this.tickPositions,U=this.tickAmount,V=this.finalTickAmt,
Z=R&&R.length,O=D(this.threshold,this.softThreshold?0:null);if(this.hasData()&&J(this.min)&&J(this.max)){if(Z<U){for(;R.length<U;)R.length%2||this.min===O?R.push(x(R[R.length-1]+L)):R.unshift(x(R[0]-L));this.transA*=(Z-1)/(U-1);this.min=H.startOnTick?R[0]:Math.min(this.min,R[0]);this.max=H.endOnTick?R[R.length-1]:Math.max(this.max,R[R.length-1])}else Z>U&&(this.tickInterval*=2,this.setTickPositions());if(u(V)){for(L=H=R.length;L--;)(3===V&&1===L%2||2>=V&&0<L&&L<H-1)&&R.splice(L,1);this.finalTickAmt=
void 0}}};T.prototype.setScale=function(){var H=!1,L=!1;this.series.forEach(function(U){H=H||U.isDirtyData||U.isDirty;L=L||U.xAxis&&U.xAxis.isDirty||!1});this.setAxisSize();var R=this.len!==(this.old&&this.old.len);R||H||L||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(this.stacking&&this.stacking.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.isDirty||(this.isDirty=
R||this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max))):this.stacking&&this.stacking.cleanStacks();H&&this.panningState&&(this.panningState.isDirty=!0);A(this,"afterSetScale")};T.prototype.setExtremes=function(H,L,R,U,V){var Z=this,O=Z.chart;R=D(R,!0);Z.series.forEach(function(W){delete W.kdTree});V=w(V,{min:H,max:L});A(Z,"setExtremes",V,function(){Z.userMin=H;Z.userMax=L;Z.eventArgs=V;R&&O.redraw(U)})};T.prototype.zoom=function(H,L){var R=this,U=this.dataMin,V=this.dataMax,
Z=this.options,O=Math.min(U,D(Z.min,U)),W=Math.max(V,D(Z.max,V));H={newMin:H,newMax:L};A(this,"zoom",H,function(S){var aa=S.newMin,ba=S.newMax;if(aa!==R.min||ba!==R.max)R.allowZoomOutside||(u(U)&&(aa<O&&(aa=O),aa>W&&(aa=W)),u(V)&&(ba<O&&(ba=O),ba>W&&(ba=W))),R.displayBtn="undefined"!==typeof aa||"undefined"!==typeof ba,R.setExtremes(aa,ba,!1,void 0,{trigger:"zoom"});S.zoomed=!0});return H.zoomed};T.prototype.setAxisSize=function(){var H=this.chart,L=this.options,R=L.offsets||[0,0,0,0],U=this.horiz,
V=this.width=Math.round(K(D(L.width,H.plotWidth-R[3]+R[1]),H.plotWidth)),Z=this.height=Math.round(K(D(L.height,H.plotHeight-R[0]+R[2]),H.plotHeight)),O=this.top=Math.round(K(D(L.top,H.plotTop+R[0]),H.plotHeight,H.plotTop));L=this.left=Math.round(K(D(L.left,H.plotLeft+R[3]),H.plotWidth,H.plotLeft));this.bottom=H.chartHeight-Z-O;this.right=H.chartWidth-V-L;this.len=Math.max(U?V:Z,0);this.pos=U?L:O};T.prototype.getExtremes=function(){var H=this.logarithmic;return{min:H?x(H.lin2log(this.min)):this.min,
max:H?x(H.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}};T.prototype.getThreshold=function(H){var L=this.logarithmic,R=L?L.lin2log(this.min):this.min;L=L?L.lin2log(this.max):this.max;null===H||-Infinity===H?H=R:Infinity===H?H=L:R>H?H=R:L<H&&(H=L);return this.translate(H,0,1,0,1)};T.prototype.autoLabelAlign=function(H){var L=(D(H,0)-90*this.side+720)%360;H={align:"center"};A(this,"autoLabelAlign",H,function(R){15<L&&165>L?R.align="right":
195<L&&345>L&&(R.align="left")});return H.align};T.prototype.tickSize=function(H){var L=this.options,R=D(L["tick"===H?"tickWidth":"minorTickWidth"],"tick"===H&&this.isXAxis&&!this.categories?1:0),U=L["tick"===H?"tickLength":"minorTickLength"];if(R&&U){"inside"===L[H+"Position"]&&(U=-U);var V=[U,R]}H={tickSize:V};A(this,"afterTickSize",H);return H.tickSize};T.prototype.labelMetrics=function(){var H=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style.fontSize,
this.ticks[H]&&this.ticks[H].label)};T.prototype.unsquish=function(){var H=this.options.labels,L=this.horiz,R=this.tickInterval,U=this.len/(((this.categories?1:0)+this.max-this.min)/R),V=H.rotation,Z=this.labelMetrics(),O=Math.max(this.max-this.min,0),W=function(ha){var ka=ha/(U||1);ka=1<ka?Math.ceil(ka):1;ka*R>O&&Infinity!==ha&&Infinity!==U&&O&&(ka=Math.ceil(O/R));return x(ka*R)},S=R,aa,ba,fa=Number.MAX_VALUE;if(L){if(!H.staggerLines&&!H.step)if(J(V))var ea=[V];else U<H.autoRotationLimit&&(ea=H.autoRotation);
ea&&ea.forEach(function(ha){if(ha===V||ha&&-90<=ha&&90>=ha){ba=W(Math.abs(Z.h/Math.sin(k*ha)));var ka=ba+Math.abs(ha/360);ka<fa&&(fa=ka,aa=ha,S=ba)}})}else H.step||(S=W(Z.h));this.autoRotation=ea;this.labelRotation=D(aa,J(V)?V:0);return S};T.prototype.getSlotWidth=function(H){var L=this.chart,R=this.horiz,U=this.options.labels,V=Math.max(this.tickPositions.length-(this.categories?0:1),1),Z=L.margin[3];if(H&&J(H.slotWidth))return H.slotWidth;if(R&&2>U.step)return U.rotation?0:(this.staggerLines||1)*
this.len/V;if(!R){H=U.style.width;if(void 0!==H)return parseInt(String(H),10);if(Z)return Z-L.spacing[3]}return.33*L.chartWidth};T.prototype.renderUnsquish=function(){var H=this.chart,L=H.renderer,R=this.tickPositions,U=this.ticks,V=this.options.labels,Z=V.style,O=this.horiz,W=this.getSlotWidth(),S=Math.max(1,Math.round(W-2*V.padding)),aa={},ba=this.labelMetrics(),fa=Z.textOverflow,ea=0;B(V.rotation)||(aa.rotation=V.rotation||0);R.forEach(function(ta){ta=U[ta];ta.movedLabel&&ta.replaceMovedLabel();
ta&&ta.label&&ta.label.textPxLength>ea&&(ea=ta.label.textPxLength)});this.maxLabelLength=ea;if(this.autoRotation)ea>S&&ea>ba.h?aa.rotation=this.labelRotation:this.labelRotation=0;else if(W){var ha=S;if(!fa){var ka="clip";for(S=R.length;!O&&S--;){var ra=R[S];if(ra=U[ra].label)ra.styles&&"ellipsis"===ra.styles.textOverflow?ra.css({textOverflow:"clip"}):ra.textPxLength>W&&ra.css({width:W+"px"}),ra.getBBox().height>this.len/R.length-(ba.h-ba.f)&&(ra.specificTextOverflow="ellipsis")}}}aa.rotation&&(ha=
ea>.5*H.chartHeight?.33*H.chartHeight:ea,fa||(ka="ellipsis"));if(this.labelAlign=V.align||this.autoLabelAlign(this.labelRotation))aa.align=this.labelAlign;R.forEach(function(ta){var sa=(ta=U[ta])&&ta.label,oa=Z.width,ma={};sa&&(sa.attr(aa),ta.shortenLabel?ta.shortenLabel():ha&&!oa&&"nowrap"!==Z.whiteSpace&&(ha<sa.textPxLength||"SPAN"===sa.element.tagName)?(ma.width=ha+"px",fa||(ma.textOverflow=sa.specificTextOverflow||ka),sa.css(ma)):sa.styles&&sa.styles.width&&!ma.width&&!oa&&sa.css({width:null}),
delete sa.specificTextOverflow,ta.rotation=aa.rotation)},this);this.tickRotCorr=L.rotCorr(ba.b,this.labelRotation||0,0!==this.side)};T.prototype.hasData=function(){return this.series.some(function(H){return H.hasData()})||this.options.showEmpty&&u(this.min)&&u(this.max)};T.prototype.addTitle=function(H){var L=this.chart.renderer,R=this.horiz,U=this.opposite,V=this.options.title,Z=this.chart.styledMode,O;this.axisTitle||((O=V.textAlign)||(O=(R?{low:"left",middle:"center",high:"right"}:{low:U?"right":
"left",middle:"center",high:U?"left":"right"})[V.align]),this.axisTitle=L.text(V.text||"",0,0,V.useHTML).attr({zIndex:7,rotation:V.rotation,align:O}).addClass("highcharts-axis-title"),Z||this.axisTitle.css(G(V.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0);Z||V.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"});this.axisTitle[H?"show":"hide"](H)};T.prototype.generateTick=function(H){var L=this.ticks;L[H]?L[H].addLabel():L[H]=new d(this,H)};T.prototype.getOffset=
function(){var H=this,L=this,R=L.chart,U=L.horiz,V=L.options,Z=L.side,O=L.ticks,W=L.tickPositions,S=L.coll,aa=L.axisParent,ba=R.renderer,fa=R.inverted&&!L.isZAxis?[1,0,3,2][Z]:Z,ea=L.hasData(),ha=V.title,ka=V.labels,ra=R.axisOffset;R=R.clipOffset;var ta=[-1,1,1,-1][Z],sa=V.className,oa,ma=0,X=0,da=0;L.showAxis=oa=ea||V.showEmpty;L.staggerLines=L.horiz&&ka.staggerLines||void 0;if(!L.axisGroup){var ia=function(pa,ua,va){return ba.g(pa).attr({zIndex:va}).addClass("highcharts-"+S.toLowerCase()+ua+" "+
(H.isRadial?"highcharts-radial-axis"+ua+" ":"")+(sa||"")).add(aa)};L.gridGroup=ia("grid","-grid",V.gridZIndex);L.axisGroup=ia("axis","",V.zIndex);L.labelGroup=ia("axis-labels","-labels",ka.zIndex)}ea||L.isLinked?(W.forEach(function(pa){L.generateTick(pa)}),L.renderUnsquish(),L.reserveSpaceDefault=0===Z||2===Z||{1:"left",3:"right"}[Z]===L.labelAlign,D(ka.reserveSpace,"center"===L.labelAlign?!0:null,L.reserveSpaceDefault)&&W.forEach(function(pa){da=Math.max(O[pa].getLabelSize(),da)}),L.staggerLines&&
(da*=L.staggerLines),L.labelOffset=da*(L.opposite?-1:1)):v(O,function(pa,ua){pa.destroy();delete O[ua]});if(ha&&ha.text&&!1!==ha.enabled&&(L.addTitle(oa),oa&&!1!==ha.reserveSpace)){L.titleOffset=ma=L.axisTitle.getBBox()[U?"height":"width"];var na=ha.offset;X=u(na)?0:D(ha.margin,U?5:10)}L.renderLine();L.offset=ta*D(V.offset,ra[Z]?ra[Z]+(V.margin||0):0);L.tickRotCorr=L.tickRotCorr||{x:0,y:0};ha=0===Z?-L.labelMetrics().h:2===Z?L.tickRotCorr.y:0;ea=Math.abs(da)+X;da&&(ea=ea-ha+ta*(U?D(ka.y,L.tickRotCorr.y+
8*ta):ka.x));L.axisTitleMargin=D(na,ea);L.getMaxLabelDimensions&&(L.maxLabelDimensions=L.getMaxLabelDimensions(O,W));"colorAxis"!==S&&(U=this.tickSize("tick"),ra[Z]=Math.max(ra[Z],(L.axisTitleMargin||0)+ma+ta*L.offset,ea,W&&W.length&&U?U[0]+ta*L.offset:0),V=!L.axisLine||V.offset?0:2*Math.floor(L.axisLine.strokeWidth()/2),R[fa]=Math.max(R[fa],V));A(this,"afterGetOffset")};T.prototype.getLinePath=function(H){var L=this.chart,R=this.opposite,U=this.offset,V=this.horiz,Z=this.left+(R?this.width:0)+U;
U=L.chartHeight-this.bottom-(R?this.height:0)+U;R&&(H*=-1);return L.renderer.crispLine([["M",V?this.left:Z,V?U:this.top],["L",V?L.chartWidth-this.right:Z,V?U:L.chartHeight-this.bottom]],H)};T.prototype.renderLine=function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))};T.prototype.getTitlePosition=function(){var H=
this.horiz,L=this.left,R=this.top,U=this.len,V=this.options.title,Z=H?L:R,O=this.opposite,W=this.offset,S=V.x,aa=V.y,ba=this.axisTitle,fa=this.chart.renderer.fontMetrics(V.style.fontSize,ba);ba=Math.max(ba.getBBox(null,0).height-fa.h-1,0);U={low:Z+(H?0:U),middle:Z+U/2,high:Z+(H?U:0)}[V.align];L=(H?R+this.height:L)+(H?1:-1)*(O?-1:1)*this.axisTitleMargin+[-ba,ba,fa.f,-ba][this.side];H={x:H?U+S:L+(O?this.width:0)+W+S,y:H?L+aa-(O?this.height:0)+W:U+aa};A(this,"afterGetTitlePosition",{titlePosition:H});
return H};T.prototype.renderMinorTick=function(H,L){var R=this.minorTicks;R[H]||(R[H]=new d(this,H,"minor"));L&&R[H].isNew&&R[H].render(null,!0);R[H].render(null,!1,1)};T.prototype.renderTick=function(H,L,R){var U=this.ticks;if(!this.isLinked||H>=this.min&&H<=this.max||this.grid&&this.grid.isColumn)U[H]||(U[H]=new d(this,H)),R&&U[H].isNew&&U[H].render(L,!0,-1),U[H].render(L)};T.prototype.render=function(){var H=this,L=H.chart,R=H.logarithmic,U=H.options,V=H.isLinked,Z=H.tickPositions,O=H.axisTitle,
W=H.ticks,S=H.minorTicks,aa=H.alternateBands,ba=U.stackLabels,fa=U.alternateGridColor,ea=H.tickmarkOffset,ha=H.axisLine,ka=H.showAxis,ra=b(L.renderer.globalAnimation),ta,sa;H.labelEdge.length=0;H.overlap=!1;[W,S,aa].forEach(function(ma){v(ma,function(X){X.isActive=!1})});if(H.hasData()||V){var oa=H.chart.hasRendered&&H.old&&J(H.old.min);H.minorTickInterval&&!H.categories&&H.getMinorTickPositions().forEach(function(ma){H.renderMinorTick(ma,oa)});Z.length&&(Z.forEach(function(ma,X){H.renderTick(ma,
X,oa)}),ea&&(0===H.min||H.single)&&(W[-1]||(W[-1]=new d(H,-1,null,!0)),W[-1].render(-1)));fa&&Z.forEach(function(ma,X){sa="undefined"!==typeof Z[X+1]?Z[X+1]+ea:H.max-ea;0===X%2&&ma<H.max&&sa<=H.max+(L.polar?-ea:ea)&&(aa[ma]||(aa[ma]=new p.PlotLineOrBand(H)),ta=ma+ea,aa[ma].options={from:R?R.lin2log(ta):ta,to:R?R.lin2log(sa):sa,color:fa,className:"highcharts-alternate-grid"},aa[ma].render(),aa[ma].isActive=!0)});H._addedPlotLB||(H._addedPlotLB=!0,(U.plotLines||[]).concat(U.plotBands||[]).forEach(function(ma){H.addPlotBandOrLine(ma)}))}[W,
S,aa].forEach(function(ma){var X=[],da=ra.duration;v(ma,function(ia,na){ia.isActive||(ia.render(na,!1,0),ia.isActive=!1,X.push(na))});N(function(){for(var ia=X.length;ia--;)ma[X[ia]]&&!ma[X[ia]].isActive&&(ma[X[ia]].destroy(),delete ma[X[ia]])},ma!==aa&&L.hasRendered&&da?da:0)});ha&&(ha[ha.isPlaced?"animate":"attr"]({d:this.getLinePath(ha.strokeWidth())}),ha.isPlaced=!0,ha[ka?"show":"hide"](ka));O&&ka&&(U=H.getTitlePosition(),J(U.y)?(O[O.isNew?"attr":"animate"](U),O.isNew=!1):(O.attr("y",-9999),O.isNew=
!0));ba&&ba.enabled&&H.stacking&&H.stacking.renderStackTotals();H.old={len:H.len,max:H.max,min:H.min,transA:H.transA,userMax:H.userMax,userMin:H.userMin};H.isDirty=!1;A(this,"afterRender")};T.prototype.redraw=function(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(H){H.render()}));this.series.forEach(function(H){H.isDirty=!0})};T.prototype.getKeepProps=function(){return this.keepProps||T.keepProps};T.prototype.destroy=function(H){var L=this,R=L.plotLinesAndBands,U=this.eventOptions;
A(this,"destroy",{keepEvents:H});H||P(L);[L.ticks,L.minorTicks,L.alternateBands].forEach(function(Z){r(Z)});if(R)for(H=R.length;H--;)R[H].destroy();"axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" ").forEach(function(Z){L[Z]&&(L[Z]=L[Z].destroy())});for(var V in L.plotLinesAndBandsGroups)L.plotLinesAndBandsGroups[V]=L.plotLinesAndBandsGroups[V].destroy();v(L,function(Z,O){-1===L.getKeepProps().indexOf(O)&&delete L[O]});this.eventOptions=U};T.prototype.drawCrosshair=function(H,
L){var R=this.crosshair,U=D(R&&R.snap,!0),V=this.chart,Z,O=this.cross;A(this,"drawCrosshair",{e:H,point:L});H||(H=this.cross&&this.cross.e);if(R&&!1!==(u(L)||!U)){U?u(L)&&(Z=D("colorAxis"!==this.coll?L.crosshairPos:null,this.isXAxis?L.plotX:this.len-L.plotY)):Z=H&&(this.horiz?H.chartX-this.pos:this.len-H.chartY+this.pos);if(u(Z)){var W={value:L&&(this.isXAxis?L.x:D(L.stackY,L.y)),translatedValue:Z};V.polar&&w(W,{isCrosshair:!0,chartX:H&&H.chartX,chartY:H&&H.chartY,point:L});W=this.getPlotLinePath(W)||
null}if(!u(W)){this.hideCrosshair();return}U=this.categories&&!this.isRadial;O||(this.cross=O=V.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(U?"category ":"thin ")+(R.className||"")).attr({zIndex:D(R.zIndex,2)}).add(),V.styledMode||(O.attr({stroke:R.color||(U?n.parse("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":D(R.width,1)}).css({"pointer-events":"none"}),R.dashStyle&&O.attr({dashstyle:R.dashStyle})));O.show().attr({d:W});U&&!R.width&&O.attr({"stroke-width":this.transA});
this.cross.e=H}else this.hideCrosshair();A(this,"afterDrawCrosshair",{e:H,point:L})};T.prototype.hideCrosshair=function(){this.cross&&this.cross.hide();A(this,"afterHideCrosshair")};T.prototype.hasVerticalPanning=function(){var H=this.chart.options.chart.panning;return!!(H&&H.enabled&&/y/.test(H.type))};T.prototype.validatePositiveValue=function(H){return J(H)&&0<H};T.prototype.update=function(H,L){var R=this.chart;H=G(this.userOptions,H);this.destroy(!0);this.init(R,H);R.isDirtyBox=!0;D(L,!0)&&R.redraw()};
T.prototype.remove=function(H){for(var L=this.chart,R=this.coll,U=this.series,V=U.length;V--;)U[V]&&U[V].remove(!1);t(L.axes,this);t(L[R],this);L[R].forEach(function(Z,O){Z.options.index=Z.userOptions.index=O});this.destroy();L.isDirtyBox=!0;D(H,!0)&&L.redraw()};T.prototype.setTitle=function(H,L){this.update({title:H},L)};T.prototype.setCategories=function(H,L){this.update({categories:H},L)};T.defaultOptions=m.defaultXAxisOptions;T.keepProps="extKey hcEvents names series userMax userMin".split(" ");
return T}();"";return z});Y(I,"Core/Axis/DateTimeAxis.js",[I["Core/Utilities.js"]],function(z){var m=z.addEvent,n=z.getMagnitude,l=z.normalizeTickInterval,c=z.timeUnits,p;(function(d){function a(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function b(k){"datetime"!==k.userOptions.type?this.dateTime=void 0:this.dateTime||(this.dateTime=new e(this))}var f=[];d.compose=function(k){-1===f.indexOf(k)&&(f.push(k),k.keepProps.push("dateTime"),k.prototype.getTimeTicks=a,m(k,"init",
b));return k};var e=function(){function k(h){this.axis=h}k.prototype.normalizeTimeTickInterval=function(h,g){var q=g||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];g=q[q.length-1];var x=c[g[0]],u=g[1],r;for(r=0;r<q.length&&!(g=q[r],x=c[g[0]],u=g[1],q[r+1]&&h<=(x*u[u.length-1]+c[q[r+1][0]])/2);r++);x===c.year&&h<5*x&&(u=[1,2,5]);h=l(h/x,u,"year"===g[0]?
Math.max(n(h/x),1):1);return{unitRange:x,count:h,unitName:g[0]}};k.prototype.getXDateFormat=function(h,g){var q=this.axis;return q.closestPointRange?q.chart.time.getDateFormat(q.closestPointRange,h,q.options.startOfWeek,g)||g.year:g.day};return k}();d.Additions=e})(p||(p={}));return p});Y(I,"Core/Axis/LogarithmicAxis.js",[I["Core/Utilities.js"]],function(z){var m=z.addEvent,n=z.getMagnitude,l=z.normalizeTickInterval,c=z.pick,p;(function(d){function a(k){var h=this.logarithmic;"logarithmic"!==k.userOptions.type?
this.logarithmic=void 0:h||(this.logarithmic=new e(this))}function b(){var k=this.logarithmic;k&&(this.lin2val=function(h){return k.lin2log(h)},this.val2lin=function(h){return k.log2lin(h)})}var f=[];d.compose=function(k){-1===f.indexOf(k)&&(f.push(k),k.keepProps.push("logarithmic"),m(k,"init",a),m(k,"afterInit",b));return k};var e=function(){function k(h){this.axis=h}k.prototype.getLogTickPositions=function(h,g,q,x){var u=this.axis,r=u.len,t=u.options,y=[];x||(this.minorAutoInterval=void 0);if(.5<=
h)h=Math.round(h),y=u.getLinearTickPositions(h,g,q);else if(.08<=h){var w=Math.floor(g),A,F=t=void 0;for(r=.3<h?[1,2,4]:.15<h?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];w<q+1&&!F;w++){var C=r.length;for(A=0;A<C&&!F;A++){var J=this.log2lin(this.lin2log(w)*r[A]);J>g&&(!x||t<=q)&&"undefined"!==typeof t&&y.push(t);t>q&&(F=!0);t=J}}}else g=this.lin2log(g),q=this.lin2log(q),h=x?u.getMinorTickInterval():t.tickInterval,h=c("auto"===h?null:h,this.minorAutoInterval,t.tickPixelInterval/(x?5:1)*(q-g)/((x?r/u.tickPositions.length:
r)||1)),h=l(h,void 0,n(h)),y=u.getLinearTickPositions(h,g,q).map(this.log2lin),x||(this.minorAutoInterval=h/5);x||(u.tickInterval=h);return y};k.prototype.lin2log=function(h){return Math.pow(10,h)};k.prototype.log2lin=function(h){return Math.log(h)/Math.LN10};return k}();d.Additions=e})(p||(p={}));return p});Y(I,"Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js",[I["Core/Utilities.js"]],function(z){var m=z.erase,n=z.extend,l=z.isNumber,c;(function(p){var d=[],a;p.compose=function(f,e){a||(a=f);-1===
d.indexOf(e)&&(d.push(e),n(e.prototype,b.prototype));return e};var b=function(){function f(){}f.prototype.getPlotBandPath=function(e,k,h){void 0===h&&(h=this.options);var g=this.getPlotLinePath({value:k,force:!0,acrossPanes:h.acrossPanes}),q=[],x=this.horiz;k=!l(this.min)||!l(this.max)||e<this.min&&k<this.min||e>this.max&&k>this.max;e=this.getPlotLinePath({value:e,force:!0,acrossPanes:h.acrossPanes});h=1;if(e&&g){if(k){var u=e.toString()===g.toString();h=0}for(k=0;k<e.length;k+=2){var r=e[k],t=e[k+
1],y=g[k],w=g[k+1];"M"!==r[0]&&"L"!==r[0]||"M"!==t[0]&&"L"!==t[0]||"M"!==y[0]&&"L"!==y[0]||"M"!==w[0]&&"L"!==w[0]||(x&&y[1]===r[1]?(y[1]+=h,w[1]+=h):x||y[2]!==r[2]||(y[2]+=h,w[2]+=h),q.push(["M",r[1],r[2]],["L",t[1],t[2]],["L",w[1],w[2]],["L",y[1],y[2]],["Z"]));q.isFlat=u}}return q};f.prototype.addPlotBand=function(e){return this.addPlotBandOrLine(e,"plotBands")};f.prototype.addPlotLine=function(e){return this.addPlotBandOrLine(e,"plotLines")};f.prototype.addPlotBandOrLine=function(e,k){var h=this,
g=this.userOptions,q=new a(this,e);this.visible&&(q=q.render());if(q){this._addedPlotLB||(this._addedPlotLB=!0,(g.plotLines||[]).concat(g.plotBands||[]).forEach(function(u){h.addPlotBandOrLine(u)}));if(k){var x=g[k]||[];x.push(e);g[k]=x}this.plotLinesAndBands.push(q)}return q};f.prototype.removePlotBandOrLine=function(e){var k=this.plotLinesAndBands,h=this.options,g=this.userOptions;if(k){for(var q=k.length;q--;)k[q].id===e&&k[q].destroy();[h.plotLines||[],g.plotLines||[],h.plotBands||[],g.plotBands||
[]].forEach(function(x){for(q=x.length;q--;)(x[q]||{}).id===e&&m(x,x[q])})}};f.prototype.removePlotBand=function(e){this.removePlotBandOrLine(e)};f.prototype.removePlotLine=function(e){this.removePlotBandOrLine(e)};return f}()})(c||(c={}));return c});Y(I,"Core/Axis/PlotLineOrBand/PlotLineOrBand.js",[I["Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js"],I["Core/Utilities.js"]],function(z,m){var n=m.arrayMax,l=m.arrayMin,c=m.defined,p=m.destroyObjectProperties,d=m.erase,a=m.fireEvent,b=m.merge,f=m.objectEach,
e=m.pick;m=function(){function k(h,g){this.axis=h;g&&(this.options=g,this.id=g.id)}k.compose=function(h){return z.compose(k,h)};k.prototype.render=function(){a(this,"render");var h=this,g=h.axis,q=g.horiz,x=g.logarithmic,u=h.options,r=u.color,t=e(u.zIndex,0),y=u.events,w={},A=g.chart.renderer,F=u.label,C=h.label,J=u.to,B=u.from,G=u.value,E=h.svgElem,v=[],D=c(B)&&c(J);v=c(G);var K=!E,P={"class":"highcharts-plot-"+(D?"band ":"line ")+(u.className||"")},Q=D?"bands":"lines";x&&(B=x.log2lin(B),J=x.log2lin(J),
G=x.log2lin(G));g.chart.styledMode||(v?(P.stroke=r||"#999999",P["stroke-width"]=e(u.width,1),u.dashStyle&&(P.dashstyle=u.dashStyle)):D&&(P.fill=r||"#e6ebf5",u.borderWidth&&(P.stroke=u.borderColor,P["stroke-width"]=u.borderWidth)));w.zIndex=t;Q+="-"+t;(x=g.plotLinesAndBandsGroups[Q])||(g.plotLinesAndBandsGroups[Q]=x=A.g("plot-"+Q).attr(w).add());K&&(h.svgElem=E=A.path().attr(P).add(x));if(v)v=g.getPlotLinePath({value:G,lineWidth:E.strokeWidth(),acrossPanes:u.acrossPanes});else if(D)v=g.getPlotBandPath(B,
J,u);else return;!h.eventsAdded&&y&&(f(y,function(N,T){E.on(T,function(H){y[T].apply(h,[H])})}),h.eventsAdded=!0);(K||!E.d)&&v&&v.length?E.attr({d:v}):E&&(v?(E.show(!0),E.animate({d:v})):E.d&&(E.hide(),C&&(h.label=C=C.destroy())));F&&(c(F.text)||c(F.formatter))&&v&&v.length&&0<g.width&&0<g.height&&!v.isFlat?(F=b({align:q&&D&&"center",x:q?!D&&4:10,verticalAlign:!q&&D&&"middle",y:q?D?16:10:D?6:-4,rotation:q&&!D&&90},F),this.renderLabel(F,v,D,t)):C&&C.hide();return h};k.prototype.renderLabel=function(h,
g,q,x){var u=this.axis,r=u.chart.renderer,t=this.label;t||(this.label=t=r.text(this.getLabelText(h),0,0,h.useHTML).attr({align:h.textAlign||h.align,rotation:h.rotation,"class":"highcharts-plot-"+(q?"band":"line")+"-label "+(h.className||""),zIndex:x}).add(),u.chart.styledMode||t.css(b({textOverflow:"ellipsis"},h.style)));x=g.xBounds||[g[0][1],g[1][1],q?g[2][1]:g[0][1]];g=g.yBounds||[g[0][2],g[1][2],q?g[2][2]:g[0][2]];q=l(x);r=l(g);t.align(h,!1,{x:q,y:r,width:n(x)-q,height:n(g)-r});t.alignValue&&"left"!==
t.alignValue||t.css({width:(90===t.rotation?u.height-(t.alignAttr.y-u.top):u.width-(t.alignAttr.x-u.left))+"px"});t.show(!0)};k.prototype.getLabelText=function(h){return c(h.formatter)?h.formatter.call(this):h.text};k.prototype.destroy=function(){d(this.axis.plotLinesAndBands,this);delete this.axis;p(this)};return k}();"";"";return m});Y(I,"Core/Tooltip.js",[I["Core/FormatUtilities.js"],I["Core/Globals.js"],I["Core/Renderer/RendererUtilities.js"],I["Core/Renderer/RendererRegistry.js"],I["Core/Utilities.js"]],
function(z,m,n,l,c){var p=z.format,d=m.doc,a=n.distribute,b=c.addEvent,f=c.clamp,e=c.css,k=c.defined,h=c.discardElement,g=c.extend,q=c.fireEvent,x=c.isArray,u=c.isNumber,r=c.isString,t=c.merge,y=c.pick,w=c.splat,A=c.syncTimeout;z=function(){function F(C,J){this.allowShared=!0;this.container=void 0;this.crosshairs=[];this.distance=0;this.isHidden=!0;this.isSticky=!1;this.now={};this.options={};this.outside=!1;this.chart=C;this.init(C,J)}F.prototype.applyFilter=function(){var C=this.chart;C.renderer.definition({tagName:"filter",
attributes:{id:"drop-shadow-"+C.index,opacity:.5},children:[{tagName:"feGaussianBlur",attributes:{"in":"SourceAlpha",stdDeviation:1}},{tagName:"feOffset",attributes:{dx:1,dy:1}},{tagName:"feComponentTransfer",children:[{tagName:"feFuncA",attributes:{type:"linear",slope:.3}}]},{tagName:"feMerge",children:[{tagName:"feMergeNode"},{tagName:"feMergeNode",attributes:{"in":"SourceGraphic"}}]}]})};F.prototype.bodyFormatter=function(C){return C.map(function(J){var B=J.series.tooltipOptions;return(B[(J.point.formatPrefix||
"point")+"Formatter"]||J.point.tooltipFormatter).call(J.point,B[(J.point.formatPrefix||"point")+"Format"]||"")})};F.prototype.cleanSplit=function(C){this.chart.series.forEach(function(J){var B=J&&J.tt;B&&(!B.isActive||C?J.tt=B.destroy():B.isActive=!1)})};F.prototype.defaultFormatter=function(C){var J=this.points||w(this),B=[C.tooltipFooterHeaderFormatter(J[0])];B=B.concat(C.bodyFormatter(J));B.push(C.tooltipFooterHeaderFormatter(J[0],!0));return B};F.prototype.destroy=function(){this.label&&(this.label=
this.label.destroy());this.split&&this.tt&&(this.cleanSplit(!0),this.tt=this.tt.destroy());this.renderer&&(this.renderer=this.renderer.destroy(),h(this.container));c.clearTimeout(this.hideTimer);c.clearTimeout(this.tooltipTimeout)};F.prototype.getAnchor=function(C,J){var B=this.chart,G=B.pointer,E=B.inverted,v=B.plotTop,D=B.plotLeft,K,P,Q=0,N=0;C=w(C);this.followPointer&&J?("undefined"===typeof J.chartX&&(J=G.normalize(J)),G=[J.chartX-D,J.chartY-v]):C[0].tooltipPos?G=C[0].tooltipPos:(C.forEach(function(T){K=
T.series.yAxis;P=T.series.xAxis;Q+=T.plotX||0;N+=T.plotLow?(T.plotLow+(T.plotHigh||0))/2:T.plotY||0;P&&K&&(E?(Q+=v+B.plotHeight-P.len-P.pos,N+=D+B.plotWidth-K.len-K.pos):(Q+=P.pos-D,N+=K.pos-v))}),Q/=C.length,N/=C.length,G=[E?B.plotWidth-N:Q,E?B.plotHeight-Q:N],this.shared&&1<C.length&&J&&(E?G[0]=J.chartX-D:G[1]=J.chartY-v));return G.map(Math.round)};F.prototype.getLabel=function(){var C=this,J=this.chart.styledMode,B=this.options,G=this.split&&this.allowShared,E="tooltip"+(k(B.className)?" "+B.className:
""),v=B.style.pointerEvents||(!this.followPointer&&B.stickOnContact?"auto":"none"),D=function(){C.inContact=!0},K=function(U){var V=C.chart.hoverSeries;C.inContact=C.shouldStickOnContact()&&C.chart.pointer.inClass(U.relatedTarget,"highcharts-tooltip");if(!C.inContact&&V&&V.onMouseOut)V.onMouseOut()},P,Q=this.chart.renderer;if(C.label){var N=!C.label.hasClass("highcharts-label");(G&&!N||!G&&N)&&C.destroy()}if(!this.label){if(this.outside){N=this.chart.options.chart.style;var T=l.getRendererType();
this.container=P=m.doc.createElement("div");P.className="highcharts-tooltip-container";e(P,{position:"absolute",top:"1px",pointerEvents:v,zIndex:Math.max(this.options.style.zIndex||0,(N&&N.zIndex||0)+3)});b(P,"mouseenter",D);b(P,"mouseleave",K);m.doc.body.appendChild(P);this.renderer=Q=new T(P,0,0,N,void 0,void 0,Q.styledMode)}G?this.label=Q.g(E):(this.label=Q.label("",0,0,B.shape,void 0,void 0,B.useHTML,void 0,E).attr({padding:B.padding,r:B.borderRadius}),J||this.label.attr({fill:B.backgroundColor,
"stroke-width":B.borderWidth}).css(B.style).css({pointerEvents:v}).shadow(B.shadow));J&&B.shadow&&(this.applyFilter(),this.label.attr({filter:"url(#drop-shadow-"+this.chart.index+")"}));if(C.outside&&!C.split){var H=this.label,L=H.xSetter,R=H.ySetter;H.xSetter=function(U){L.call(H,C.distance);P.style.left=U+"px"};H.ySetter=function(U){R.call(H,C.distance);P.style.top=U+"px"}}this.label.on("mouseenter",D).on("mouseleave",K).attr({zIndex:8}).add()}return this.label};F.prototype.getPosition=function(C,
J,B){var G=this.chart,E=this.distance,v={},D=G.inverted&&B.h||0,K=this.outside,P=K?d.documentElement.clientWidth-2*E:G.chartWidth,Q=K?Math.max(d.body.scrollHeight,d.documentElement.scrollHeight,d.body.offsetHeight,d.documentElement.offsetHeight,d.documentElement.clientHeight):G.chartHeight,N=G.pointer.getChartPosition(),T=function(S){var aa="x"===S;return[S,aa?P:Q,aa?C:J].concat(K?[aa?C*N.scaleX:J*N.scaleY,aa?N.left-E+(B.plotX+G.plotLeft)*N.scaleX:N.top-E+(B.plotY+G.plotTop)*N.scaleY,0,aa?P:Q]:[aa?
C:J,aa?B.plotX+G.plotLeft:B.plotY+G.plotTop,aa?G.plotLeft:G.plotTop,aa?G.plotLeft+G.plotWidth:G.plotTop+G.plotHeight])},H=T("y"),L=T("x"),R;T=!!B.negative;!G.polar&&G.hoverSeries&&G.hoverSeries.yAxis&&G.hoverSeries.yAxis.reversed&&(T=!T);var U=!this.followPointer&&y(B.ttBelow,!G.inverted===T),V=function(S,aa,ba,fa,ea,ha,ka){var ra=K?"y"===S?E*N.scaleY:E*N.scaleX:E,ta=(ba-fa)/2,sa=fa<ea-E,oa=ea+E+fa<aa,ma=ea-ra-ba+ta;ea=ea+ra-ta;if(U&&oa)v[S]=ea;else if(!U&&sa)v[S]=ma;else if(sa)v[S]=Math.min(ka-fa,
0>ma-D?ma:ma-D);else if(oa)v[S]=Math.max(ha,ea+D+ba>aa?ea:ea+D);else return!1},Z=function(S,aa,ba,fa,ea){var ha;ea<E||ea>aa-E?ha=!1:v[S]=ea<ba/2?1:ea>aa-fa/2?aa-fa-2:ea-ba/2;return ha},O=function(S){var aa=H;H=L;L=aa;R=S},W=function(){!1!==V.apply(0,H)?!1!==Z.apply(0,L)||R||(O(!0),W()):R?v.x=v.y=0:(O(!0),W())};(G.inverted||1<this.len)&&O();W();return v};F.prototype.hide=function(C){var J=this;c.clearTimeout(this.hideTimer);C=y(C,this.options.hideDelay);this.isHidden||(this.hideTimer=A(function(){J.getLabel().fadeOut(C?
void 0:C);J.isHidden=!0},C))};F.prototype.init=function(C,J){this.chart=C;this.options=J;this.crosshairs=[];this.now={x:0,y:0};this.isHidden=!0;this.split=J.split&&!C.inverted&&!C.polar;this.shared=J.shared||this.split;this.outside=y(J.outside,!(!C.scrollablePixelsX&&!C.scrollablePixelsY))};F.prototype.shouldStickOnContact=function(){return!(this.followPointer||!this.options.stickOnContact)};F.prototype.isStickyOnContact=function(){return!(!this.shouldStickOnContact()||!this.inContact)};F.prototype.move=
function(C,J,B,G){var E=this,v=E.now,D=!1!==E.options.animation&&!E.isHidden&&(1<Math.abs(C-v.x)||1<Math.abs(J-v.y)),K=E.followPointer||1<E.len;g(v,{x:D?(2*v.x+C)/3:C,y:D?(v.y+J)/2:J,anchorX:K?void 0:D?(2*v.anchorX+B)/3:B,anchorY:K?void 0:D?(v.anchorY+G)/2:G});E.getLabel().attr(v);E.drawTracker();D&&(c.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){E&&E.move(C,J,B,G)},32))};F.prototype.refresh=function(C,J){var B=this.chart,G=this.options,E=w(C),v=E[0],D=[],K=G.formatter||
this.defaultFormatter,P=this.shared,Q=B.styledMode,N={};if(G.enabled){c.clearTimeout(this.hideTimer);this.allowShared=!(!x(C)&&C.series&&C.series.noSharedTooltip);this.followPointer=!this.split&&v.series.tooltipOptions.followPointer;C=this.getAnchor(C,J);var T=C[0],H=C[1];P&&this.allowShared?(B.pointer.applyInactiveState(E),E.forEach(function(U){U.setState("hover");D.push(U.getLabelConfig())}),N={x:v.category,y:v.y},N.points=D):N=v.getLabelConfig();this.len=D.length;K=K.call(N,this);P=v.series;this.distance=
y(P.tooltipOptions.distance,16);if(!1===K)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(K,E);else{var L=T,R=H;J&&B.pointer.isDirectTouch&&(L=J.chartX-B.plotLeft,R=J.chartY-B.plotTop);if(B.polar||!1===P.options.clip||E.some(function(U){return U.series.shouldShowTooltip(L,R)}))J=this.getLabel(),G.style.width&&!Q||J.css({width:this.chart.spacingBox.width+"px"}),J.attr({text:K&&K.join?K.join(""):K}),J.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+y(v.colorIndex,
P.colorIndex)),Q||J.attr({stroke:G.borderColor||v.color||P.color||"#666666"}),this.updatePosition({plotX:T,plotY:H,negative:v.negative,ttBelow:v.ttBelow,h:C[2]||0});else{this.hide();return}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show();this.isHidden=!1}q(this,"refresh")}};F.prototype.renderSplit=function(C,J){function B(oa,ma,X,da,ia){void 0===ia&&(ia=!0);X?(ma=fa?0:ra,oa=f(oa-da/2,S.left,S.right-da-(G.outside?ea:0))):(ma-=ha,oa=ia?oa-da-Z:oa+Z,oa=f(oa,ia?oa:S.left,S.right));return{x:oa,
y:ma}}var G=this,E=G.chart,v=G.chart,D=v.chartWidth,K=v.chartHeight,P=v.plotHeight,Q=v.plotLeft,N=v.plotTop,T=v.pointer,H=v.scrollablePixelsY;H=void 0===H?0:H;var L=v.scrollablePixelsX,R=v.scrollingContainer;R=void 0===R?{scrollLeft:0,scrollTop:0}:R;var U=R.scrollLeft;R=R.scrollTop;var V=v.styledMode,Z=G.distance,O=G.options,W=G.options.positioner,S=G.outside&&"number"!==typeof L?d.documentElement.getBoundingClientRect():{left:U,right:U+D,top:R,bottom:R+K},aa=G.getLabel(),ba=this.renderer||E.renderer,
fa=!(!E.xAxis[0]||!E.xAxis[0].opposite);E=T.getChartPosition();var ea=E.left;E=E.top;var ha=N+R,ka=0,ra=P-H;r(C)&&(C=[!1,C]);C=C.slice(0,J.length+1).reduce(function(oa,ma,X){if(!1!==ma&&""!==ma){X=J[X-1]||{isHeader:!0,plotX:J[0].plotX,plotY:P,series:{}};var da=X.isHeader,ia=da?G:X.series;ma=ma.toString();var na=ia.tt,pa=X.isHeader,ua=X.series,va="highcharts-color-"+y(X.colorIndex,ua.colorIndex,"none");na||(na={padding:O.padding,r:O.borderRadius},V||(na.fill=O.backgroundColor,na["stroke-width"]=O.borderWidth),
na=ba.label("",0,0,O[pa?"headerShape":"shape"],void 0,void 0,O.useHTML).addClass((pa?"highcharts-tooltip-header ":"")+"highcharts-tooltip-box "+va).attr(na).add(aa));na.isActive=!0;na.attr({text:ma});V||na.css(O.style).shadow(O.shadow).attr({stroke:O.borderColor||X.color||ua.color||"#333333"});ia=ia.tt=na;pa=ia.getBBox();ma=pa.width+ia.strokeWidth();da&&(ka=pa.height,ra+=ka,fa&&(ha-=ka));ua=X.plotX;ua=void 0===ua?0:ua;va=X.plotY;va=void 0===va?0:va;na=X.series;if(X.isHeader){ua=Q+ua;var za=N+P/2}else{var Ea=
na.xAxis,ya=na.yAxis;ua=Ea.pos+f(ua,-Z,Ea.len+Z);na.shouldShowTooltip(0,ya.pos-N+va,{ignoreX:!0})&&(za=ya.pos+va)}ua=f(ua,S.left-Z,S.right+Z);"number"===typeof za?(pa=pa.height+1,va=W?W.call(G,ma,pa,X):B(ua,za,da,ma),oa.push({align:W?0:void 0,anchorX:ua,anchorY:za,boxWidth:ma,point:X,rank:y(va.rank,da?1:0),size:pa,target:va.y,tt:ia,x:va.x})):ia.isActive=!1}return oa},[]);!W&&C.some(function(oa){var ma=(G.outside?ea:0)+oa.anchorX;return ma<S.left&&ma+oa.boxWidth<S.right?!0:ma<ea-S.left+oa.boxWidth&&
S.right-ma>ma})&&(C=C.map(function(oa){var ma=B(oa.anchorX,oa.anchorY,oa.point.isHeader,oa.boxWidth,!1);return g(oa,{target:ma.y,x:ma.x})}));G.cleanSplit();a(C,ra);var ta=ea,sa=ea;C.forEach(function(oa){var ma=oa.x,X=oa.boxWidth;(oa=oa.isHeader)||(G.outside&&ea+ma<ta&&(ta=ea+ma),!oa&&G.outside&&ta+X>sa&&(sa=ea+ma))});C.forEach(function(oa){var ma=oa.x,X=oa.anchorX,da=oa.pos,ia=oa.point.isHeader;da={visibility:"undefined"===typeof da?"hidden":"inherit",x:ma,y:da+ha,anchorX:X,anchorY:oa.anchorY};if(G.outside&&
ma<X){var na=ea-ta;0<na&&(ia||(da.x=ma+na,da.anchorX=X+na),ia&&(da.x=(sa-ta)/2,da.anchorX=X+na))}oa.tt.attr(da)});C=G.container;H=G.renderer;G.outside&&C&&H&&(v=aa.getBBox(),H.setSize(v.width+v.x,v.height+v.y,!1),C.style.left=ta+"px",C.style.top=E+"px")};F.prototype.drawTracker=function(){if(this.followPointer||!this.options.stickOnContact)this.tracker&&this.tracker.destroy();else{var C=this.chart,J=this.label,B=this.shared?C.hoverPoints:C.hoverPoint;if(J&&B){var G={x:0,y:0,width:0,height:0};B=this.getAnchor(B);
var E=J.getBBox();B[0]+=C.plotLeft-J.translateX;B[1]+=C.plotTop-J.translateY;G.x=Math.min(0,B[0]);G.y=Math.min(0,B[1]);G.width=0>B[0]?Math.max(Math.abs(B[0]),E.width-B[0]):Math.max(Math.abs(B[0]),E.width);G.height=0>B[1]?Math.max(Math.abs(B[1]),E.height-Math.abs(B[1])):Math.max(Math.abs(B[1]),E.height);this.tracker?this.tracker.attr(G):(this.tracker=J.renderer.rect(G).addClass("highcharts-tracker").add(J),C.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}}};F.prototype.styledModeFormat=function(C){return C.replace('style\x3d"font-size: 10px"',
'class\x3d"highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class\x3d"highcharts-color-{$1.colorIndex}"')};F.prototype.tooltipFooterHeaderFormatter=function(C,J){var B=C.series,G=B.tooltipOptions,E=B.xAxis,v=E&&E.dateTime;E={isFooter:J,labelConfig:C};var D=G.xDateFormat,K=G[J?"footerFormat":"headerFormat"];q(this,"headerFormatter",E,function(P){v&&!D&&u(C.key)&&(D=v.getXDateFormat(C.key,G.dateTimeLabelFormats));v&&D&&(C.point&&C.point.tooltipDateKeys||["key"]).forEach(function(Q){K=
K.replace("{point."+Q+"}","{point."+Q+":"+D+"}")});B.chart.styledMode&&(K=this.styledModeFormat(K));P.text=p(K,{point:C,series:B},this.chart)});return E.text};F.prototype.update=function(C){this.destroy();t(!0,this.chart.options.tooltip.userOptions,C);this.init(this.chart,t(!0,this.options,C))};F.prototype.updatePosition=function(C){var J=this.chart,B=this.options,G=J.pointer,E=this.getLabel();G=G.getChartPosition();var v=(B.positioner||this.getPosition).call(this,E.width,E.height,C),D=C.plotX+J.plotLeft;
C=C.plotY+J.plotTop;if(this.outside){B=B.borderWidth+2*this.distance;this.renderer.setSize(E.width+B,E.height+B,!1);if(1!==G.scaleX||1!==G.scaleY)e(this.container,{transform:"scale("+G.scaleX+", "+G.scaleY+")"}),D*=G.scaleX,C*=G.scaleY;D+=G.left-v.x;C+=G.top-v.y}this.move(Math.round(v.x),Math.round(v.y||0),D,C)};return F}();"";return z});Y(I,"Core/Series/Point.js",[I["Core/Renderer/HTML/AST.js"],I["Core/Animation/AnimationUtilities.js"],I["Core/DefaultOptions.js"],I["Core/FormatUtilities.js"],I["Core/Utilities.js"]],
function(z,m,n,l,c){var p=m.animObject,d=n.defaultOptions,a=l.format,b=c.addEvent,f=c.defined,e=c.erase,k=c.extend,h=c.fireEvent,g=c.getNestedProperty,q=c.isArray,x=c.isFunction,u=c.isNumber,r=c.isObject,t=c.merge,y=c.objectEach,w=c.pick,A=c.syncTimeout,F=c.removeEvent,C=c.uniqueKey;m=function(){function J(){this.colorIndex=this.category=void 0;this.formatPrefix="point";this.id=void 0;this.isNull=!1;this.percentage=this.options=this.name=void 0;this.selected=!1;this.total=this.series=void 0;this.visible=
!0;this.x=void 0}J.prototype.animateBeforeDestroy=function(){var B=this,G={x:B.startXPos,opacity:0},E=B.getGraphicalProps();E.singular.forEach(function(v){B[v]=B[v].animate("dataLabel"===v?{x:B[v].startXPos,y:B[v].startYPos,opacity:0}:G)});E.plural.forEach(function(v){B[v].forEach(function(D){D.element&&D.animate(k({x:B.startXPos},D.startYPos?{x:D.startXPos,y:D.startYPos}:{}))})})};J.prototype.applyOptions=function(B,G){var E=this.series,v=E.options.pointValKey||E.pointValKey;B=J.prototype.optionsToObject.call(this,
B);k(this,B);this.options=this.options?k(this.options,B):B;B.group&&delete this.group;B.dataLabels&&delete this.dataLabels;v&&(this.y=J.prototype.getNestedProperty.call(this,v));this.formatPrefix=(this.isNull=w(this.isValid&&!this.isValid(),null===this.x||!u(this.y)))?"null":"point";this.selected&&(this.state="select");"name"in this&&"undefined"===typeof G&&E.xAxis&&E.xAxis.hasNames&&(this.x=E.xAxis.nameToX(this));"undefined"===typeof this.x&&E?this.x="undefined"===typeof G?E.autoIncrement():G:u(B.x)&&
E.options.relativeXValue&&(this.x=E.autoIncrement(B.x));return this};J.prototype.destroy=function(){function B(){if(G.graphic||G.dataLabel||G.dataLabels)F(G),G.destroyElements();for(P in G)G[P]=null}var G=this,E=G.series,v=E.chart;E=E.options.dataSorting;var D=v.hoverPoints,K=p(G.series.chart.renderer.globalAnimation),P;G.legendItem&&v.legend.destroyItem(G);D&&(G.setState(),e(D,G),D.length||(v.hoverPoints=null));if(G===v.hoverPoint)G.onMouseOut();E&&E.enabled?(this.animateBeforeDestroy(),A(B,K.duration)):
B();v.pointCount--};J.prototype.destroyElements=function(B){var G=this;B=G.getGraphicalProps(B);B.singular.forEach(function(E){G[E]=G[E].destroy()});B.plural.forEach(function(E){G[E].forEach(function(v){v.element&&v.destroy()});delete G[E]})};J.prototype.firePointEvent=function(B,G,E){var v=this,D=this.series.options;(D.point.events[B]||v.options&&v.options.events&&v.options.events[B])&&v.importEvents();"click"===B&&D.allowPointSelect&&(E=function(K){v.select&&v.select(null,K.ctrlKey||K.metaKey||
K.shiftKey)});h(v,B,G,E)};J.prototype.getClassName=function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+("undefined"!==typeof this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")};J.prototype.getGraphicalProps=function(B){var G=this,E=
[],v={singular:[],plural:[]},D;B=B||{graphic:1,dataLabel:1};B.graphic&&E.push("graphic","upperGraphic","shadowGroup");B.dataLabel&&E.push("dataLabel","dataLabelUpper","connector");for(D=E.length;D--;){var K=E[D];G[K]&&v.singular.push(K)}["dataLabel","connector"].forEach(function(P){var Q=P+"s";B[P]&&G[Q]&&v.plural.push(Q)});return v};J.prototype.getLabelConfig=function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,
percentage:this.percentage,total:this.total||this.stackTotal}};J.prototype.getNestedProperty=function(B){if(B)return 0===B.indexOf("custom.")?g(B,this.options):this[B]};J.prototype.getZone=function(){var B=this.series,G=B.zones;B=B.zoneAxis||"y";var E,v=0;for(E=G[v];this[B]>=E.value;)E=G[++v];this.nonZonedColor||(this.nonZonedColor=this.color);this.color=E&&E.color&&!this.options.color?E.color:this.nonZonedColor;return E};J.prototype.hasNewShapeType=function(){return(this.graphic&&(this.graphic.symbolName||
this.graphic.element.nodeName))!==this.shapeType};J.prototype.init=function(B,G,E){this.series=B;this.applyOptions(G,E);this.id=f(this.id)?this.id:C();this.resolveColor();B.chart.pointCount++;h(this,"afterInit");return this};J.prototype.optionsToObject=function(B){var G=this.series,E=G.options.keys,v=E||G.pointArrayMap||["y"],D=v.length,K={},P=0,Q=0;if(u(B)||null===B)K[v[0]]=B;else if(q(B))for(!E&&B.length>D&&(G=typeof B[0],"string"===G?K.name=B[0]:"number"===G&&(K.x=B[0]),P++);Q<D;)E&&"undefined"===
typeof B[P]||(0<v[Q].indexOf(".")?J.prototype.setNestedProperty(K,B[P],v[Q]):K[v[Q]]=B[P]),P++,Q++;else"object"===typeof B&&(K=B,B.dataLabels&&(G._hasPointLabels=!0),B.marker&&(G._hasPointMarkers=!0));return K};J.prototype.resolveColor=function(){var B=this.series,G=B.chart.styledMode,E=B.chart.options.chart.colorCount;delete this.nonZonedColor;if(B.options.colorByPoint){if(!G){E=B.options.colors||B.chart.options.colors;var v=E[B.colorCounter];E=E.length}G=B.colorCounter;B.colorCounter++;B.colorCounter===
E&&(B.colorCounter=0)}else G||(v=B.color),G=B.colorIndex;this.colorIndex=w(this.options.colorIndex,G);this.color=w(this.options.color,v)};J.prototype.setNestedProperty=function(B,G,E){E.split(".").reduce(function(v,D,K,P){v[D]=P.length-1===K?G:r(v[D],!0)?v[D]:{};return v[D]},B);return B};J.prototype.tooltipFormatter=function(B){var G=this.series,E=G.tooltipOptions,v=w(E.valueDecimals,""),D=E.valuePrefix||"",K=E.valueSuffix||"";G.chart.styledMode&&(B=G.chart.tooltip.styledModeFormat(B));(G.pointArrayMap||
["y"]).forEach(function(P){P="{point."+P;if(D||K)B=B.replace(RegExp(P+"}","g"),D+P+"}"+K);B=B.replace(RegExp(P+"}","g"),P+":,."+v+"f}")});return a(B,{point:this,series:this.series},G.chart)};J.prototype.update=function(B,G,E,v){function D(){K.applyOptions(B);var L=Q&&K.hasDummyGraphic;L=null===K.y?!L:L;Q&&L&&(K.graphic=Q.destroy(),delete K.hasDummyGraphic);r(B,!0)&&(Q&&Q.element&&B&&B.marker&&"undefined"!==typeof B.marker.symbol&&(K.graphic=Q.destroy()),B&&B.dataLabels&&K.dataLabel&&(K.dataLabel=
K.dataLabel.destroy()),K.connector&&(K.connector=K.connector.destroy()));H=K.index;P.updateParallelArrays(K,H);T.data[H]=r(T.data[H],!0)||r(B,!0)?K.options:w(B,T.data[H]);P.isDirty=P.isDirtyData=!0;!P.fixedBox&&P.hasCartesianSeries&&(N.isDirtyBox=!0);"point"===T.legendType&&(N.isDirtyLegend=!0);G&&N.redraw(E)}var K=this,P=K.series,Q=K.graphic,N=P.chart,T=P.options,H;G=w(G,!0);!1===v?D():K.firePointEvent("update",{options:B},D)};J.prototype.remove=function(B,G){this.series.removePoint(this.series.data.indexOf(this),
B,G)};J.prototype.select=function(B,G){var E=this,v=E.series,D=v.chart;this.selectedStaging=B=w(B,!E.selected);E.firePointEvent(B?"select":"unselect",{accumulate:G},function(){E.selected=E.options.selected=B;v.options.data[v.data.indexOf(E)]=E.options;E.setState(B&&"select");G||D.getSelectedPoints().forEach(function(K){var P=K.series;K.selected&&K!==E&&(K.selected=K.options.selected=!1,P.options.data[P.data.indexOf(K)]=K.options,K.setState(D.hoverPoints&&P.options.inactiveOtherPoints?"inactive":""),
K.firePointEvent("unselect"))})});delete this.selectedStaging};J.prototype.onMouseOver=function(B){var G=this.series.chart,E=G.pointer;B=B?E.normalize(B):E.getChartCoordinatesFromPoint(this,G.inverted);E.runPointActions(B,this)};J.prototype.onMouseOut=function(){var B=this.series.chart;this.firePointEvent("mouseOut");this.series.options.inactiveOtherPoints||(B.hoverPoints||[]).forEach(function(G){G.setState()});B.hoverPoints=B.hoverPoint=null};J.prototype.importEvents=function(){if(!this.hasImportedEvents){var B=
this,G=t(B.series.options.point,B.options).events;B.events=G;y(G,function(E,v){x(E)&&b(B,v,E)});this.hasImportedEvents=!0}};J.prototype.setState=function(B,G){var E=this.series,v=this.state,D=E.options.states[B||"normal"]||{},K=d.plotOptions[E.type].marker&&E.options.marker,P=K&&!1===K.enabled,Q=K&&K.states&&K.states[B||"normal"]||{},N=!1===Q.enabled,T=this.marker||{},H=E.chart,L=K&&E.markerAttribs,R=E.halo,U,V=E.stateMarkerGraphic;B=B||"";if(!(B===this.state&&!G||this.selected&&"select"!==B||!1===
D.enabled||B&&(N||P&&!1===Q.enabled)||B&&T.states&&T.states[B]&&!1===T.states[B].enabled)){this.state=B;L&&(U=E.markerAttribs(this,B));if(this.graphic&&!this.hasDummyGraphic){v&&this.graphic.removeClass("highcharts-point-"+v);B&&this.graphic.addClass("highcharts-point-"+B);if(!H.styledMode){var Z=E.pointAttribs(this,B),O=w(H.options.chart.animation,D.animation);E.options.inactiveOtherPoints&&u(Z.opacity)&&((this.dataLabels||[]).forEach(function(W){W&&W.animate({opacity:Z.opacity},O)}),this.connector&&
this.connector.animate({opacity:Z.opacity},O));this.graphic.animate(Z,O)}U&&this.graphic.animate(U,w(H.options.chart.animation,Q.animation,K.animation));V&&V.hide()}else{if(B&&Q){v=T.symbol||E.symbol;V&&V.currentSymbol!==v&&(V=V.destroy());if(U)if(V)V[G?"animate":"attr"]({x:U.x,y:U.y});else v&&(E.stateMarkerGraphic=V=H.renderer.symbol(v,U.x,U.y,U.width,U.height).add(E.markerGroup),V.currentSymbol=v);!H.styledMode&&V&&"inactive"!==this.state&&V.attr(E.pointAttribs(this,B))}V&&(V[B&&this.isInside?"show":
"hide"](),V.element.point=this,V.addClass(this.getClassName(),!0))}D=D.halo;U=(V=this.graphic||V)&&V.visibility||"inherit";D&&D.size&&V&&"hidden"!==U&&!this.isCluster?(R||(E.halo=R=H.renderer.path().add(V.parentGroup)),R.show()[G?"animate":"attr"]({d:this.haloPath(D.size)}),R.attr({"class":"highcharts-halo highcharts-color-"+w(this.colorIndex,E.colorIndex)+(this.className?" "+this.className:""),visibility:U,zIndex:-1}),R.point=this,H.styledMode||R.attr(k({fill:this.color||E.color,"fill-opacity":D.opacity},
z.filterUserAttributes(D.attributes||{})))):R&&R.point&&R.point.haloPath&&R.animate({d:R.point.haloPath(0)},null,R.hide);h(this,"afterSetState",{state:B})}};J.prototype.haloPath=function(B){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-B,this.plotY-B,2*B,2*B)};return J}();"";return m});Y(I,"Core/Pointer.js",[I["Core/Color/Color.js"],I["Core/Globals.js"],I["Core/Tooltip.js"],I["Core/Utilities.js"]],function(z,m,n,l){var c=z.parse,p=m.charts,d=m.noop,a=l.addEvent,b=l.attr,
f=l.css,e=l.defined,k=l.extend,h=l.find,g=l.fireEvent,q=l.isNumber,x=l.isObject,u=l.objectEach,r=l.offset,t=l.pick,y=l.splat;z=function(){function w(A,F){this.lastValidTouch={};this.pinchDown=[];this.runChartClick=!1;this.eventsToUnbind=[];this.chart=A;this.hasDragged=!1;this.options=F;this.init(A,F)}w.prototype.applyInactiveState=function(A){var F=[],C;(A||[]).forEach(function(J){C=J.series;F.push(C);C.linkedParent&&F.push(C.linkedParent);C.linkedSeries&&(F=F.concat(C.linkedSeries));C.navigatorSeries&&
F.push(C.navigatorSeries)});this.chart.series.forEach(function(J){-1===F.indexOf(J)?J.setState("inactive",!0):J.options.inactiveOtherPoints&&J.setAllPointsToState("inactive")})};w.prototype.destroy=function(){var A=this;this.eventsToUnbind.forEach(function(F){return F()});this.eventsToUnbind=[];m.chartCount||(w.unbindDocumentMouseUp&&(w.unbindDocumentMouseUp=w.unbindDocumentMouseUp()),w.unbindDocumentTouchEnd&&(w.unbindDocumentTouchEnd=w.unbindDocumentTouchEnd()));clearInterval(A.tooltipTimeout);
u(A,function(F,C){A[C]=void 0})};w.prototype.drag=function(A){var F=this.chart,C=F.options.chart,J=this.zoomHor,B=this.zoomVert,G=F.plotLeft,E=F.plotTop,v=F.plotWidth,D=F.plotHeight,K=this.mouseDownX||0,P=this.mouseDownY||0,Q=x(C.panning)?C.panning&&C.panning.enabled:C.panning,N=C.panKey&&A[C.panKey+"Key"],T=A.chartX,H=A.chartY,L=this.selectionMarker;if(!L||!L.touch)if(T<G?T=G:T>G+v&&(T=G+v),H<E?H=E:H>E+D&&(H=E+D),this.hasDragged=Math.sqrt(Math.pow(K-T,2)+Math.pow(P-H,2)),10<this.hasDragged){var R=
F.isInsidePlot(K-G,P-E,{visiblePlotOnly:!0});!F.hasCartesianSeries&&!F.mapView||!this.zoomX&&!this.zoomY||!R||N||L||(this.selectionMarker=L=F.renderer.rect(G,E,J?1:v,B?1:D,0).attr({"class":"highcharts-selection-marker",zIndex:7}).add(),F.styledMode||L.attr({fill:C.selectionMarkerFill||c("#335cad").setOpacity(.25).get()}));L&&J&&(J=T-K,L.attr({width:Math.abs(J),x:(0<J?0:J)+K}));L&&B&&(J=H-P,L.attr({height:Math.abs(J),y:(0<J?0:J)+P}));R&&!L&&Q&&F.pan(A,C.panning)}};w.prototype.dragStart=function(A){var F=
this.chart;F.mouseIsDown=A.type;F.cancelClick=!1;F.mouseDownX=this.mouseDownX=A.chartX;F.mouseDownY=this.mouseDownY=A.chartY};w.prototype.drop=function(A){var F=this,C=this.chart,J=this.hasPinched;if(this.selectionMarker){var B=this.selectionMarker,G=B.attr?B.attr("x"):B.x,E=B.attr?B.attr("y"):B.y,v=B.attr?B.attr("width"):B.width,D=B.attr?B.attr("height"):B.height,K={originalEvent:A,xAxis:[],yAxis:[],x:G,y:E,width:v,height:D},P=!!C.mapView;if(this.hasDragged||J)C.axes.forEach(function(Q){if(Q.zoomEnabled&&
e(Q.min)&&(J||F[{xAxis:"zoomX",yAxis:"zoomY"}[Q.coll]])&&q(G)&&q(E)){var N=Q.horiz,T="touchend"===A.type?Q.minPixelPadding:0,H=Q.toValue((N?G:E)+T);N=Q.toValue((N?G+v:E+D)-T);K[Q.coll].push({axis:Q,min:Math.min(H,N),max:Math.max(H,N)});P=!0}}),P&&g(C,"selection",K,function(Q){C.zoom(k(Q,J?{animation:!1}:null))});q(C.index)&&(this.selectionMarker=this.selectionMarker.destroy());J&&this.scaleGroups()}C&&q(C.index)&&(f(C.container,{cursor:C._cursor}),C.cancelClick=10<this.hasDragged,C.mouseIsDown=this.hasDragged=
this.hasPinched=!1,this.pinchDown=[])};w.prototype.findNearestKDPoint=function(A,F,C){var J=this.chart,B=J.hoverPoint;J=J.tooltip;if(B&&J&&J.isStickyOnContact())return B;var G;A.forEach(function(E){var v=!(E.noSharedTooltip&&F)&&0>E.options.findNearestPointBy.indexOf("y");E=E.searchPoint(C,v);if((v=x(E,!0)&&E.series)&&!(v=!x(G,!0))){v=G.distX-E.distX;var D=G.dist-E.dist,K=(E.series.group&&E.series.group.zIndex)-(G.series.group&&G.series.group.zIndex);v=0<(0!==v&&F?v:0!==D?D:0!==K?K:G.series.index>
E.series.index?-1:1)}v&&(G=E)});return G};w.prototype.getChartCoordinatesFromPoint=function(A,F){var C=A.series,J=C.xAxis;C=C.yAxis;var B=A.shapeArgs;if(J&&C){var G=t(A.clientX,A.plotX),E=A.plotY||0;A.isNode&&B&&q(B.x)&&q(B.y)&&(G=B.x,E=B.y);return F?{chartX:C.len+C.pos-E,chartY:J.len+J.pos-G}:{chartX:G+J.pos,chartY:E+C.pos}}if(B&&B.x&&B.y)return{chartX:B.x,chartY:B.y}};w.prototype.getChartPosition=function(){if(this.chartPosition)return this.chartPosition;var A=this.chart.container,F=r(A);this.chartPosition=
{left:F.left,top:F.top,scaleX:1,scaleY:1};var C=A.offsetWidth;A=A.offsetHeight;2<C&&2<A&&(this.chartPosition.scaleX=F.width/C,this.chartPosition.scaleY=F.height/A);return this.chartPosition};w.prototype.getCoordinates=function(A){var F={xAxis:[],yAxis:[]};this.chart.axes.forEach(function(C){F[C.isXAxis?"xAxis":"yAxis"].push({axis:C,value:C.toValue(A[C.horiz?"chartX":"chartY"])})});return F};w.prototype.getHoverData=function(A,F,C,J,B,G){var E=[];J=!(!J||!A);var v={chartX:G?G.chartX:void 0,chartY:G?
G.chartY:void 0,shared:B};g(this,"beforeGetHoverData",v);var D=F&&!F.stickyTracking?[F]:C.filter(function(P){return v.filter?v.filter(P):P.visible&&!(!B&&P.directTouch)&&t(P.options.enableMouseTracking,!0)&&P.stickyTracking}),K=J||!G?A:this.findNearestKDPoint(D,B,G);F=K&&K.series;K&&(B&&!F.noSharedTooltip?(D=C.filter(function(P){return v.filter?v.filter(P):P.visible&&!(!B&&P.directTouch)&&t(P.options.enableMouseTracking,!0)&&!P.noSharedTooltip}),D.forEach(function(P){var Q=h(P.points,function(N){return N.x===
K.x&&!N.isNull});x(Q)&&(P.chart.isBoosting&&(Q=P.getPoint(Q)),E.push(Q))})):E.push(K));v={hoverPoint:K};g(this,"afterGetHoverData",v);return{hoverPoint:v.hoverPoint,hoverSeries:F,hoverPoints:E}};w.prototype.getPointFromEvent=function(A){A=A.target;for(var F;A&&!F;)F=A.point,A=A.parentNode;return F};w.prototype.onTrackerMouseOut=function(A){A=A.relatedTarget||A.toElement;var F=this.chart.hoverSeries;this.isDirectTouch=!1;if(!(!F||!A||F.stickyTracking||this.inClass(A,"highcharts-tooltip")||this.inClass(A,
"highcharts-series-"+F.index)&&this.inClass(A,"highcharts-tracker")))F.onMouseOut()};w.prototype.inClass=function(A,F){for(var C;A;){if(C=b(A,"class")){if(-1!==C.indexOf(F))return!0;if(-1!==C.indexOf("highcharts-container"))return!1}A=A.parentNode}};w.prototype.init=function(A,F){this.options=F;this.chart=A;this.runChartClick=!(!F.chart.events||!F.chart.events.click);this.pinchDown=[];this.lastValidTouch={};n&&(A.tooltip=new n(A,F.tooltip),this.followTouchMove=t(F.tooltip.followTouchMove,!0));this.setDOMEvents()};
w.prototype.normalize=function(A,F){var C=A.touches,J=C?C.length?C.item(0):t(C.changedTouches,A.changedTouches)[0]:A;F||(F=this.getChartPosition());C=J.pageX-F.left;J=J.pageY-F.top;C/=F.scaleX;J/=F.scaleY;return k(A,{chartX:Math.round(C),chartY:Math.round(J)})};w.prototype.onContainerClick=function(A){var F=this.chart,C=F.hoverPoint;A=this.normalize(A);var J=F.plotLeft,B=F.plotTop;F.cancelClick||(C&&this.inClass(A.target,"highcharts-tracker")?(g(C.series,"click",k(A,{point:C})),F.hoverPoint&&C.firePointEvent("click",
A)):(k(A,this.getCoordinates(A)),F.isInsidePlot(A.chartX-J,A.chartY-B,{visiblePlotOnly:!0})&&g(F,"click",A)))};w.prototype.onContainerMouseDown=function(A){var F=1===((A.buttons||A.button)&1);A=this.normalize(A);if(m.isFirefox&&0!==A.button)this.onContainerMouseMove(A);if("undefined"===typeof A.button||F)this.zoomOption(A),F&&A.preventDefault&&A.preventDefault(),this.dragStart(A)};w.prototype.onContainerMouseLeave=function(A){var F=p[t(w.hoverChartIndex,-1)],C=this.chart.tooltip;C&&C.shouldStickOnContact()&&
this.inClass(A.relatedTarget,"highcharts-tooltip-container")||(A=this.normalize(A),F&&(A.relatedTarget||A.toElement)&&(F.pointer.reset(),F.pointer.chartPosition=void 0),C&&!C.isHidden&&this.reset())};w.prototype.onContainerMouseEnter=function(A){delete this.chartPosition};w.prototype.onContainerMouseMove=function(A){var F=this.chart;A=this.normalize(A);this.setHoverChartIndex();A.preventDefault||(A.returnValue=!1);("mousedown"===F.mouseIsDown||this.touchSelect(A))&&this.drag(A);F.openMenu||!this.inClass(A.target,
"highcharts-tracker")&&!F.isInsidePlot(A.chartX-F.plotLeft,A.chartY-F.plotTop,{visiblePlotOnly:!0})||(this.inClass(A.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(A))};w.prototype.onDocumentTouchEnd=function(A){var F=p[t(w.hoverChartIndex,-1)];F&&F.pointer.drop(A)};w.prototype.onContainerTouchMove=function(A){if(this.touchSelect(A))this.onContainerMouseMove(A);else this.touch(A)};w.prototype.onContainerTouchStart=function(A){if(this.touchSelect(A))this.onContainerMouseDown(A);
else this.zoomOption(A),this.touch(A,!0)};w.prototype.onDocumentMouseMove=function(A){var F=this.chart,C=this.chartPosition;A=this.normalize(A,C);var J=F.tooltip;!C||J&&J.isStickyOnContact()||F.isInsidePlot(A.chartX-F.plotLeft,A.chartY-F.plotTop,{visiblePlotOnly:!0})||this.inClass(A.target,"highcharts-tracker")||this.reset()};w.prototype.onDocumentMouseUp=function(A){var F=p[t(w.hoverChartIndex,-1)];F&&F.pointer.drop(A)};w.prototype.pinch=function(A){var F=this,C=F.chart,J=F.pinchDown,B=A.touches||
[],G=B.length,E=F.lastValidTouch,v=F.hasZoom,D={},K=1===G&&(F.inClass(A.target,"highcharts-tracker")&&C.runTrackerClick||F.runChartClick),P={},Q=F.selectionMarker;1<G?F.initiated=!0:1===G&&this.followTouchMove&&(F.initiated=!1);v&&F.initiated&&!K&&!1!==A.cancelable&&A.preventDefault();[].map.call(B,function(N){return F.normalize(N)});"touchstart"===A.type?([].forEach.call(B,function(N,T){J[T]={chartX:N.chartX,chartY:N.chartY}}),E.x=[J[0].chartX,J[1]&&J[1].chartX],E.y=[J[0].chartY,J[1]&&J[1].chartY],
C.axes.forEach(function(N){if(N.zoomEnabled){var T=C.bounds[N.horiz?"h":"v"],H=N.minPixelPadding,L=N.toPixels(Math.min(t(N.options.min,N.dataMin),N.dataMin)),R=N.toPixels(Math.max(t(N.options.max,N.dataMax),N.dataMax)),U=Math.max(L,R);T.min=Math.min(N.pos,Math.min(L,R)-H);T.max=Math.max(N.pos+N.len,U+H)}}),F.res=!0):F.followTouchMove&&1===G?this.runPointActions(F.normalize(A)):J.length&&(g(C,"touchpan",{originalEvent:A},function(){Q||(F.selectionMarker=Q=k({destroy:d,touch:!0},C.plotBox));F.pinchTranslate(J,
B,D,Q,P,E);F.hasPinched=v;F.scaleGroups(D,P)}),F.res&&(F.res=!1,this.reset(!1,0)))};w.prototype.pinchTranslate=function(A,F,C,J,B,G){this.zoomHor&&this.pinchTranslateDirection(!0,A,F,C,J,B,G);this.zoomVert&&this.pinchTranslateDirection(!1,A,F,C,J,B,G)};w.prototype.pinchTranslateDirection=function(A,F,C,J,B,G,E,v){var D=this.chart,K=A?"x":"y",P=A?"X":"Y",Q="chart"+P,N=A?"width":"height",T=D["plot"+(A?"Left":"Top")],H=D.inverted,L=D.bounds[A?"h":"v"],R=1===F.length,U=F[0][Q],V=!R&&F[1][Q];F=function(){"number"===
typeof aa&&20<Math.abs(U-V)&&(W=v||Math.abs(S-aa)/Math.abs(U-V));O=(T-S)/W+U;Z=D["plot"+(A?"Width":"Height")]/W};var Z,O,W=v||1,S=C[0][Q],aa=!R&&C[1][Q];F();C=O;if(C<L.min){C=L.min;var ba=!0}else C+Z>L.max&&(C=L.max-Z,ba=!0);ba?(S-=.8*(S-E[K][0]),"number"===typeof aa&&(aa-=.8*(aa-E[K][1])),F()):E[K]=[S,aa];H||(G[K]=O-T,G[N]=Z);G=H?1/W:W;B[N]=Z;B[K]=C;J[H?A?"scaleY":"scaleX":"scale"+P]=W;J["translate"+P]=G*T+(S-G*U)};w.prototype.reset=function(A,F){var C=this.chart,J=C.hoverSeries,B=C.hoverPoint,G=
C.hoverPoints,E=C.tooltip,v=E&&E.shared?G:B;A&&v&&y(v).forEach(function(D){D.series.isCartesian&&"undefined"===typeof D.plotX&&(A=!1)});if(A)E&&v&&y(v).length&&(E.refresh(v),E.shared&&G?G.forEach(function(D){D.setState(D.state,!0);D.series.isCartesian&&(D.series.xAxis.crosshair&&D.series.xAxis.drawCrosshair(null,D),D.series.yAxis.crosshair&&D.series.yAxis.drawCrosshair(null,D))}):B&&(B.setState(B.state,!0),C.axes.forEach(function(D){D.crosshair&&B.series[D.coll]===D&&D.drawCrosshair(null,B)})));else{if(B)B.onMouseOut();
G&&G.forEach(function(D){D.setState()});if(J)J.onMouseOut();E&&E.hide(F);this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove());C.axes.forEach(function(D){D.hideCrosshair()});this.hoverX=C.hoverPoints=C.hoverPoint=null}};w.prototype.runPointActions=function(A,F){var C=this.chart,J=C.tooltip&&C.tooltip.options.enabled?C.tooltip:void 0,B=J?J.shared:!1,G=F||C.hoverPoint,E=G&&G.series||C.hoverSeries;F=this.getHoverData(G,E,C.series,(!A||"touchmove"!==A.type)&&(!!F||E&&E.directTouch&&this.isDirectTouch),
B,A);G=F.hoverPoint;E=F.hoverSeries;var v=F.hoverPoints;F=E&&E.tooltipOptions.followPointer&&!E.tooltipOptions.split;B=B&&E&&!E.noSharedTooltip;if(G&&(G!==C.hoverPoint||J&&J.isHidden)){(C.hoverPoints||[]).forEach(function(D){-1===v.indexOf(D)&&D.setState()});if(C.hoverSeries!==E)E.onMouseOver();this.applyInactiveState(v);(v||[]).forEach(function(D){D.setState("hover")});C.hoverPoint&&C.hoverPoint.firePointEvent("mouseOut");if(!G.series)return;C.hoverPoints=v;C.hoverPoint=G;G.firePointEvent("mouseOver");
J&&J.refresh(B?v:G,A)}else F&&J&&!J.isHidden&&(G=J.getAnchor([{}],A),C.isInsidePlot(G[0],G[1],{visiblePlotOnly:!0})&&J.updatePosition({plotX:G[0],plotY:G[1]}));this.unDocMouseMove||(this.unDocMouseMove=a(C.container.ownerDocument,"mousemove",function(D){var K=p[w.hoverChartIndex];if(K)K.pointer.onDocumentMouseMove(D)}),this.eventsToUnbind.push(this.unDocMouseMove));C.axes.forEach(function(D){var K=t((D.crosshair||{}).snap,!0),P;K&&((P=C.hoverPoint)&&P.series[D.coll]===D||(P=h(v,function(Q){return Q.series[D.coll]===
D})));P||!K?D.drawCrosshair(A,P):D.hideCrosshair()})};w.prototype.scaleGroups=function(A,F){var C=this.chart;C.series.forEach(function(J){var B=A||J.getPlotBox();J.group&&(J.xAxis&&J.xAxis.zoomEnabled||C.mapView)&&(J.group.attr(B),J.markerGroup&&(J.markerGroup.attr(B),J.markerGroup.clip(F?C.clipRect:null)),J.dataLabelsGroup&&J.dataLabelsGroup.attr(B))});C.clipRect.attr(F||C.clipBox)};w.prototype.setDOMEvents=function(){var A=this,F=this.chart.container,C=F.ownerDocument;F.onmousedown=this.onContainerMouseDown.bind(this);
F.onmousemove=this.onContainerMouseMove.bind(this);F.onclick=this.onContainerClick.bind(this);this.eventsToUnbind.push(a(F,"mouseenter",this.onContainerMouseEnter.bind(this)));this.eventsToUnbind.push(a(F,"mouseleave",this.onContainerMouseLeave.bind(this)));w.unbindDocumentMouseUp||(w.unbindDocumentMouseUp=a(C,"mouseup",this.onDocumentMouseUp.bind(this)));for(var J=this.chart.renderTo.parentElement;J&&"BODY"!==J.tagName;)this.eventsToUnbind.push(a(J,"scroll",function(){delete A.chartPosition})),J=
J.parentElement;m.hasTouch&&(this.eventsToUnbind.push(a(F,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1})),this.eventsToUnbind.push(a(F,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),w.unbindDocumentTouchEnd||(w.unbindDocumentTouchEnd=a(C,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})))};w.prototype.setHoverChartIndex=function(){var A=this.chart,F=m.charts[t(w.hoverChartIndex,-1)];if(F&&F!==A)F.pointer.onContainerMouseLeave({relatedTarget:!0});F&&F.mouseIsDown||
(w.hoverChartIndex=A.index)};w.prototype.touch=function(A,F){var C=this.chart;this.setHoverChartIndex();if(1===A.touches.length)if(A=this.normalize(A),C.isInsidePlot(A.chartX-C.plotLeft,A.chartY-C.plotTop,{visiblePlotOnly:!0})&&!C.openMenu){F&&this.runPointActions(A);if("touchmove"===A.type){F=this.pinchDown;var J=F[0]?4<=Math.sqrt(Math.pow(F[0].chartX-A.chartX,2)+Math.pow(F[0].chartY-A.chartY,2)):!1}t(J,!0)&&this.pinch(A)}else F&&this.reset();else 2===A.touches.length&&this.pinch(A)};w.prototype.touchSelect=
function(A){return!(!this.chart.options.chart.zoomBySingleTouch||!A.touches||1!==A.touches.length)};w.prototype.zoomOption=function(A){var F=this.chart,C=F.options.chart;F=F.inverted;var J=C.zoomType||"";/touch/.test(A.type)&&(J=t(C.pinchType,J));this.zoomX=A=/x/.test(J);this.zoomY=C=/y/.test(J);this.zoomHor=A&&!F||C&&F;this.zoomVert=C&&!F||A&&F;this.hasZoom=A||C};return w}();"";return z});Y(I,"Core/MSPointer.js",[I["Core/Globals.js"],I["Core/Pointer.js"],I["Core/Utilities.js"]],function(z,m,n){function l(){var u=
[];u.item=function(r){return this[r]};h(q,function(r){u.push({pageX:r.pageX,pageY:r.pageY,target:r.target})});return u}function c(u,r,t,y){var w=d[m.hoverChartIndex||NaN];"touch"!==u.pointerType&&u.pointerType!==u.MSPOINTER_TYPE_TOUCH||!w||(w=w.pointer,y(u),w[r]({type:t,target:u.currentTarget,preventDefault:b,touches:l()}))}var p=this&&this.__extends||function(){var u=function(r,t){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,w){y.__proto__=w}||function(y,w){for(var A in w)w.hasOwnProperty(A)&&
(y[A]=w[A])};return u(r,t)};return function(r,t){function y(){this.constructor=r}u(r,t);r.prototype=null===t?Object.create(t):(y.prototype=t.prototype,new y)}}(),d=z.charts,a=z.doc,b=z.noop,f=z.win,e=n.addEvent,k=n.css,h=n.objectEach,g=n.removeEvent,q={},x=!!f.PointerEvent;return function(u){function r(){return null!==u&&u.apply(this,arguments)||this}p(r,u);r.isRequired=function(){return!(z.hasTouch||!f.PointerEvent&&!f.MSPointerEvent)};r.prototype.batchMSEvents=function(t){t(this.chart.container,
x?"pointerdown":"MSPointerDown",this.onContainerPointerDown);t(this.chart.container,x?"pointermove":"MSPointerMove",this.onContainerPointerMove);t(a,x?"pointerup":"MSPointerUp",this.onDocumentPointerUp)};r.prototype.destroy=function(){this.batchMSEvents(g);u.prototype.destroy.call(this)};r.prototype.init=function(t,y){u.prototype.init.call(this,t,y);this.hasZoom&&k(t.container,{"-ms-touch-action":"none","touch-action":"none"})};r.prototype.onContainerPointerDown=function(t){c(t,"onContainerTouchStart",
"touchstart",function(y){q[y.pointerId]={pageX:y.pageX,pageY:y.pageY,target:y.currentTarget}})};r.prototype.onContainerPointerMove=function(t){c(t,"onContainerTouchMove","touchmove",function(y){q[y.pointerId]={pageX:y.pageX,pageY:y.pageY};q[y.pointerId].target||(q[y.pointerId].target=y.currentTarget)})};r.prototype.onDocumentPointerUp=function(t){c(t,"onDocumentTouchEnd","touchend",function(y){delete q[y.pointerId]})};r.prototype.setDOMEvents=function(){u.prototype.setDOMEvents.call(this);(this.hasZoom||
this.followTouchMove)&&this.batchMSEvents(e)};return r}(m)});Y(I,"Core/Legend/Legend.js",[I["Core/Animation/AnimationUtilities.js"],I["Core/FormatUtilities.js"],I["Core/Globals.js"],I["Core/Series/Point.js"],I["Core/Renderer/RendererUtilities.js"],I["Core/Utilities.js"]],function(z,m,n,l,c,p){var d=z.animObject,a=z.setAnimation,b=m.format;z=n.isFirefox;var f=n.marginNames;n=n.win;var e=c.distribute,k=p.addEvent,h=p.createElement,g=p.css,q=p.defined,x=p.discardElement,u=p.find,r=p.fireEvent,t=p.isNumber,
y=p.merge,w=p.pick,A=p.relativeLength,F=p.stableSort,C=p.syncTimeout;c=p.wrap;p=function(){function J(B,G){this.allItems=[];this.contentGroup=this.box=void 0;this.display=!1;this.group=void 0;this.offsetWidth=this.maxLegendWidth=this.maxItemWidth=this.legendWidth=this.legendHeight=this.lastLineHeight=this.lastItemY=this.itemY=this.itemX=this.itemMarginTop=this.itemMarginBottom=this.itemHeight=this.initialItemY=0;this.options={};this.padding=0;this.pages=[];this.proximate=!1;this.scrollGroup=void 0;
this.widthOption=this.totalItemWidth=this.titleHeight=this.symbolWidth=this.symbolHeight=0;this.chart=B;this.init(B,G)}J.prototype.init=function(B,G){this.chart=B;this.setOptions(G);G.enabled&&(this.render(),k(this.chart,"endResize",function(){this.legend.positionCheckboxes()}),this.proximate?this.unchartrender=k(this.chart,"render",function(){this.legend.proximatePositions();this.legend.positionItems()}):this.unchartrender&&this.unchartrender())};J.prototype.setOptions=function(B){var G=w(B.padding,
8);this.options=B;this.chart.styledMode||(this.itemStyle=B.itemStyle,this.itemHiddenStyle=y(this.itemStyle,B.itemHiddenStyle));this.itemMarginTop=B.itemMarginTop||0;this.itemMarginBottom=B.itemMarginBottom||0;this.padding=G;this.initialItemY=G-5;this.symbolWidth=w(B.symbolWidth,16);this.pages=[];this.proximate="proximate"===B.layout&&!this.chart.inverted;this.baseline=void 0};J.prototype.update=function(B,G){var E=this.chart;this.setOptions(y(!0,this.options,B));this.destroy();E.isDirtyLegend=E.isDirtyBox=
!0;w(G,!0)&&E.redraw();r(this,"afterUpdate")};J.prototype.colorizeItem=function(B,G){B.legendGroup[G?"removeClass":"addClass"]("highcharts-legend-item-hidden");if(!this.chart.styledMode){var E=this.options,v=B.legendItem,D=B.legendLine,K=B.legendSymbol,P=this.itemHiddenStyle.color;E=G?E.itemStyle.color:P;var Q=G?B.color||P:P,N=B.options&&B.options.marker,T={fill:Q};v&&v.css({fill:E,color:E});D&&D.attr({stroke:Q});K&&(N&&K.isMarker&&(T=B.pointAttribs(),G||(T.stroke=T.fill=P)),K.attr(T))}r(this,"afterColorizeItem",
{item:B,visible:G})};J.prototype.positionItems=function(){this.allItems.forEach(this.positionItem,this);this.chart.isResizing||this.positionCheckboxes()};J.prototype.positionItem=function(B){var G=this,E=this.options,v=E.symbolPadding,D=!E.rtl,K=B._legendItemPos;E=K[0];K=K[1];var P=B.checkbox,Q=B.legendGroup;Q&&Q.element&&(v={translateX:D?E:this.legendWidth-E-2*v-4,translateY:K},D=function(){r(G,"afterPositionItem",{item:B})},q(Q.translateY)?Q.animate(v,void 0,D):(Q.attr(v),D()));P&&(P.x=E,P.y=K)};
J.prototype.destroyItem=function(B){var G=B.checkbox;["legendItem","legendLine","legendSymbol","legendGroup"].forEach(function(E){B[E]&&(B[E]=B[E].destroy())});G&&x(B.checkbox)};J.prototype.destroy=function(){function B(G){this[G]&&(this[G]=this[G].destroy())}this.getAllItems().forEach(function(G){["legendItem","legendGroup"].forEach(B,G)});"clipRect up down pager nav box title group".split(" ").forEach(B,this);this.display=null};J.prototype.positionCheckboxes=function(){var B=this.group&&this.group.alignAttr,
G=this.clipHeight||this.legendHeight,E=this.titleHeight;if(B){var v=B.translateY;this.allItems.forEach(function(D){var K=D.checkbox;if(K){var P=v+E+K.y+(this.scrollOffset||0)+3;g(K,{left:B.translateX+D.checkboxOffset+K.x-20+"px",top:P+"px",display:this.proximate||P>v-6&&P<v+G-6?"":"none"})}},this)}};J.prototype.renderTitle=function(){var B=this.options,G=this.padding,E=B.title,v=0;E.text&&(this.title||(this.title=this.chart.renderer.label(E.text,G-3,G-4,null,null,null,B.useHTML,null,"legend-title").attr({zIndex:1}),
this.chart.styledMode||this.title.css(E.style),this.title.add(this.group)),E.width||this.title.css({width:this.maxLegendWidth+"px"}),B=this.title.getBBox(),v=B.height,this.offsetWidth=B.width,this.contentGroup.attr({translateY:v}));this.titleHeight=v};J.prototype.setText=function(B){var G=this.options;B.legendItem.attr({text:G.labelFormat?b(G.labelFormat,B,this.chart):G.labelFormatter.call(B)})};J.prototype.renderItem=function(B){var G=this.chart,E=G.renderer,v=this.options,D=this.symbolWidth,K=v.symbolPadding||
0,P=this.itemStyle,Q=this.itemHiddenStyle,N="horizontal"===v.layout?w(v.itemDistance,20):0,T=!v.rtl,H=!B.series,L=!H&&B.series.drawLegendSymbol?B.series:B,R=L.options,U=this.createCheckboxForItem&&R&&R.showCheckbox,V=v.useHTML,Z=B.options.className,O=B.legendItem;R=D+K+N+(U?20:0);O||(B.legendGroup=E.g("legend-item").addClass("highcharts-"+L.type+"-series highcharts-color-"+B.colorIndex+(Z?" "+Z:"")+(H?" highcharts-series-"+B.index:"")).attr({zIndex:1}).add(this.scrollGroup),B.legendItem=O=E.text("",
T?D+K:-K,this.baseline||0,V),G.styledMode||O.css(y(B.visible?P:Q)),O.attr({align:T?"left":"right",zIndex:2}).add(B.legendGroup),this.baseline||(this.fontMetrics=E.fontMetrics(G.styledMode?12:P.fontSize,O),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,O.attr("y",this.baseline),this.symbolHeight=v.symbolHeight||this.fontMetrics.f,v.squareSymbol&&(this.symbolWidth=w(v.symbolWidth,Math.max(this.symbolHeight,16)),R=this.symbolWidth+K+N+(U?20:0),T&&O.attr("x",this.symbolWidth+K))),L.drawLegendSymbol(this,
B),this.setItemEvents&&this.setItemEvents(B,O,V));U&&!B.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(B);this.colorizeItem(B,B.visible);!G.styledMode&&P.width||O.css({width:(v.itemWidth||this.widthOption||G.spacingBox.width)-R+"px"});this.setText(B);G=O.getBBox();B.itemWidth=B.checkboxOffset=v.itemWidth||B.legendItemWidth||G.width+R;this.maxItemWidth=Math.max(this.maxItemWidth,B.itemWidth);this.totalItemWidth+=B.itemWidth;this.itemHeight=B.itemHeight=Math.round(B.legendItemHeight||
G.height||this.symbolHeight)};J.prototype.layoutItem=function(B){var G=this.options,E=this.padding,v="horizontal"===G.layout,D=B.itemHeight,K=this.itemMarginBottom,P=this.itemMarginTop,Q=v?w(G.itemDistance,20):0,N=this.maxLegendWidth;G=G.alignColumns&&this.totalItemWidth>N?this.maxItemWidth:B.itemWidth;v&&this.itemX-E+G>N&&(this.itemX=E,this.lastLineHeight&&(this.itemY+=P+this.lastLineHeight+K),this.lastLineHeight=0);this.lastItemY=P+this.itemY+K;this.lastLineHeight=Math.max(D,this.lastLineHeight);
B._legendItemPos=[this.itemX,this.itemY];v?this.itemX+=G:(this.itemY+=P+D+K,this.lastLineHeight=D);this.offsetWidth=this.widthOption||Math.max((v?this.itemX-E-(B.checkbox?0:Q):G)+E,this.offsetWidth)};J.prototype.getAllItems=function(){var B=[];this.chart.series.forEach(function(G){var E=G&&G.options;G&&w(E.showInLegend,q(E.linkedTo)?!1:void 0,!0)&&(B=B.concat(G.legendItems||("point"===E.legendType?G.data:G)))});r(this,"afterGetAllItems",{allItems:B});return B};J.prototype.getAlignment=function(){var B=
this.options;return this.proximate?B.align.charAt(0)+"tv":B.floating?"":B.align.charAt(0)+B.verticalAlign.charAt(0)+B.layout.charAt(0)};J.prototype.adjustMargins=function(B,G){var E=this.chart,v=this.options,D=this.getAlignment();D&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(K,P){K.test(D)&&!q(B[P])&&(E[f[P]]=Math.max(E[f[P]],E.legend[(P+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][P]*v[P%2?"x":"y"]+w(v.margin,12)+G[P]+(E.titleOffset[P]||0)))})};J.prototype.proximatePositions=
function(){var B=this.chart,G=[],E="left"===this.options.align;this.allItems.forEach(function(v){var D,K=E;if(v.yAxis){v.xAxis.options.reversed&&(K=!K);v.points&&(D=u(K?v.points:v.points.slice(0).reverse(),function(Q){return t(Q.plotY)}));K=this.itemMarginTop+v.legendItem.getBBox().height+this.itemMarginBottom;var P=v.yAxis.top-B.plotTop;v.visible?(D=D?D.plotY:v.yAxis.height,D+=P-.3*K):D=P+v.yAxis.height;G.push({target:D,size:K,item:v})}},this);e(G,B.plotHeight).forEach(function(v){v.item._legendItemPos&&
(v.item._legendItemPos[1]=B.plotTop-B.spacing[0]+v.pos)})};J.prototype.render=function(){var B=this.chart,G=B.renderer,E=this.options,v=this.padding,D=this.getAllItems(),K=this.group,P=this.box;this.itemX=v;this.itemY=this.initialItemY;this.lastItemY=this.offsetWidth=0;this.widthOption=A(E.width,B.spacingBox.width-v);var Q=B.spacingBox.width-2*v-E.x;-1<["rm","lm"].indexOf(this.getAlignment().substring(0,2))&&(Q/=2);this.maxLegendWidth=this.widthOption||Q;K||(this.group=K=G.g("legend").addClass(E.className||
"").attr({zIndex:7}).add(),this.contentGroup=G.g().attr({zIndex:1}).add(K),this.scrollGroup=G.g().add(this.contentGroup));this.renderTitle();F(D,function(T,H){return(T.options&&T.options.legendIndex||0)-(H.options&&H.options.legendIndex||0)});E.reversed&&D.reverse();this.allItems=D;this.display=Q=!!D.length;this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0;D.forEach(this.renderItem,this);D.forEach(this.layoutItem,this);D=(this.widthOption||this.offsetWidth)+v;var N=this.lastItemY+
this.lastLineHeight+this.titleHeight;N=this.handleOverflow(N);N+=v;P||(this.box=P=G.rect().addClass("highcharts-legend-box").attr({r:E.borderRadius}).add(K),P.isNew=!0);B.styledMode||P.attr({stroke:E.borderColor,"stroke-width":E.borderWidth||0,fill:E.backgroundColor||"none"}).shadow(E.shadow);0<D&&0<N&&(P[P.isNew?"attr":"animate"](P.crisp.call({},{x:0,y:0,width:D,height:N},P.strokeWidth())),P.isNew=!1);P[Q?"show":"hide"]();B.styledMode&&"none"===K.getStyle("display")&&(D=N=0);this.legendWidth=D;this.legendHeight=
N;Q&&this.align();this.proximate||this.positionItems();r(this,"afterRender")};J.prototype.align=function(B){void 0===B&&(B=this.chart.spacingBox);var G=this.chart,E=this.options,v=B.y;/(lth|ct|rth)/.test(this.getAlignment())&&0<G.titleOffset[0]?v+=G.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&0<G.titleOffset[2]&&(v-=G.titleOffset[2]);v!==B.y&&(B=y(B,{y:v}));this.group.align(y(E,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":E.verticalAlign}),!0,B)};
J.prototype.handleOverflow=function(B){var G=this,E=this.chart,v=E.renderer,D=this.options,K=D.y,P="top"===D.verticalAlign,Q=this.padding,N=D.maxHeight,T=D.navigation,H=w(T.animation,!0),L=T.arrowSize||12,R=this.pages,U=this.allItems,V=function(ba){"number"===typeof ba?aa.attr({height:ba}):aa&&(G.clipRect=aa.destroy(),G.contentGroup.clip());G.contentGroup.div&&(G.contentGroup.div.style.clip=ba?"rect("+Q+"px,9999px,"+(Q+ba)+"px,0)":"auto")},Z=function(ba){G[ba]=v.circle(0,0,1.3*L).translate(L/2,L/
2).add(S);E.styledMode||G[ba].attr("fill","rgba(0,0,0,0.0001)");return G[ba]},O,W;K=E.spacingBox.height+(P?-K:K)-Q;var S=this.nav,aa=this.clipRect;"horizontal"!==D.layout||"middle"===D.verticalAlign||D.floating||(K/=2);N&&(K=Math.min(K,N));R.length=0;B&&0<K&&B>K&&!1!==T.enabled?(this.clipHeight=O=Math.max(K-20-this.titleHeight-Q,0),this.currentPage=w(this.currentPage,1),this.fullHeight=B,U.forEach(function(ba,fa){var ea=ba._legendItemPos[1],ha=Math.round(ba.legendItem.getBBox().height),ka=R.length;
if(!ka||ea-R[ka-1]>O&&(W||ea)!==R[ka-1])R.push(W||ea),ka++;ba.pageIx=ka-1;W&&(U[fa-1].pageIx=ka-1);fa===U.length-1&&ea+ha-R[ka-1]>O&&ha<=O&&(R.push(ea),ba.pageIx=ka);ea!==W&&(W=ea)}),aa||(aa=G.clipRect=v.clipRect(0,Q,9999,0),G.contentGroup.clip(aa)),V(O),S||(this.nav=S=v.g().attr({zIndex:1}).add(this.group),this.up=v.symbol("triangle",0,0,L,L).add(S),Z("upTracker").on("click",function(){G.scroll(-1,H)}),this.pager=v.text("",15,10).addClass("highcharts-legend-navigation"),E.styledMode||this.pager.css(T.style),
this.pager.add(S),this.down=v.symbol("triangle-down",0,0,L,L).add(S),Z("downTracker").on("click",function(){G.scroll(1,H)})),G.scroll(0),B=K):S&&(V(),this.nav=S.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0);return B};J.prototype.scroll=function(B,G){var E=this,v=this.chart,D=this.pages,K=D.length,P=this.clipHeight,Q=this.options.navigation,N=this.pager,T=this.padding,H=this.currentPage+B;H>K&&(H=K);0<H&&("undefined"!==typeof G&&a(G,v),this.nav.attr({translateX:T,translateY:P+
this.padding+7+this.titleHeight,visibility:"visible"}),[this.up,this.upTracker].forEach(function(L){L.attr({"class":1===H?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),N.attr({text:H+"/"+K}),[this.down,this.downTracker].forEach(function(L){L.attr({x:18+this.pager.getBBox().width,"class":H===K?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),v.styledMode||(this.up.attr({fill:1===H?Q.inactiveColor:Q.activeColor}),this.upTracker.css({cursor:1===H?"default":
"pointer"}),this.down.attr({fill:H===K?Q.inactiveColor:Q.activeColor}),this.downTracker.css({cursor:H===K?"default":"pointer"})),this.scrollOffset=-D[H-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=H,this.positionCheckboxes(),B=d(w(G,v.renderer.globalAnimation,!0)),C(function(){r(E,"afterScroll",{currentPage:H})},B.duration))};J.prototype.setItemEvents=function(B,G,E){var v=this,D=v.chart.renderer.boxWrapper,K=B instanceof l,P="highcharts-legend-"+
(K?"point":"series")+"-active",Q=v.chart.styledMode,N=function(T){v.allItems.forEach(function(H){B!==H&&[H].concat(H.linkedSeries||[]).forEach(function(L){L.setState(T,!K)})})};(E?[G,B.legendSymbol]:[B.legendGroup]).forEach(function(T){if(T)T.on("mouseover",function(){B.visible&&N("inactive");B.setState("hover");B.visible&&D.addClass(P);Q||G.css(v.options.itemHoverStyle)}).on("mouseout",function(){v.chart.styledMode||G.css(y(B.visible?v.itemStyle:v.itemHiddenStyle));N("");D.removeClass(P);B.setState()}).on("click",
function(H){var L=function(){B.setVisible&&B.setVisible();N(B.visible?"inactive":"")};D.removeClass(P);H={browserEvent:H};B.firePointEvent?B.firePointEvent("legendItemClick",H,L):r(B,"legendItemClick",H,L)})})};J.prototype.createCheckboxForItem=function(B){B.checkbox=h("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:B.selected,defaultChecked:B.selected},this.options.itemCheckboxStyle,this.chart.container);k(B.checkbox,"click",function(G){r(B.series||B,"checkboxClick",{checked:G.target.checked,
item:B},function(){B.select()})})};return J}();(/Trident\/7\.0/.test(n.navigator&&n.navigator.userAgent)||z)&&c(p.prototype,"positionItem",function(J,B){var G=this,E=function(){B._legendItemPos&&J.call(G,B)};E();G.bubbleLegend||setTimeout(E)});"";return p});Y(I,"Core/Series/SeriesRegistry.js",[I["Core/Globals.js"],I["Core/DefaultOptions.js"],I["Core/Series/Point.js"],I["Core/Utilities.js"]],function(z,m,n,l){var c=m.defaultOptions,p=l.error,d=l.extendClass,a=l.merge,b;(function(f){function e(k,h){var g=
c.plotOptions||{},q=h.defaultOptions;h.prototype.pointClass||(h.prototype.pointClass=n);h.prototype.type=k;q&&(g[k]=q);f.seriesTypes[k]=h}f.seriesTypes=z.seriesTypes;f.getSeries=function(k,h){void 0===h&&(h={});var g=k.options.chart;g=h.type||g.type||g.defaultSeriesType||"";var q=f.seriesTypes[g];f||p(17,!0,k,{missingModuleFor:g});g=new q;"function"===typeof g.init&&g.init(k,h);return g};f.registerSeriesType=e;f.seriesType=function(k,h,g,q,x){var u=c.plotOptions||{};h=h||"";u[k]=a(u[h],g);e(k,d(f.seriesTypes[h]||
function(){},q));f.seriesTypes[k].prototype.type=k;x&&(f.seriesTypes[k].prototype.pointClass=d(n,x));return f.seriesTypes[k]}})(b||(b={}));return b});Y(I,"Core/Chart/Chart.js",[I["Core/Animation/AnimationUtilities.js"],I["Core/Axis/Axis.js"],I["Core/FormatUtilities.js"],I["Core/Foundation.js"],I["Core/Globals.js"],I["Core/Legend/Legend.js"],I["Core/MSPointer.js"],I["Core/DefaultOptions.js"],I["Core/Pointer.js"],I["Core/Renderer/RendererRegistry.js"],I["Core/Series/SeriesRegistry.js"],I["Core/Renderer/SVG/SVGRenderer.js"],
I["Core/Time.js"],I["Core/Utilities.js"],I["Core/Renderer/HTML/AST.js"]],function(z,m,n,l,c,p,d,a,b,f,e,k,h,g,q){var x=z.animate,u=z.animObject,r=z.setAnimation,t=n.numberFormat,y=l.registerEventOptions,w=c.charts,A=c.doc,F=c.marginNames,C=c.svg,J=c.win,B=a.defaultOptions,G=a.defaultTime,E=e.seriesTypes,v=g.addEvent,D=g.attr,K=g.cleanRecursively,P=g.createElement,Q=g.css,N=g.defined,T=g.discardElement,H=g.erase,L=g.error,R=g.extend,U=g.find,V=g.fireEvent,Z=g.getStyle,O=g.isArray,W=g.isNumber,S=g.isObject,
aa=g.isString,ba=g.merge,fa=g.objectEach,ea=g.pick,ha=g.pInt,ka=g.relativeLength,ra=g.removeEvent,ta=g.splat,sa=g.syncTimeout,oa=g.uniqueKey;z=function(){function ma(X,da,ia){this.series=this.renderTo=this.renderer=this.pointer=this.pointCount=this.plotWidth=this.plotTop=this.plotLeft=this.plotHeight=this.plotBox=this.options=this.numberFormatter=this.margin=this.legend=this.labelCollectors=this.isResizing=this.index=this.eventOptions=this.container=this.colorCounter=this.clipBox=this.chartWidth=
this.chartHeight=this.bounds=this.axisOffset=this.axes=void 0;this.sharedClips={};this.yAxis=this.xAxis=this.userOptions=this.titleOffset=this.time=this.symbolCounter=this.spacingBox=this.spacing=void 0;this.getArgs(X,da,ia)}ma.chart=function(X,da,ia){return new ma(X,da,ia)};ma.prototype.getArgs=function(X,da,ia){aa(X)||X.nodeName?(this.renderTo=X,this.init(da,ia)):this.init(X,da)};ma.prototype.init=function(X,da){var ia=X.plotOptions||{};V(this,"init",{args:arguments},function(){var na=ba(B,X),pa=
na.chart;fa(na.plotOptions,function(ua,va){S(ua)&&(ua.tooltip=ia[va]&&ba(ia[va].tooltip)||void 0)});na.tooltip.userOptions=X.chart&&X.chart.forExport&&X.tooltip.userOptions||X.tooltip;this.userOptions=X;this.margin=[];this.spacing=[];this.bounds={h:{},v:{}};this.labelCollectors=[];this.callback=da;this.isResizing=0;this.options=na;this.axes=[];this.series=[];this.time=X.time&&Object.keys(X.time).length?new h(X.time):c.time;this.numberFormatter=pa.numberFormatter||t;this.styledMode=pa.styledMode;this.hasCartesianSeries=
pa.showAxes;this.index=w.length;w.push(this);c.chartCount++;y(this,pa);this.xAxis=[];this.yAxis=[];this.pointCount=this.colorCounter=this.symbolCounter=0;V(this,"afterInit");this.firstRender()})};ma.prototype.initSeries=function(X){var da=this.options.chart;da=X.type||da.type||da.defaultSeriesType;var ia=E[da];ia||L(17,!0,this,{missingModuleFor:da});da=new ia;"function"===typeof da.init&&da.init(this,X);return da};ma.prototype.setSeriesData=function(){this.getSeriesOrderByLinks().forEach(function(X){X.points||
X.data||!X.enabledDataSorting||X.setData(X.options.data,!1)})};ma.prototype.getSeriesOrderByLinks=function(){return this.series.concat().sort(function(X,da){return X.linkedSeries.length||da.linkedSeries.length?da.linkedSeries.length-X.linkedSeries.length:0})};ma.prototype.orderSeries=function(X){var da=this.series;X=X||0;for(var ia=da.length;X<ia;++X)da[X]&&(da[X].index=X,da[X].name=da[X].getName())};ma.prototype.isInsidePlot=function(X,da,ia){void 0===ia&&(ia={});var na=this.inverted,pa=this.plotBox,
ua=this.plotLeft,va=this.plotTop,za=this.scrollablePlotBox,Ea=0,ya=0;ia.visiblePlotOnly&&this.scrollingContainer&&(ya=this.scrollingContainer,Ea=ya.scrollLeft,ya=ya.scrollTop);var wa=ia.series;pa=ia.visiblePlotOnly&&za||pa;za=ia.inverted?da:X;da=ia.inverted?X:da;X={x:za,y:da,isInsidePlot:!0};if(!ia.ignoreX){var Ca=wa&&(na?wa.yAxis:wa.xAxis)||{pos:ua,len:Infinity};za=ia.paneCoordinates?Ca.pos+za:ua+za;za>=Math.max(Ea+ua,Ca.pos)&&za<=Math.min(Ea+ua+pa.width,Ca.pos+Ca.len)||(X.isInsidePlot=!1)}!ia.ignoreY&&
X.isInsidePlot&&(na=wa&&(na?wa.xAxis:wa.yAxis)||{pos:va,len:Infinity},ia=ia.paneCoordinates?na.pos+da:va+da,ia>=Math.max(ya+va,na.pos)&&ia<=Math.min(ya+va+pa.height,na.pos+na.len)||(X.isInsidePlot=!1));V(this,"afterIsInsidePlot",X);return X.isInsidePlot};ma.prototype.redraw=function(X){V(this,"beforeRedraw");var da=this.hasCartesianSeries?this.axes:this.colorAxis||[],ia=this.series,na=this.pointer,pa=this.legend,ua=this.userOptions.legend,va=this.renderer,za=va.isHidden(),Ea=[],ya=this.isDirtyBox,
wa=this.isDirtyLegend;this.setResponsive&&this.setResponsive(!1);r(this.hasRendered?X:!1,this);za&&this.temporaryDisplay();this.layOutTitles();for(X=ia.length;X--;){var Ca=ia[X];if(Ca.options.stacking||Ca.options.centerInCategory){var Da=!0;if(Ca.isDirty){var Ga=!0;break}}}if(Ga)for(X=ia.length;X--;)Ca=ia[X],Ca.options.stacking&&(Ca.isDirty=!0);ia.forEach(function(Aa){Aa.isDirty&&("point"===Aa.options.legendType?("function"===typeof Aa.updateTotals&&Aa.updateTotals(),wa=!0):ua&&(ua.labelFormatter||
ua.labelFormat)&&(wa=!0));Aa.isDirtyData&&V(Aa,"updatedData")});wa&&pa&&pa.options.enabled&&(pa.render(),this.isDirtyLegend=!1);Da&&this.getStacks();da.forEach(function(Aa){Aa.updateNames();Aa.setScale()});this.getMargins();da.forEach(function(Aa){Aa.isDirty&&(ya=!0)});da.forEach(function(Aa){var Ia=Aa.min+","+Aa.max;Aa.extKey!==Ia&&(Aa.extKey=Ia,Ea.push(function(){V(Aa,"afterSetExtremes",R(Aa.eventArgs,Aa.getExtremes()));delete Aa.eventArgs}));(ya||Da)&&Aa.redraw()});ya&&this.drawChartBox();V(this,
"predraw");ia.forEach(function(Aa){(ya||Aa.isDirty)&&Aa.visible&&Aa.redraw();Aa.isDirtyData=!1});na&&na.reset(!0);va.draw();V(this,"redraw");V(this,"render");za&&this.temporaryDisplay(!0);Ea.forEach(function(Aa){Aa.call()})};ma.prototype.get=function(X){function da(ua){return ua.id===X||ua.options&&ua.options.id===X}for(var ia=this.series,na=U(this.axes,da)||U(this.series,da),pa=0;!na&&pa<ia.length;pa++)na=U(ia[pa].points||[],da);return na};ma.prototype.getAxes=function(){var X=this,da=this.options,
ia=da.xAxis=ta(da.xAxis||{});da=da.yAxis=ta(da.yAxis||{});V(this,"getAxes");ia.forEach(function(na,pa){na.index=pa;na.isX=!0});da.forEach(function(na,pa){na.index=pa});ia.concat(da).forEach(function(na){new m(X,na)});V(this,"afterGetAxes")};ma.prototype.getSelectedPoints=function(){return this.series.reduce(function(X,da){da.getPointsCollection().forEach(function(ia){ea(ia.selectedStaging,ia.selected)&&X.push(ia)});return X},[])};ma.prototype.getSelectedSeries=function(){return this.series.filter(function(X){return X.selected})};
ma.prototype.setTitle=function(X,da,ia){this.applyDescription("title",X);this.applyDescription("subtitle",da);this.applyDescription("caption",void 0);this.layOutTitles(ia)};ma.prototype.applyDescription=function(X,da){var ia=this,na="title"===X?{color:"#333333",fontSize:this.options.isStock?"16px":"18px"}:{color:"#666666"};na=this.options[X]=ba(!this.styledMode&&{style:na},this.options[X],da);var pa=this[X];pa&&da&&(this[X]=pa=pa.destroy());na&&!pa&&(pa=this.renderer.text(na.text,0,0,na.useHTML).attr({align:na.align,
"class":"highcharts-"+X,zIndex:na.zIndex||4}).add(),pa.update=function(ua){ia[{title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"}[X]](ua)},this.styledMode||pa.css(na.style),this[X]=pa)};ma.prototype.layOutTitles=function(X){var da=[0,0,0],ia=this.renderer,na=this.spacingBox;["title","subtitle","caption"].forEach(function(ua){var va=this[ua],za=this.options[ua],Ea=za.verticalAlign||"top";ua="title"===ua?"top"===Ea?-3:0:"top"===Ea?da[0]+2:0;var ya;if(va){this.styledMode||(ya=za.style&&za.style.fontSize);
ya=ia.fontMetrics(ya,va).b;va.css({width:(za.width||na.width+(za.widthAdjust||0))+"px"});var wa=Math.round(va.getBBox(za.useHTML).height);va.align(R({y:"bottom"===Ea?ya:ua+ya,height:wa},za),!1,"spacingBox");za.floating||("top"===Ea?da[0]=Math.ceil(da[0]+wa):"bottom"===Ea&&(da[2]=Math.ceil(da[2]+wa)))}},this);da[0]&&"top"===(this.options.title.verticalAlign||"top")&&(da[0]+=this.options.title.margin);da[2]&&"bottom"===this.options.caption.verticalAlign&&(da[2]+=this.options.caption.margin);var pa=
!this.titleOffset||this.titleOffset.join(",")!==da.join(",");this.titleOffset=da;V(this,"afterLayOutTitles");!this.isDirtyBox&&pa&&(this.isDirtyBox=this.isDirtyLegend=pa,this.hasRendered&&ea(X,!0)&&this.isDirtyBox&&this.redraw())};ma.prototype.getChartSize=function(){var X=this.options.chart,da=X.width;X=X.height;var ia=this.renderTo;N(da)||(this.containerWidth=Z(ia,"width"));N(X)||(this.containerHeight=Z(ia,"height"));this.chartWidth=Math.max(0,da||this.containerWidth||600);this.chartHeight=Math.max(0,
ka(X,this.chartWidth)||(1<this.containerHeight?this.containerHeight:400))};ma.prototype.temporaryDisplay=function(X){var da=this.renderTo;if(X)for(;da&&da.style;)da.hcOrigStyle&&(Q(da,da.hcOrigStyle),delete da.hcOrigStyle),da.hcOrigDetached&&(A.body.removeChild(da),da.hcOrigDetached=!1),da=da.parentNode;else for(;da&&da.style;){A.body.contains(da)||da.parentNode||(da.hcOrigDetached=!0,A.body.appendChild(da));if("none"===Z(da,"display",!1)||da.hcOricDetached)da.hcOrigStyle={display:da.style.display,
height:da.style.height,overflow:da.style.overflow},X={display:"block",overflow:"hidden"},da!==this.renderTo&&(X.height=0),Q(da,X),da.offsetWidth||da.style.setProperty("display","block","important");da=da.parentNode;if(da===A.body)break}};ma.prototype.setClassName=function(X){this.container.className="highcharts-container "+(X||"")};ma.prototype.getContainer=function(){var X=this.options,da=X.chart,ia=oa(),na,pa=this.renderTo;pa||(this.renderTo=pa=da.renderTo);aa(pa)&&(this.renderTo=pa=A.getElementById(pa));
pa||L(13,!0,this);var ua=ha(D(pa,"data-highcharts-chart"));W(ua)&&w[ua]&&w[ua].hasRendered&&w[ua].destroy();D(pa,"data-highcharts-chart",this.index);pa.innerHTML="";da.skipClone||pa.offsetWidth||this.temporaryDisplay();this.getChartSize();ua=this.chartWidth;var va=this.chartHeight;Q(pa,{overflow:"hidden"});this.styledMode||(na=R({position:"relative",overflow:"hidden",width:ua+"px",height:va+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none",
"touch-action":"manipulation",outline:"none"},da.style||{}));this.container=ia=P("div",{id:ia},na,pa);this._cursor=ia.style.cursor;this.renderer=new (da.renderer||!C?f.getRendererType(da.renderer):k)(ia,ua,va,void 0,da.forExport,X.exporting&&X.exporting.allowHTML,this.styledMode);r(void 0,this);this.setClassName(da.className);if(this.styledMode)for(var za in X.defs)this.renderer.definition(X.defs[za]);else this.renderer.setStyle(da.style);this.renderer.chartIndex=this.index;V(this,"afterGetContainer")};
ma.prototype.getMargins=function(X){var da=this.spacing,ia=this.margin,na=this.titleOffset;this.resetMargins();na[0]&&!N(ia[0])&&(this.plotTop=Math.max(this.plotTop,na[0]+da[0]));na[2]&&!N(ia[2])&&(this.marginBottom=Math.max(this.marginBottom,na[2]+da[2]));this.legend&&this.legend.display&&this.legend.adjustMargins(ia,da);V(this,"getMargins");X||this.getAxisMargins()};ma.prototype.getAxisMargins=function(){var X=this,da=X.axisOffset=[0,0,0,0],ia=X.colorAxis,na=X.margin,pa=function(ua){ua.forEach(function(va){va.visible&&
va.getOffset()})};X.hasCartesianSeries?pa(X.axes):ia&&ia.length&&pa(ia);F.forEach(function(ua,va){N(na[va])||(X[ua]+=da[va])});X.setChartSize()};ma.prototype.reflow=function(X){var da=this,ia=da.options.chart,na=da.renderTo,pa=N(ia.width)&&N(ia.height),ua=ia.width||Z(na,"width");ia=ia.height||Z(na,"height");na=X?X.target:J;delete da.pointer.chartPosition;if(!pa&&!da.isPrinting&&ua&&ia&&(na===J||na===A)){if(ua!==da.containerWidth||ia!==da.containerHeight)g.clearTimeout(da.reflowTimeout),da.reflowTimeout=
sa(function(){da.container&&da.setSize(void 0,void 0,!1)},X?100:0);da.containerWidth=ua;da.containerHeight=ia}};ma.prototype.setReflow=function(X){var da=this;!1===X||this.unbindReflow?!1===X&&this.unbindReflow&&(this.unbindReflow=this.unbindReflow()):(this.unbindReflow=v(J,"resize",function(ia){da.options&&da.reflow(ia)}),v(this,"destroy",this.unbindReflow))};ma.prototype.setSize=function(X,da,ia){var na=this,pa=na.renderer;na.isResizing+=1;r(ia,na);ia=pa.globalAnimation;na.oldChartHeight=na.chartHeight;
na.oldChartWidth=na.chartWidth;"undefined"!==typeof X&&(na.options.chart.width=X);"undefined"!==typeof da&&(na.options.chart.height=da);na.getChartSize();na.styledMode||(ia?x:Q)(na.container,{width:na.chartWidth+"px",height:na.chartHeight+"px"},ia);na.setChartSize(!0);pa.setSize(na.chartWidth,na.chartHeight,ia);na.axes.forEach(function(ua){ua.isDirty=!0;ua.setScale()});na.isDirtyLegend=!0;na.isDirtyBox=!0;na.layOutTitles();na.getMargins();na.redraw(ia);na.oldChartHeight=null;V(na,"resize");sa(function(){na&&
V(na,"endResize",null,function(){--na.isResizing})},u(ia).duration)};ma.prototype.setChartSize=function(X){var da=this.inverted,ia=this.renderer,na=this.chartWidth,pa=this.chartHeight,ua=this.options.chart,va=this.spacing,za=this.clipOffset,Ea,ya,wa,Ca;this.plotLeft=Ea=Math.round(this.plotLeft);this.plotTop=ya=Math.round(this.plotTop);this.plotWidth=wa=Math.max(0,Math.round(na-Ea-this.marginRight));this.plotHeight=Ca=Math.max(0,Math.round(pa-ya-this.marginBottom));this.plotSizeX=da?Ca:wa;this.plotSizeY=
da?wa:Ca;this.plotBorderWidth=ua.plotBorderWidth||0;this.spacingBox=ia.spacingBox={x:va[3],y:va[0],width:na-va[3]-va[1],height:pa-va[0]-va[2]};this.plotBox=ia.plotBox={x:Ea,y:ya,width:wa,height:Ca};da=2*Math.floor(this.plotBorderWidth/2);na=Math.ceil(Math.max(da,za[3])/2);pa=Math.ceil(Math.max(da,za[0])/2);this.clipBox={x:na,y:pa,width:Math.floor(this.plotSizeX-Math.max(da,za[1])/2-na),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(da,za[2])/2-pa))};X||(this.axes.forEach(function(Da){Da.setAxisSize();
Da.setAxisTranslation()}),ia.alignElements());V(this,"afterSetChartSize",{skipAxes:X})};ma.prototype.resetMargins=function(){V(this,"resetMargins");var X=this,da=X.options.chart;["margin","spacing"].forEach(function(ia){var na=da[ia],pa=S(na)?na:[na,na,na,na];["Top","Right","Bottom","Left"].forEach(function(ua,va){X[ia][va]=ea(da[ia+ua],pa[va])})});F.forEach(function(ia,na){X[ia]=ea(X.margin[na],X.spacing[na])});X.axisOffset=[0,0,0,0];X.clipOffset=[0,0,0,0]};ma.prototype.drawChartBox=function(){var X=
this.options.chart,da=this.renderer,ia=this.chartWidth,na=this.chartHeight,pa=this.styledMode,ua=this.plotBGImage,va=X.backgroundColor,za=X.plotBackgroundColor,Ea=X.plotBackgroundImage,ya=this.plotLeft,wa=this.plotTop,Ca=this.plotWidth,Da=this.plotHeight,Ga=this.plotBox,Aa=this.clipRect,Ia=this.clipBox,La=this.chartBackground,Ha=this.plotBackground,Ja=this.plotBorder,Na,Ka="animate";La||(this.chartBackground=La=da.rect().addClass("highcharts-background").add(),Ka="attr");if(pa)var Oa=Na=La.strokeWidth();
else{Oa=X.borderWidth||0;Na=Oa+(X.shadow?8:0);va={fill:va||"none"};if(Oa||La["stroke-width"])va.stroke=X.borderColor,va["stroke-width"]=Oa;La.attr(va).shadow(X.shadow)}La[Ka]({x:Na/2,y:Na/2,width:ia-Na-Oa%2,height:na-Na-Oa%2,r:X.borderRadius});Ka="animate";Ha||(Ka="attr",this.plotBackground=Ha=da.rect().addClass("highcharts-plot-background").add());Ha[Ka](Ga);pa||(Ha.attr({fill:za||"none"}).shadow(X.plotShadow),Ea&&(ua?(Ea!==ua.attr("href")&&ua.attr("href",Ea),ua.animate(Ga)):this.plotBGImage=da.image(Ea,
ya,wa,Ca,Da).add()));Aa?Aa.animate({width:Ia.width,height:Ia.height}):this.clipRect=da.clipRect(Ia);Ka="animate";Ja||(Ka="attr",this.plotBorder=Ja=da.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add());pa||Ja.attr({stroke:X.plotBorderColor,"stroke-width":X.plotBorderWidth||0,fill:"none"});Ja[Ka](Ja.crisp({x:ya,y:wa,width:Ca,height:Da},-Ja.strokeWidth()));this.isDirtyBox=!1;V(this,"afterDrawChartBox")};ma.prototype.propFromSeries=function(){var X=this,da=X.options.chart,ia=X.options.series,
na,pa,ua;["inverted","angular","polar"].forEach(function(va){pa=E[da.type||da.defaultSeriesType];ua=da[va]||pa&&pa.prototype[va];for(na=ia&&ia.length;!ua&&na--;)(pa=E[ia[na].type])&&pa.prototype[va]&&(ua=!0);X[va]=ua})};ma.prototype.linkSeries=function(){var X=this,da=X.series;da.forEach(function(ia){ia.linkedSeries.length=0});da.forEach(function(ia){var na=ia.options.linkedTo;aa(na)&&(na=":previous"===na?X.series[ia.index-1]:X.get(na))&&na.linkedParent!==ia&&(na.linkedSeries.push(ia),ia.linkedParent=
na,na.enabledDataSorting&&ia.setDataSortingOptions(),ia.visible=ea(ia.options.visible,na.options.visible,ia.visible))});V(this,"afterLinkSeries")};ma.prototype.renderSeries=function(){this.series.forEach(function(X){X.translate();X.render()})};ma.prototype.renderLabels=function(){var X=this,da=X.options.labels;da.items&&da.items.forEach(function(ia){var na=R(da.style,ia.style),pa=ha(na.left)+X.plotLeft,ua=ha(na.top)+X.plotTop+12;delete na.left;delete na.top;X.renderer.text(ia.html,pa,ua).attr({zIndex:2}).css(na).add()})};
ma.prototype.render=function(){var X=this.axes,da=this.colorAxis,ia=this.renderer,na=this.options,pa=function(ya){ya.forEach(function(wa){wa.visible&&wa.render()})},ua=0;this.setTitle();this.legend=new p(this,na.legend);this.getStacks&&this.getStacks();this.getMargins(!0);this.setChartSize();na=this.plotWidth;X.some(function(ya){if(ya.horiz&&ya.visible&&ya.options.labels.enabled&&ya.series.length)return ua=21,!0});var va=this.plotHeight=Math.max(this.plotHeight-ua,0);X.forEach(function(ya){ya.setScale()});
this.getAxisMargins();var za=1.1<na/this.plotWidth,Ea=1.05<va/this.plotHeight;if(za||Ea)X.forEach(function(ya){(ya.horiz&&za||!ya.horiz&&Ea)&&ya.setTickInterval(!0)}),this.getMargins();this.drawChartBox();this.hasCartesianSeries?pa(X):da&&da.length&&pa(da);this.seriesGroup||(this.seriesGroup=ia.g("series-group").attr({zIndex:3}).add());this.renderSeries();this.renderLabels();this.addCredits();this.setResponsive&&this.setResponsive();this.hasRendered=!0};ma.prototype.addCredits=function(X){var da=
this,ia=ba(!0,this.options.credits,X);ia.enabled&&!this.credits&&(this.credits=this.renderer.text(ia.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){ia.href&&(J.location.href=ia.href)}).attr({align:ia.position.align,zIndex:8}),da.styledMode||this.credits.css(ia.style),this.credits.add().align(ia.position),this.credits.update=function(na){da.credits=da.credits.destroy();da.addCredits(na)})};ma.prototype.destroy=function(){var X=this,da=X.axes,ia=X.series,na=X.container,
pa=na&&na.parentNode,ua;V(X,"destroy");X.renderer.forExport?H(w,X):w[X.index]=void 0;c.chartCount--;X.renderTo.removeAttribute("data-highcharts-chart");ra(X);for(ua=da.length;ua--;)da[ua]=da[ua].destroy();this.scroller&&this.scroller.destroy&&this.scroller.destroy();for(ua=ia.length;ua--;)ia[ua]=ia[ua].destroy();"title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" ").forEach(function(va){var za=
X[va];za&&za.destroy&&(X[va]=za.destroy())});na&&(na.innerHTML="",ra(na),pa&&T(na));fa(X,function(va,za){delete X[za]})};ma.prototype.firstRender=function(){var X=this,da=X.options;if(!X.isReadyToRender||X.isReadyToRender()){X.getContainer();X.resetMargins();X.setChartSize();X.propFromSeries();X.getAxes();(O(da.series)?da.series:[]).forEach(function(ia){X.initSeries(ia)});X.linkSeries();X.setSeriesData();V(X,"beforeRender");b&&(d.isRequired()?X.pointer=new d(X,da):X.pointer=new b(X,da));X.render();
X.pointer.getChartPosition();if(!X.renderer.imgCount&&!X.hasLoaded)X.onload();X.temporaryDisplay(!0)}};ma.prototype.onload=function(){this.callbacks.concat([this.callback]).forEach(function(X){X&&"undefined"!==typeof this.index&&X.apply(this,[this])},this);V(this,"load");V(this,"render");N(this.index)&&this.setReflow(this.options.chart.reflow);this.hasLoaded=!0};ma.prototype.addSeries=function(X,da,ia){var na=this,pa;X&&(da=ea(da,!0),V(na,"addSeries",{options:X},function(){pa=na.initSeries(X);na.isDirtyLegend=
!0;na.linkSeries();pa.enabledDataSorting&&pa.setData(X.data,!1);V(na,"afterAddSeries",{series:pa});da&&na.redraw(ia)}));return pa};ma.prototype.addAxis=function(X,da,ia,na){return this.createAxis(da?"xAxis":"yAxis",{axis:X,redraw:ia,animation:na})};ma.prototype.addColorAxis=function(X,da,ia){return this.createAxis("colorAxis",{axis:X,redraw:da,animation:ia})};ma.prototype.createAxis=function(X,da){X=new m(this,ba(da.axis,{index:this[X].length,isX:"xAxis"===X}));ea(da.redraw,!0)&&this.redraw(da.animation);
return X};ma.prototype.showLoading=function(X){var da=this,ia=da.options,na=ia.loading,pa=function(){ua&&Q(ua,{left:da.plotLeft+"px",top:da.plotTop+"px",width:da.plotWidth+"px",height:da.plotHeight+"px"})},ua=da.loadingDiv,va=da.loadingSpan;ua||(da.loadingDiv=ua=P("div",{className:"highcharts-loading highcharts-loading-hidden"},null,da.container));va||(da.loadingSpan=va=P("span",{className:"highcharts-loading-inner"},null,ua),v(da,"redraw",pa));ua.className="highcharts-loading";q.setElementHTML(va,
ea(X,ia.lang.loading,""));da.styledMode||(Q(ua,R(na.style,{zIndex:10})),Q(va,na.labelStyle),da.loadingShown||(Q(ua,{opacity:0,display:""}),x(ua,{opacity:na.style.opacity||.5},{duration:na.showDuration||0})));da.loadingShown=!0;pa()};ma.prototype.hideLoading=function(){var X=this.options,da=this.loadingDiv;da&&(da.className="highcharts-loading highcharts-loading-hidden",this.styledMode||x(da,{opacity:0},{duration:X.loading.hideDuration||100,complete:function(){Q(da,{display:"none"})}}));this.loadingShown=
!1};ma.prototype.update=function(X,da,ia,na){var pa=this,ua={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},va=X.isResponsiveOptions,za=[],Ea,ya;V(pa,"update",{options:X});va||pa.setResponsive(!1,!0);X=K(X,pa.options);pa.userOptions=ba(pa.userOptions,X);var wa=X.chart;if(wa){ba(!0,pa.options.chart,wa);"className"in wa&&pa.setClassName(wa.className);"reflow"in wa&&pa.setReflow(wa.reflow);if("inverted"in wa||"polar"in wa||"type"in wa){pa.propFromSeries();var Ca=!0}"alignTicks"in
wa&&(Ca=!0);"events"in wa&&y(this,wa);fa(wa,function(Da,Ga){-1!==pa.propsRequireUpdateSeries.indexOf("chart."+Ga)&&(Ea=!0);-1!==pa.propsRequireDirtyBox.indexOf(Ga)&&(pa.isDirtyBox=!0);-1!==pa.propsRequireReflow.indexOf(Ga)&&(va?pa.isDirtyBox=!0:ya=!0)});!pa.styledMode&&wa.style&&pa.renderer.setStyle(pa.options.chart.style||{})}!pa.styledMode&&X.colors&&(this.options.colors=X.colors);X.time&&(this.time===G&&(this.time=new h(X.time)),ba(!0,pa.options.time,X.time));fa(X,function(Da,Ga){if(pa[Ga]&&"function"===
typeof pa[Ga].update)pa[Ga].update(Da,!1);else if("function"===typeof pa[ua[Ga]])pa[ua[Ga]](Da);else"colors"!==Ga&&-1===pa.collectionsWithUpdate.indexOf(Ga)&&ba(!0,pa.options[Ga],X[Ga]);"chart"!==Ga&&-1!==pa.propsRequireUpdateSeries.indexOf(Ga)&&(Ea=!0)});this.collectionsWithUpdate.forEach(function(Da){if(X[Da]){var Ga=[];pa[Da].forEach(function(Aa,Ia){Aa.options.isInternal||Ga.push(ea(Aa.options.index,Ia))});ta(X[Da]).forEach(function(Aa,Ia){var La=N(Aa.id),Ha;La&&(Ha=pa.get(Aa.id));!Ha&&pa[Da]&&
(Ha=pa[Da][Ga?Ga[Ia]:Ia])&&La&&N(Ha.options.id)&&(Ha=void 0);Ha&&Ha.coll===Da&&(Ha.update(Aa,!1),ia&&(Ha.touched=!0));!Ha&&ia&&pa.collectionsWithInit[Da]&&(pa.collectionsWithInit[Da][0].apply(pa,[Aa].concat(pa.collectionsWithInit[Da][1]||[]).concat([!1])).touched=!0)});ia&&pa[Da].forEach(function(Aa){Aa.touched||Aa.options.isInternal?delete Aa.touched:za.push(Aa)})}});za.forEach(function(Da){Da.chart&&Da.remove&&Da.remove(!1)});Ca&&pa.axes.forEach(function(Da){Da.update({},!1)});Ea&&pa.getSeriesOrderByLinks().forEach(function(Da){Da.chart&&
Da.update({},!1)},this);Ca=wa&&wa.width;wa=wa&&(aa(wa.height)?ka(wa.height,Ca||pa.chartWidth):wa.height);ya||W(Ca)&&Ca!==pa.chartWidth||W(wa)&&wa!==pa.chartHeight?pa.setSize(Ca,wa,na):ea(da,!0)&&pa.redraw(na);V(pa,"afterUpdate",{options:X,redraw:da,animation:na})};ma.prototype.setSubtitle=function(X,da){this.applyDescription("subtitle",X);this.layOutTitles(da)};ma.prototype.setCaption=function(X,da){this.applyDescription("caption",X);this.layOutTitles(da)};ma.prototype.showResetZoom=function(){function X(){da.zoomOut()}
var da=this,ia=B.lang,na=da.options.chart.resetZoomButton,pa=na.theme,ua=pa.states,va="chart"===na.relativeTo||"spacingBox"===na.relativeTo?null:"scrollablePlotBox";V(this,"beforeShowResetZoom",null,function(){da.resetZoomButton=da.renderer.button(ia.resetZoom,null,null,X,pa,ua&&ua.hover).attr({align:na.position.align,title:ia.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(na.position,!1,va)});V(this,"afterShowResetZoom")};ma.prototype.zoomOut=function(){V(this,"selection",{resetSelection:!0},
this.zoom)};ma.prototype.zoom=function(X){var da=this,ia=da.pointer,na=da.inverted?ia.mouseDownX:ia.mouseDownY,pa=!1,ua;!X||X.resetSelection?(da.axes.forEach(function(za){ua=za.zoom()}),ia.initiated=!1):X.xAxis.concat(X.yAxis).forEach(function(za){var Ea=za.axis,ya=da.inverted?Ea.left:Ea.top,wa=da.inverted?ya+Ea.width:ya+Ea.height,Ca=Ea.isXAxis,Da=!1;if(!Ca&&na>=ya&&na<=wa||Ca||!N(na))Da=!0;ia[Ca?"zoomX":"zoomY"]&&Da&&(ua=Ea.zoom(za.min,za.max),Ea.displayBtn&&(pa=!0))});var va=da.resetZoomButton;
pa&&!va?da.showResetZoom():!pa&&S(va)&&(da.resetZoomButton=va.destroy());ua&&da.redraw(ea(da.options.chart.animation,X&&X.animation,100>da.pointCount))};ma.prototype.pan=function(X,da){var ia=this,na=ia.hoverPoints;da="object"===typeof da?da:{enabled:da,type:"x"};var pa=ia.options.chart,ua=ia.options.mapNavigation&&ia.options.mapNavigation.enabled;pa&&pa.panning&&(pa.panning=da);var va=da.type,za;V(this,"pan",{originalEvent:X},function(){na&&na.forEach(function(wa){wa.setState()});var Ea=ia.xAxis;
"xy"===va?Ea=Ea.concat(ia.yAxis):"y"===va&&(Ea=ia.yAxis);var ya={};Ea.forEach(function(wa){if(wa.options.panningEnabled&&!wa.options.isInternal){var Ca=wa.horiz,Da=X[Ca?"chartX":"chartY"];Ca=Ca?"mouseDownX":"mouseDownY";var Ga=ia[Ca],Aa=wa.minPointOffset||0,Ia=wa.reversed&&!ia.inverted||!wa.reversed&&ia.inverted?-1:1,La=wa.getExtremes(),Ha=wa.toValue(Ga-Da,!0)+Aa*Ia,Ja=wa.toValue(Ga+wa.len-Da,!0)-(Aa*Ia||wa.isXAxis&&wa.pointRangePadding||0),Na=Ja<Ha;Ia=wa.hasVerticalPanning();Ga=Na?Ja:Ha;Ha=Na?Ha:
Ja;var Ka=wa.panningState;!Ia||wa.isXAxis||Ka&&!Ka.isDirty||wa.series.forEach(function(Oa){var Qa=Oa.getProcessedData(!0);Qa=Oa.getExtremes(Qa.yData,!0);Ka||(Ka={startMin:Number.MAX_VALUE,startMax:-Number.MAX_VALUE});W(Qa.dataMin)&&W(Qa.dataMax)&&(Ka.startMin=Math.min(ea(Oa.options.threshold,Infinity),Qa.dataMin,Ka.startMin),Ka.startMax=Math.max(ea(Oa.options.threshold,-Infinity),Qa.dataMax,Ka.startMax))});Ia=Math.min(ea(Ka&&Ka.startMin,La.dataMin),Aa?La.min:wa.toValue(wa.toPixels(La.min)-wa.minPixelPadding));
Ja=Math.max(ea(Ka&&Ka.startMax,La.dataMax),Aa?La.max:wa.toValue(wa.toPixels(La.max)+wa.minPixelPadding));wa.panningState=Ka;wa.isOrdinal||(Aa=Ia-Ga,0<Aa&&(Ha+=Aa,Ga=Ia),Aa=Ha-Ja,0<Aa&&(Ha=Ja,Ga-=Aa),wa.series.length&&Ga!==La.min&&Ha!==La.max&&Ga>=Ia&&Ha<=Ja&&(wa.setExtremes(Ga,Ha,!1,!1,{trigger:"pan"}),ia.resetZoomButton||ua||Ga===Ia||Ha===Ja||!va.match("y")||(ia.showResetZoom(),wa.displayBtn=!1),za=!0),ya[Ca]=Da)}});fa(ya,function(wa,Ca){ia[Ca]=wa});za&&ia.redraw(!1);Q(ia.container,{cursor:"move"})})};
return ma}();R(z.prototype,{callbacks:[],collectionsWithInit:{xAxis:[z.prototype.addAxis,[!0]],yAxis:[z.prototype.addAxis,[!1]],series:[z.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:"backgroundColor borderColor borderWidth borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireReflow:"margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft".split(" "),
propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" ")});"";return z});Y(I,"Core/Legend/LegendSymbol.js",[I["Core/Utilities.js"]],function(z){var m=z.merge,n=z.pick,l;(function(c){c.drawLineMarker=function(p){var d=this.options,a=p.symbolWidth,b=p.symbolHeight,f=b/2,e=this.chart.renderer,k=this.legendGroup;p=p.baseline-Math.round(.3*p.fontMetrics.b);var h={},g=d.marker;this.chart.styledMode||(h={"stroke-width":d.lineWidth||
0},d.dashStyle&&(h.dashstyle=d.dashStyle));this.legendLine=e.path([["M",0,p],["L",a,p]]).addClass("highcharts-graph").attr(h).add(k);g&&!1!==g.enabled&&a&&(d=Math.min(n(g.radius,f),f),0===this.symbol.indexOf("url")&&(g=m(g,{width:b,height:b}),d=0),this.legendSymbol=a=e.symbol(this.symbol,a/2-d,p-d,2*d,2*d,g).addClass("highcharts-point").add(k),a.isMarker=!0)};c.drawRectangle=function(p,d){var a=p.symbolHeight,b=p.options.squareSymbol;d.legendSymbol=this.chart.renderer.rect(b?(p.symbolWidth-a)/2:0,
p.baseline-a+1,b?a:p.symbolWidth,a,n(p.options.symbolRadius,a/2)).addClass("highcharts-point").attr({zIndex:3}).add(d.legendGroup)}})(l||(l={}));return l});Y(I,"Core/Series/SeriesDefaults.js",[],function(){return{lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1E3},events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",
lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",defer:!0,formatter:function(){var z=this.series.chart.numberFormatter;return"number"!==typeof this.y?"":z(this.y,-1)},padding:5,style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},
select:{animation:{duration:0}},inactive:{animation:{duration:50},opacity:.2}},stickyTracking:!0,turboThreshold:1E3,findNearestPointBy:"x"}});Y(I,"Core/Series/Series.js",[I["Core/Animation/AnimationUtilities.js"],I["Core/DefaultOptions.js"],I["Core/Foundation.js"],I["Core/Globals.js"],I["Core/Legend/LegendSymbol.js"],I["Core/Series/Point.js"],I["Core/Series/SeriesDefaults.js"],I["Core/Series/SeriesRegistry.js"],I["Core/Renderer/SVG/SVGElement.js"],I["Core/Utilities.js"]],function(z,m,n,l,c,p,d,a,
b,f){var e=z.animObject,k=z.setAnimation,h=m.defaultOptions,g=n.registerEventOptions,q=l.hasTouch,x=l.svg,u=l.win,r=a.seriesTypes,t=f.addEvent,y=f.arrayMax,w=f.arrayMin,A=f.clamp,F=f.cleanRecursively,C=f.correctFloat,J=f.defined,B=f.erase,G=f.error,E=f.extend,v=f.find,D=f.fireEvent,K=f.getNestedProperty,P=f.isArray,Q=f.isNumber,N=f.isString,T=f.merge,H=f.objectEach,L=f.pick,R=f.removeEvent,U=f.splat,V=f.syncTimeout;z=function(){function Z(){this.zones=this.yAxis=this.xAxis=this.userOptions=this.tooltipOptions=
this.processedYData=this.processedXData=this.points=this.options=this.linkedSeries=this.index=this.eventsToUnbind=this.eventOptions=this.data=this.chart=this._i=void 0}Z.prototype.init=function(O,W){D(this,"init",{options:W});var S=this,aa=O.series;this.eventsToUnbind=[];S.chart=O;S.options=S.setOptions(W);W=S.options;S.linkedSeries=[];S.bindAxes();E(S,{name:W.name,state:"",visible:!1!==W.visible,selected:!0===W.selected});g(this,W);var ba=W.events;if(ba&&ba.click||W.point&&W.point.events&&W.point.events.click||
W.allowPointSelect)O.runTrackerClick=!0;S.getColor();S.getSymbol();S.parallelArrays.forEach(function(ea){S[ea+"Data"]||(S[ea+"Data"]=[])});S.isCartesian&&(O.hasCartesianSeries=!0);var fa;aa.length&&(fa=aa[aa.length-1]);S._i=L(fa&&fa._i,-1)+1;S.opacity=S.options.opacity;O.orderSeries(this.insert(aa));W.dataSorting&&W.dataSorting.enabled?S.setDataSortingOptions():S.points||S.data||S.setData(W.data,!1);D(this,"afterInit")};Z.prototype.is=function(O){return r[O]&&this instanceof r[O]};Z.prototype.insert=
function(O){var W=this.options.index,S;if(Q(W)){for(S=O.length;S--;)if(W>=L(O[S].options.index,O[S]._i)){O.splice(S+1,0,this);break}-1===S&&O.unshift(this);S+=1}else O.push(this);return L(S,O.length-1)};Z.prototype.bindAxes=function(){var O=this,W=O.options,S=O.chart,aa;D(this,"bindAxes",null,function(){(O.axisTypes||[]).forEach(function(ba){var fa=0;S[ba].forEach(function(ea){aa=ea.options;if(W[ba]===fa&&!aa.isInternal||"undefined"!==typeof W[ba]&&W[ba]===aa.id||"undefined"===typeof W[ba]&&0===aa.index)O.insert(ea.series),
O[ba]=ea,ea.isDirty=!0;aa.isInternal||fa++});O[ba]||O.optionalAxis===ba||G(18,!0,S)})});D(this,"afterBindAxes")};Z.prototype.updateParallelArrays=function(O,W){var S=O.series,aa=arguments,ba=Q(W)?function(fa){var ea="y"===fa&&S.toYData?S.toYData(O):O[fa];S[fa+"Data"][W]=ea}:function(fa){Array.prototype[W].apply(S[fa+"Data"],Array.prototype.slice.call(aa,2))};S.parallelArrays.forEach(ba)};Z.prototype.hasData=function(){return this.visible&&"undefined"!==typeof this.dataMax&&"undefined"!==typeof this.dataMin||
this.visible&&this.yData&&0<this.yData.length};Z.prototype.autoIncrement=function(O){var W=this.options,S=W.pointIntervalUnit,aa=W.relativeXValue,ba=this.chart.time,fa=this.xIncrement,ea;fa=L(fa,W.pointStart,0);this.pointInterval=ea=L(this.pointInterval,W.pointInterval,1);aa&&Q(O)&&(ea*=O);S&&(W=new ba.Date(fa),"day"===S?ba.set("Date",W,ba.get("Date",W)+ea):"month"===S?ba.set("Month",W,ba.get("Month",W)+ea):"year"===S&&ba.set("FullYear",W,ba.get("FullYear",W)+ea),ea=W.getTime()-fa);if(aa&&Q(O))return fa+
ea;this.xIncrement=fa+ea;return fa};Z.prototype.setDataSortingOptions=function(){var O=this.options;E(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1});J(O.pointRange)||(O.pointRange=1)};Z.prototype.setOptions=function(O){var W=this.chart,S=W.options,aa=S.plotOptions,ba=W.userOptions||{};O=T(O);W=W.styledMode;var fa={plotOptions:aa,userOptions:O};D(this,"setOptions",fa);var ea=fa.plotOptions[this.type],ha=ba.plotOptions||{};this.userOptions=fa.userOptions;ba=T(ea,aa.series,ba.plotOptions&&
ba.plotOptions[this.type],O);this.tooltipOptions=T(h.tooltip,h.plotOptions.series&&h.plotOptions.series.tooltip,h.plotOptions[this.type].tooltip,S.tooltip.userOptions,aa.series&&aa.series.tooltip,aa[this.type].tooltip,O.tooltip);this.stickyTracking=L(O.stickyTracking,ha[this.type]&&ha[this.type].stickyTracking,ha.series&&ha.series.stickyTracking,this.tooltipOptions.shared&&!this.noSharedTooltip?!0:ba.stickyTracking);null===ea.marker&&delete ba.marker;this.zoneAxis=ba.zoneAxis;aa=this.zones=(ba.zones||
[]).slice();!ba.negativeColor&&!ba.negativeFillColor||ba.zones||(S={value:ba[this.zoneAxis+"Threshold"]||ba.threshold||0,className:"highcharts-negative"},W||(S.color=ba.negativeColor,S.fillColor=ba.negativeFillColor),aa.push(S));aa.length&&J(aa[aa.length-1].value)&&aa.push(W?{}:{color:this.color,fillColor:this.fillColor});D(this,"afterSetOptions",{options:ba});return ba};Z.prototype.getName=function(){return L(this.options.name,"Series "+(this.index+1))};Z.prototype.getCyclic=function(O,W,S){var aa=
this.chart,ba=this.userOptions,fa=O+"Index",ea=O+"Counter",ha=S?S.length:L(aa.options.chart[O+"Count"],aa[O+"Count"]);if(!W){var ka=L(ba[fa],ba["_"+fa]);J(ka)||(aa.series.length||(aa[ea]=0),ba["_"+fa]=ka=aa[ea]%ha,aa[ea]+=1);S&&(W=S[ka])}"undefined"!==typeof ka&&(this[fa]=ka);this[O]=W};Z.prototype.getColor=function(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||h.plotOptions[this.type].color,this.chart.options.colors)};
Z.prototype.getPointsCollection=function(){return(this.hasGroupedData?this.points:this.data)||[]};Z.prototype.getSymbol=function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)};Z.prototype.findPointIndex=function(O,W){var S=O.id,aa=O.x,ba=this.points,fa=this.options.dataSorting,ea,ha;if(S)fa=this.chart.get(S),fa instanceof p&&(ea=fa);else if(this.linkedParent||this.enabledDataSorting||this.options.relativeXValue)if(ea=function(ra){return!ra.touched&&ra.index===O.index},
fa&&fa.matchByName?ea=function(ra){return!ra.touched&&ra.name===O.name}:this.options.relativeXValue&&(ea=function(ra){return!ra.touched&&ra.options.x===O.x}),ea=v(ba,ea),!ea)return;if(ea){var ka=ea&&ea.index;"undefined"!==typeof ka&&(ha=!0)}"undefined"===typeof ka&&Q(aa)&&(ka=this.xData.indexOf(aa,W));-1!==ka&&"undefined"!==typeof ka&&this.cropped&&(ka=ka>=this.cropStart?ka-this.cropStart:ka);!ha&&Q(ka)&&ba[ka]&&ba[ka].touched&&(ka=void 0);return ka};Z.prototype.updateData=function(O,W){var S=this.options,
aa=S.dataSorting,ba=this.points,fa=[],ea=this.requireSorting,ha=O.length===ba.length,ka,ra,ta,sa=!0;this.xIncrement=null;O.forEach(function(oa,ma){var X=J(oa)&&this.pointClass.prototype.optionsToObject.call({series:this},oa)||{},da=X.x;if(X.id||Q(da)){if(X=this.findPointIndex(X,ta),-1===X||"undefined"===typeof X?fa.push(oa):ba[X]&&oa!==S.data[X]?(ba[X].update(oa,!1,null,!1),ba[X].touched=!0,ea&&(ta=X+1)):ba[X]&&(ba[X].touched=!0),!ha||ma!==X||aa&&aa.enabled||this.hasDerivedData)ka=!0}else fa.push(oa)},
this);if(ka)for(O=ba.length;O--;)(ra=ba[O])&&!ra.touched&&ra.remove&&ra.remove(!1,W);else!ha||aa&&aa.enabled?sa=!1:(O.forEach(function(oa,ma){oa!==ba[ma].y&&ba[ma].update&&ba[ma].update(oa,!1,null,!1)}),fa.length=0);ba.forEach(function(oa){oa&&(oa.touched=!1)});if(!sa)return!1;fa.forEach(function(oa){this.addPoint(oa,!1,null,null,!1)},this);null===this.xIncrement&&this.xData&&this.xData.length&&(this.xIncrement=y(this.xData),this.autoIncrement());return!0};Z.prototype.setData=function(O,W,S,aa){var ba=
this,fa=ba.points,ea=fa&&fa.length||0,ha=ba.options,ka=ba.chart,ra=ha.dataSorting,ta=ba.xAxis,sa=ha.turboThreshold,oa=this.xData,ma=this.yData,X=ba.pointArrayMap;X=X&&X.length;var da=ha.keys,ia,na=0,pa=1,ua=null;O=O||[];var va=O.length;W=L(W,!0);ra&&ra.enabled&&(O=this.sortData(O));!1!==aa&&va&&ea&&!ba.cropped&&!ba.hasGroupedData&&ba.visible&&!ba.isSeriesBoosting&&(ia=this.updateData(O,S));if(!ia){ba.xIncrement=null;ba.colorCounter=0;this.parallelArrays.forEach(function(za){ba[za+"Data"].length=0});
if(sa&&va>sa)if(ua=ba.getFirstValidPoint(O),Q(ua))for(S=0;S<va;S++)oa[S]=this.autoIncrement(),ma[S]=O[S];else if(P(ua))if(X)if(ua.length===X)for(S=0;S<va;S++)oa[S]=this.autoIncrement(),ma[S]=O[S];else for(S=0;S<va;S++)aa=O[S],oa[S]=aa[0],ma[S]=aa.slice(1,X+1);else if(da&&(na=da.indexOf("x"),pa=da.indexOf("y"),na=0<=na?na:0,pa=0<=pa?pa:1),1===ua.length&&(pa=0),na===pa)for(S=0;S<va;S++)oa[S]=this.autoIncrement(),ma[S]=O[S][pa];else for(S=0;S<va;S++)aa=O[S],oa[S]=aa[na],ma[S]=aa[pa];else G(12,!1,ka);
else for(S=0;S<va;S++)"undefined"!==typeof O[S]&&(aa={series:ba},ba.pointClass.prototype.applyOptions.apply(aa,[O[S]]),ba.updateParallelArrays(aa,S));ma&&N(ma[0])&&G(14,!0,ka);ba.data=[];ba.options.data=ba.userOptions.data=O;for(S=ea;S--;)fa[S]&&fa[S].destroy&&fa[S].destroy();ta&&(ta.minRange=ta.userMinRange);ba.isDirty=ka.isDirtyBox=!0;ba.isDirtyData=!!fa;S=!1}"point"===ha.legendType&&(this.processData(),this.generatePoints());W&&ka.redraw(S)};Z.prototype.sortData=function(O){var W=this,S=W.options.dataSorting.sortKey||
"y",aa=function(ba,fa){return J(fa)&&ba.pointClass.prototype.optionsToObject.call({series:ba},fa)||{}};O.forEach(function(ba,fa){O[fa]=aa(W,ba);O[fa].index=fa},this);O.concat().sort(function(ba,fa){ba=K(S,ba);fa=K(S,fa);return fa<ba?-1:fa>ba?1:0}).forEach(function(ba,fa){ba.x=fa},this);W.linkedSeries&&W.linkedSeries.forEach(function(ba){var fa=ba.options,ea=fa.data;fa.dataSorting&&fa.dataSorting.enabled||!ea||(ea.forEach(function(ha,ka){ea[ka]=aa(ba,ha);O[ka]&&(ea[ka].x=O[ka].x,ea[ka].index=ka)}),
ba.setData(ea,!1))});return O};Z.prototype.getProcessedData=function(O){var W=this.xAxis,S=this.options,aa=S.cropThreshold,ba=O||this.getExtremesFromAll||S.getExtremesFromAll,fa=this.isCartesian;O=W&&W.val2lin;S=!(!W||!W.logarithmic);var ea=0,ha=this.xData,ka=this.yData,ra=this.requireSorting,ta=!1,sa=ha.length;if(W){ta=W.getExtremes();var oa=ta.min,ma=ta.max;ta=W.categories&&!W.names.length}if(fa&&this.sorted&&!ba&&(!aa||sa>aa||this.forceCrop))if(ha[sa-1]<oa||ha[0]>ma)ha=[],ka=[];else if(this.yData&&
(ha[0]<oa||ha[sa-1]>ma)){var X=this.cropData(this.xData,this.yData,oa,ma);ha=X.xData;ka=X.yData;ea=X.start;X=!0}for(aa=ha.length||1;--aa;)if(W=S?O(ha[aa])-O(ha[aa-1]):ha[aa]-ha[aa-1],0<W&&("undefined"===typeof da||W<da))var da=W;else 0>W&&ra&&!ta&&(G(15,!1,this.chart),ra=!1);return{xData:ha,yData:ka,cropped:X,cropStart:ea,closestPointRange:da}};Z.prototype.processData=function(O){var W=this.xAxis;if(this.isCartesian&&!this.isDirty&&!W.isDirty&&!this.yAxis.isDirty&&!O)return!1;O=this.getProcessedData();
this.cropped=O.cropped;this.cropStart=O.cropStart;this.processedXData=O.xData;this.processedYData=O.yData;this.closestPointRange=this.basePointRange=O.closestPointRange;D(this,"afterProcessData")};Z.prototype.cropData=function(O,W,S,aa,ba){var fa=O.length,ea,ha=0,ka=fa;ba=L(ba,this.cropShoulder);for(ea=0;ea<fa;ea++)if(O[ea]>=S){ha=Math.max(0,ea-ba);break}for(S=ea;S<fa;S++)if(O[S]>aa){ka=S+ba;break}return{xData:O.slice(ha,ka),yData:W.slice(ha,ka),start:ha,end:ka}};Z.prototype.generatePoints=function(){var O=
this.options,W=O.data,S=this.processedXData,aa=this.processedYData,ba=this.pointClass,fa=S.length,ea=this.cropStart||0,ha=this.hasGroupedData,ka=O.keys,ra=[];O=O.dataGrouping&&O.dataGrouping.groupAll?ea:0;var ta,sa,oa=this.data;if(!oa&&!ha){var ma=[];ma.length=W.length;oa=this.data=ma}ka&&ha&&(this.options.keys=!1);for(sa=0;sa<fa;sa++){ma=ea+sa;if(ha){var X=(new ba).init(this,[S[sa]].concat(U(aa[sa])));X.dataGroup=this.groupMap[O+sa];X.dataGroup.options&&(X.options=X.dataGroup.options,E(X,X.dataGroup.options),
delete X.dataLabels)}else(X=oa[ma])||"undefined"===typeof W[ma]||(oa[ma]=X=(new ba).init(this,W[ma],S[sa]));X&&(X.index=ha?O+sa:ma,ra[sa]=X)}this.options.keys=ka;if(oa&&(fa!==(ta=oa.length)||ha))for(sa=0;sa<ta;sa++)sa!==ea||ha||(sa+=fa),oa[sa]&&(oa[sa].destroyElements(),oa[sa].plotX=void 0);this.data=oa;this.points=ra;D(this,"afterGeneratePoints")};Z.prototype.getXExtremes=function(O){return{min:w(O),max:y(O)}};Z.prototype.getExtremes=function(O,W){var S=this.xAxis,aa=this.yAxis,ba=this.processedXData||
this.xData,fa=[],ea=this.requireSorting?this.cropShoulder:0;aa=aa?aa.positiveValuesOnly:!1;var ha,ka=0,ra=0,ta=0;O=O||this.stackedYData||this.processedYData||[];var sa=O.length;if(S){var oa=S.getExtremes();ka=oa.min;ra=oa.max}for(ha=0;ha<sa;ha++){var ma=ba[ha];oa=O[ha];var X=(Q(oa)||P(oa))&&(oa.length||0<oa||!aa);ma=W||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!S||(ba[ha+ea]||ma)>=ka&&(ba[ha-ea]||ma)<=ra;if(X&&ma)if(X=oa.length)for(;X--;)Q(oa[X])&&(fa[ta++]=oa[X]);else fa[ta++]=
oa}O={activeYData:fa,dataMin:w(fa),dataMax:y(fa)};D(this,"afterGetExtremes",{dataExtremes:O});return O};Z.prototype.applyExtremes=function(){var O=this.getExtremes();this.dataMin=O.dataMin;this.dataMax=O.dataMax;return O};Z.prototype.getFirstValidPoint=function(O){for(var W=O.length,S=0,aa=null;null===aa&&S<W;)aa=O[S],S++;return aa};Z.prototype.translate=function(){this.processedXData||this.processData();this.generatePoints();var O=this.options,W=O.stacking,S=this.xAxis,aa=S.categories,ba=this.enabledDataSorting,
fa=this.yAxis,ea=this.points,ha=ea.length,ka=this.pointPlacementToXValue(),ra=!!ka,ta=O.threshold,sa=O.startFromThreshold?ta:0,oa=this.zoneAxis||"y",ma,X,da=Number.MAX_VALUE;for(ma=0;ma<ha;ma++){var ia=ea[ma],na=ia.x,pa=void 0,ua=void 0,va=ia.y,za=ia.low,Ea=W&&fa.stacking&&fa.stacking.stacks[(this.negStacks&&va<(sa?0:ta)?"-":"")+this.stackKey];if(fa.positiveValuesOnly&&!fa.validatePositiveValue(va)||S.positiveValuesOnly&&!S.validatePositiveValue(na))ia.isNull=!0;ia.plotX=X=C(A(S.translate(na,0,0,
0,1,ka,"flags"===this.type),-1E5,1E5));if(W&&this.visible&&Ea&&Ea[na]){var ya=this.getStackIndicator(ya,na,this.index);ia.isNull||(pa=Ea[na],ua=pa.points[ya.key])}P(ua)&&(za=ua[0],va=ua[1],za===sa&&ya.key===Ea[na].base&&(za=L(Q(ta)&&ta,fa.min)),fa.positiveValuesOnly&&0>=za&&(za=null),ia.total=ia.stackTotal=pa.total,ia.percentage=pa.total&&ia.y/pa.total*100,ia.stackY=va,this.irregularWidths||pa.setOffset(this.pointXOffset||0,this.barW||0));ia.yBottom=J(za)?A(fa.translate(za,0,1,0,1),-1E5,1E5):null;
this.dataModify&&(va=this.dataModify.modifyValue(va,ma));ia.plotY=void 0;Q(va)&&(pa=fa.translate(va,!1,!0,!1,!0),"undefined"!==typeof pa&&(ia.plotY=A(pa,-1E5,1E5)));ia.isInside=this.isPointInside(ia);ia.clientX=ra?C(S.translate(na,0,0,0,1,ka)):X;ia.negative=ia[oa]<(O[oa+"Threshold"]||ta||0);ia.category=aa&&"undefined"!==typeof aa[ia.x]?aa[ia.x]:ia.x;if(!ia.isNull&&!1!==ia.visible){"undefined"!==typeof wa&&(da=Math.min(da,Math.abs(X-wa)));var wa=X}ia.zone=this.zones.length?ia.getZone():void 0;!ia.graphic&&
this.group&&ba&&(ia.isNew=!0)}this.closestPointRangePx=da;D(this,"afterTranslate")};Z.prototype.getValidPoints=function(O,W,S){var aa=this.chart;return(O||this.points||[]).filter(function(ba){return W&&!aa.isInsidePlot(ba.plotX,ba.plotY,{inverted:aa.inverted})?!1:!1!==ba.visible&&(S||!ba.isNull)})};Z.prototype.getClipBox=function(){var O=this.chart,W=this.xAxis,S=this.yAxis,aa=T(O.clipBox);W&&W.len!==O.plotSizeX&&(aa.width=W.len);S&&S.len!==O.plotSizeY&&(aa.height=S.len);return aa};Z.prototype.getSharedClipKey=
function(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0)};Z.prototype.setClip=function(){var O=this.chart,W=this.group,S=this.markerGroup,aa=O.sharedClips;O=O.renderer;var ba=this.getClipBox(),fa=this.getSharedClipKey(),ea=aa[fa];ea?ea.animate(ba):aa[fa]=ea=O.clipRect(ba);W&&W.clip(!1===this.options.clip?void 0:ea);S&&S.clip()};Z.prototype.animate=function(O){var W=this.chart,S=this.group,aa=this.markerGroup,ba=W.inverted,fa=e(this.options.animation),ea=[this.getSharedClipKey(),
fa.duration,fa.easing,fa.defer].join(),ha=W.sharedClips[ea],ka=W.sharedClips[ea+"m"];if(O&&S)fa=this.getClipBox(),ha?ha.attr("height",fa.height):(fa.width=0,ba&&(fa.x=W.plotHeight),ha=W.renderer.clipRect(fa),W.sharedClips[ea]=ha,ka=W.renderer.clipRect({x:ba?(W.plotSizeX||0)+99:-99,y:ba?-W.plotLeft:-W.plotTop,width:99,height:ba?W.chartWidth:W.chartHeight}),W.sharedClips[ea+"m"]=ka),S.clip(ha),aa&&aa.clip(ka);else if(ha&&!ha.hasClass("highcharts-animating")){W=this.getClipBox();var ra=fa.step;aa&&aa.element.childNodes.length&&
(fa.step=function(ta,sa){ra&&ra.apply(sa,arguments);ka&&ka.element&&ka.attr(sa.prop,"width"===sa.prop?ta+99:ta)});ha.addClass("highcharts-animating").animate(W,fa)}};Z.prototype.afterAnimate=function(){var O=this;this.setClip();H(this.chart.sharedClips,function(W,S,aa){W&&!O.chart.container.querySelector('[clip-path\x3d"url(#'+W.id+')"]')&&(W.destroy(),delete aa[S])});this.finishedAnimating=!0;D(this,"afterAnimate")};Z.prototype.drawPoints=function(){var O=this.points,W=this.chart,S=this.options.marker,
aa=this[this.specialGroup]||this.markerGroup,ba=this.xAxis,fa=L(S.enabled,!ba||ba.isRadial?!0:null,this.closestPointRangePx>=S.enabledThreshold*S.radius),ea,ha;if(!1!==S.enabled||this._hasPointMarkers)for(ea=0;ea<O.length;ea++){var ka=O[ea],ra=(ha=ka.graphic)?"animate":"attr",ta=ka.marker||{},sa=!!ka.marker;if((fa&&"undefined"===typeof ta.enabled||ta.enabled)&&!ka.isNull&&!1!==ka.visible){var oa=L(ta.symbol,this.symbol,"rect"),ma=this.markerAttribs(ka,ka.selected&&"select");this.enabledDataSorting&&
(ka.startXPos=ba.reversed?-(ma.width||0):ba.width);var X=!1!==ka.isInside;ha?ha[X?"show":"hide"](X).animate(ma):X&&(0<(ma.width||0)||ka.hasImage)&&(ka.graphic=ha=W.renderer.symbol(oa,ma.x,ma.y,ma.width,ma.height,sa?ta:S).add(aa),this.enabledDataSorting&&W.hasRendered&&(ha.attr({x:ka.startXPos}),ra="animate"));ha&&"animate"===ra&&ha[X?"show":"hide"](X).animate(ma);if(ha&&!W.styledMode)ha[ra](this.pointAttribs(ka,ka.selected&&"select"));ha&&ha.addClass(ka.getClassName(),!0)}else ha&&(ka.graphic=ha.destroy())}};
Z.prototype.markerAttribs=function(O,W){var S=this.options,aa=S.marker,ba=O.marker||{},fa=ba.symbol||aa.symbol,ea=L(ba.radius,aa.radius);W&&(aa=aa.states[W],W=ba.states&&ba.states[W],ea=L(W&&W.radius,aa&&aa.radius,ea+(aa&&aa.radiusPlus||0)));O.hasImage=fa&&0===fa.indexOf("url");O.hasImage&&(ea=0);O={x:S.crisp?Math.floor(O.plotX-ea):O.plotX-ea,y:O.plotY-ea};ea&&(O.width=O.height=2*ea);return O};Z.prototype.pointAttribs=function(O,W){var S=this.options.marker,aa=O&&O.options,ba=aa&&aa.marker||{},fa=
aa&&aa.color,ea=O&&O.color,ha=O&&O.zone&&O.zone.color,ka=this.color;O=L(ba.lineWidth,S.lineWidth);aa=1;ka=fa||ha||ea||ka;fa=ba.fillColor||S.fillColor||ka;ea=ba.lineColor||S.lineColor||ka;W=W||"normal";S=S.states[W]||{};W=ba.states&&ba.states[W]||{};O=L(W.lineWidth,S.lineWidth,O+L(W.lineWidthPlus,S.lineWidthPlus,0));fa=W.fillColor||S.fillColor||fa;ea=W.lineColor||S.lineColor||ea;aa=L(W.opacity,S.opacity,aa);return{stroke:ea,"stroke-width":O,fill:fa,opacity:aa}};Z.prototype.destroy=function(O){var W=
this,S=W.chart,aa=/AppleWebKit\/533/.test(u.navigator.userAgent),ba=W.data||[],fa,ea,ha,ka;D(W,"destroy");this.removeEvents(O);(W.axisTypes||[]).forEach(function(ra){(ka=W[ra])&&ka.series&&(B(ka.series,W),ka.isDirty=ka.forceRedraw=!0)});W.legendItem&&W.chart.legend.destroyItem(W);for(ea=ba.length;ea--;)(ha=ba[ea])&&ha.destroy&&ha.destroy();W.clips&&W.clips.forEach(function(ra){return ra.destroy()});f.clearTimeout(W.animationTimeout);H(W,function(ra,ta){ra instanceof b&&!ra.survive&&(fa=aa&&"group"===
ta?"hide":"destroy",ra[fa]())});S.hoverSeries===W&&(S.hoverSeries=void 0);B(S.series,W);S.orderSeries();H(W,function(ra,ta){O&&"hcEvents"===ta||delete W[ta]})};Z.prototype.applyZones=function(){var O=this,W=this.chart,S=W.renderer,aa=this.zones,ba=this.clips||[],fa=this.graph,ea=this.area,ha=Math.max(W.chartWidth,W.chartHeight),ka=this[(this.zoneAxis||"y")+"Axis"],ra=W.inverted,ta,sa,oa,ma,X,da,ia,na,pa=!1;if(aa.length&&(fa||ea)&&ka&&"undefined"!==typeof ka.min){var ua=ka.reversed,va=ka.horiz;fa&&
!this.showLine&&fa.hide();ea&&ea.hide();var za=ka.getExtremes();aa.forEach(function(Ea,ya){ta=ua?va?W.plotWidth:0:va?0:ka.toPixels(za.min)||0;ta=A(L(sa,ta),0,ha);sa=A(Math.round(ka.toPixels(L(Ea.value,za.max),!0)||0),0,ha);pa&&(ta=sa=ka.toPixels(za.max));ma=Math.abs(ta-sa);X=Math.min(ta,sa);da=Math.max(ta,sa);ka.isXAxis?(oa={x:ra?da:X,y:0,width:ma,height:ha},va||(oa.x=W.plotHeight-oa.x)):(oa={x:0,y:ra?da:X,width:ha,height:ma},va&&(oa.y=W.plotWidth-oa.y));ra&&S.isVML&&(oa=ka.isXAxis?{x:0,y:ua?X:da,
height:oa.width,width:W.chartWidth}:{x:oa.y-W.plotLeft-W.spacingBox.x,y:0,width:oa.height,height:W.chartHeight});ba[ya]?ba[ya].animate(oa):ba[ya]=S.clipRect(oa);ia=O["zone-area-"+ya];na=O["zone-graph-"+ya];fa&&na&&na.clip(ba[ya]);ea&&ia&&ia.clip(ba[ya]);pa=Ea.value>za.max;O.resetZones&&0===sa&&(sa=void 0)});this.clips=ba}else O.visible&&(fa&&fa.show(!0),ea&&ea.show(!0))};Z.prototype.invertGroups=function(O){function W(){["group","markerGroup"].forEach(function(ba){S[ba]&&(aa.renderer.isVML&&S[ba].attr({width:S.yAxis.len,
height:S.xAxis.len}),S[ba].width=S.yAxis.len,S[ba].height=S.xAxis.len,S[ba].invert(S.isRadialSeries?!1:O))})}var S=this,aa=S.chart;S.xAxis&&(S.eventsToUnbind.push(t(aa,"resize",W)),W(),S.invertGroups=W)};Z.prototype.plotGroup=function(O,W,S,aa,ba){var fa=this[O],ea=!fa;S={visibility:S,zIndex:aa||.1};"undefined"===typeof this.opacity||this.chart.styledMode||"inactive"===this.state||(S.opacity=this.opacity);ea&&(this[O]=fa=this.chart.renderer.g().add(ba));fa.addClass("highcharts-"+W+" highcharts-series-"+
this.index+" highcharts-"+this.type+"-series "+(J(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(fa.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0);fa.attr(S)[ea?"attr":"animate"](this.getPlotBox());return fa};Z.prototype.getPlotBox=function(){var O=this.chart,W=this.xAxis,S=this.yAxis;O.inverted&&(W=S,S=this.xAxis);return{translateX:W?W.left:O.plotLeft,translateY:S?S.top:O.plotTop,scaleX:1,scaleY:1}};Z.prototype.removeEvents=function(O){O||
R(this);this.eventsToUnbind.length&&(this.eventsToUnbind.forEach(function(W){W()}),this.eventsToUnbind.length=0)};Z.prototype.render=function(){var O=this,W=O.chart,S=O.options,aa=e(S.animation),ba=O.visible?"inherit":"hidden",fa=S.zIndex,ea=O.hasRendered,ha=W.seriesGroup,ka=W.inverted;W=!O.finishedAnimating&&W.renderer.isSVG?aa.duration:0;D(this,"render");var ra=O.plotGroup("group","series",ba,fa,ha);O.markerGroup=O.plotGroup("markerGroup","markers",ba,fa,ha);!1!==S.clip&&O.setClip();O.animate&&
W&&O.animate(!0);ra.inverted=L(O.invertible,O.isCartesian)?ka:!1;O.drawGraph&&(O.drawGraph(),O.applyZones());O.visible&&O.drawPoints();O.drawDataLabels&&O.drawDataLabels();O.redrawPoints&&O.redrawPoints();O.drawTracker&&!1!==O.options.enableMouseTracking&&O.drawTracker();O.invertGroups(ka);O.animate&&W&&O.animate();ea||(W&&aa.defer&&(W+=aa.defer),O.animationTimeout=V(function(){O.afterAnimate()},W||0));O.isDirty=!1;O.hasRendered=!0;D(O,"afterRender")};Z.prototype.redraw=function(){var O=this.chart,
W=this.isDirty||this.isDirtyData,S=this.group,aa=this.xAxis,ba=this.yAxis;S&&(O.inverted&&S.attr({width:O.plotWidth,height:O.plotHeight}),S.animate({translateX:L(aa&&aa.left,O.plotLeft),translateY:L(ba&&ba.top,O.plotTop)}));this.translate();this.render();W&&delete this.kdTree};Z.prototype.searchPoint=function(O,W){var S=this.xAxis,aa=this.yAxis,ba=this.chart.inverted;return this.searchKDTree({clientX:ba?S.len-O.chartY+S.pos:O.chartX-S.pos,plotY:ba?aa.len-O.chartX+aa.pos:O.chartY-aa.pos},W,O)};Z.prototype.buildKDTree=
function(O){function W(ba,fa,ea){var ha=ba&&ba.length;if(ha){var ka=S.kdAxisArray[fa%ea];ba.sort(function(ra,ta){return ra[ka]-ta[ka]});ha=Math.floor(ha/2);return{point:ba[ha],left:W(ba.slice(0,ha),fa+1,ea),right:W(ba.slice(ha+1),fa+1,ea)}}}this.buildingKdTree=!0;var S=this,aa=-1<S.options.findNearestPointBy.indexOf("y")?2:1;delete S.kdTree;V(function(){S.kdTree=W(S.getValidPoints(null,!S.directTouch),aa,aa);S.buildingKdTree=!1},S.options.kdNow||O&&"touchstart"===O.type?0:1)};Z.prototype.searchKDTree=
function(O,W,S){function aa(ka,ra,ta,sa){var oa=ra.point,ma=ba.kdAxisArray[ta%sa],X=oa,da=J(ka[fa])&&J(oa[fa])?Math.pow(ka[fa]-oa[fa],2):null,ia=J(ka[ea])&&J(oa[ea])?Math.pow(ka[ea]-oa[ea],2):null;ia=(da||0)+(ia||0);oa.dist=J(ia)?Math.sqrt(ia):Number.MAX_VALUE;oa.distX=J(da)?Math.sqrt(da):Number.MAX_VALUE;ma=ka[ma]-oa[ma];ia=0>ma?"left":"right";da=0>ma?"right":"left";ra[ia]&&(ia=aa(ka,ra[ia],ta+1,sa),X=ia[ha]<X[ha]?ia:oa);ra[da]&&Math.sqrt(ma*ma)<X[ha]&&(ka=aa(ka,ra[da],ta+1,sa),X=ka[ha]<X[ha]?ka:
X);return X}var ba=this,fa=this.kdAxisArray[0],ea=this.kdAxisArray[1],ha=W?"distX":"dist";W=-1<ba.options.findNearestPointBy.indexOf("y")?2:1;this.kdTree||this.buildingKdTree||this.buildKDTree(S);if(this.kdTree)return aa(O,this.kdTree,W,W)};Z.prototype.pointPlacementToXValue=function(){var O=this.options,W=O.pointRange,S=this.xAxis;O=O.pointPlacement;"between"===O&&(O=S.reversed?-.5:.5);return Q(O)?O*(W||S.pointRange):0};Z.prototype.isPointInside=function(O){var W=this.chart,S=this.xAxis,aa=this.yAxis;
return"undefined"!==typeof O.plotY&&"undefined"!==typeof O.plotX&&0<=O.plotY&&O.plotY<=(aa?aa.len:W.plotHeight)&&0<=O.plotX&&O.plotX<=(S?S.len:W.plotWidth)};Z.prototype.drawTracker=function(){var O=this,W=O.options,S=W.trackByArea,aa=[].concat(S?O.areaPath:O.graphPath),ba=O.chart,fa=ba.pointer,ea=ba.renderer,ha=ba.options.tooltip.snap,ka=O.tracker,ra=function(sa){if(ba.hoverSeries!==O)O.onMouseOver()},ta="rgba(192,192,192,"+(x?1E-4:.002)+")";ka?ka.attr({d:aa}):O.graph&&(O.tracker=ea.path(aa).attr({visibility:O.visible?
"visible":"hidden",zIndex:2}).addClass(S?"highcharts-tracker-area":"highcharts-tracker-line").add(O.group),ba.styledMode||O.tracker.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:ta,fill:S?ta:"none","stroke-width":O.graph.strokeWidth()+(S?0:2*ha)}),[O.tracker,O.markerGroup,O.dataLabelsGroup].forEach(function(sa){if(sa&&(sa.addClass("highcharts-tracker").on("mouseover",ra).on("mouseout",function(oa){fa.onTrackerMouseOut(oa)}),W.cursor&&!ba.styledMode&&sa.css({cursor:W.cursor}),q))sa.on("touchstart",
ra)}));D(this,"afterDrawTracker")};Z.prototype.addPoint=function(O,W,S,aa,ba){var fa=this.options,ea=this.data,ha=this.chart,ka=this.xAxis;ka=ka&&ka.hasNames&&ka.names;var ra=fa.data,ta=this.xData,sa;W=L(W,!0);var oa={series:this};this.pointClass.prototype.applyOptions.apply(oa,[O]);var ma=oa.x,X=ta.length;if(this.requireSorting&&ma<ta[X-1])for(sa=!0;X&&ta[X-1]>ma;)X--;this.updateParallelArrays(oa,"splice",X,0,0);this.updateParallelArrays(oa,X);ka&&oa.name&&(ka[ma]=oa.name);ra.splice(X,0,O);sa&&(this.data.splice(X,
0,null),this.processData());"point"===fa.legendType&&this.generatePoints();S&&(ea[0]&&ea[0].remove?ea[0].remove(!1):(ea.shift(),this.updateParallelArrays(oa,"shift"),ra.shift()));!1!==ba&&D(this,"addPoint",{point:oa});this.isDirtyData=this.isDirty=!0;W&&ha.redraw(aa)};Z.prototype.removePoint=function(O,W,S){var aa=this,ba=aa.data,fa=ba[O],ea=aa.points,ha=aa.chart,ka=function(){ea&&ea.length===ba.length&&ea.splice(O,1);ba.splice(O,1);aa.options.data.splice(O,1);aa.updateParallelArrays(fa||{series:aa},
"splice",O,1);fa&&fa.destroy();aa.isDirty=!0;aa.isDirtyData=!0;W&&ha.redraw()};k(S,ha);W=L(W,!0);fa?fa.firePointEvent("remove",null,ka):ka()};Z.prototype.remove=function(O,W,S,aa){function ba(){fa.destroy(aa);ea.isDirtyLegend=ea.isDirtyBox=!0;ea.linkSeries();L(O,!0)&&ea.redraw(W)}var fa=this,ea=fa.chart;!1!==S?D(fa,"remove",null,ba):ba()};Z.prototype.update=function(O,W){O=F(O,this.userOptions);D(this,"update",{options:O});var S=this,aa=S.chart,ba=S.userOptions,fa=S.initialType||S.type,ea=aa.options.plotOptions,
ha=r[fa].prototype,ka=S.finishedAnimating&&{animation:!1},ra={},ta,sa=["eventOptions","navigatorSeries","baseSeries"],oa=O.type||ba.type||aa.options.chart.type,ma=!(this.hasDerivedData||oa&&oa!==this.type||"undefined"!==typeof O.pointStart||"undefined"!==typeof O.pointInterval||"undefined"!==typeof O.relativeXValue||S.hasOptionChanged("dataGrouping")||S.hasOptionChanged("pointStart")||S.hasOptionChanged("pointInterval")||S.hasOptionChanged("pointIntervalUnit")||S.hasOptionChanged("keys"));oa=oa||
fa;ma&&(sa.push("data","isDirtyData","points","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","_hasPointLabels","clips","nodes","layout","mapMap","mapData","minY","maxY","minX","maxX"),!1!==O.visible&&sa.push("area","graph"),S.parallelArrays.forEach(function(da){sa.push(da+"Data")}),O.data&&(O.dataSorting&&E(S.options.dataSorting,O.dataSorting),this.setData(O.data,!1)));O=T(ba,ka,{index:"undefined"===typeof ba.index?S.index:ba.index,pointStart:L(ea&&ea.series&&ea.series.pointStart,
ba.pointStart,S.xData[0])},!ma&&{data:S.options.data},O);ma&&O.data&&(O.data=S.options.data);sa=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(sa);sa.forEach(function(da){sa[da]=S[da];delete S[da]});ea=!1;if(r[oa]){if(ea=oa!==S.type,S.remove(!1,!1,!1,!0),ea)if(Object.setPrototypeOf)Object.setPrototypeOf(S,r[oa].prototype);else{ka=Object.hasOwnProperty.call(S,"hcEvents")&&S.hcEvents;for(ta in ha)S[ta]=void 0;E(S,r[oa].prototype);ka?S.hcEvents=ka:delete S.hcEvents}}else G(17,!0,aa,
{missingModuleFor:oa});sa.forEach(function(da){S[da]=sa[da]});S.init(aa,O);if(ma&&this.points){var X=S.options;!1===X.visible?(ra.graphic=1,ra.dataLabel=1):S._hasPointLabels||(O=X.marker,ha=X.dataLabels,!O||!1!==O.enabled&&(ba.marker&&ba.marker.symbol)===O.symbol||(ra.graphic=1),ha&&!1===ha.enabled&&(ra.dataLabel=1));this.points.forEach(function(da){da&&da.series&&(da.resolveColor(),Object.keys(ra).length&&da.destroyElements(ra),!1===X.showInLegend&&da.legendItem&&aa.legend.destroyItem(da))},this)}S.initialType=
fa;aa.linkSeries();ea&&S.linkedSeries.length&&(S.isDirtyData=!0);D(this,"afterUpdate");L(W,!0)&&aa.redraw(ma?void 0:!1)};Z.prototype.setName=function(O){this.name=this.options.name=this.userOptions.name=O;this.chart.isDirtyLegend=!0};Z.prototype.hasOptionChanged=function(O){var W=this.options[O],S=this.chart.options.plotOptions,aa=this.userOptions[O];return aa?W!==aa:W!==L(S&&S[this.type]&&S[this.type][O],S&&S.series&&S.series[O],W)};Z.prototype.onMouseOver=function(){var O=this.chart,W=O.hoverSeries;
O.pointer.setHoverChartIndex();if(W&&W!==this)W.onMouseOut();this.options.events.mouseOver&&D(this,"mouseOver");this.setState("hover");O.hoverSeries=this};Z.prototype.onMouseOut=function(){var O=this.options,W=this.chart,S=W.tooltip,aa=W.hoverPoint;W.hoverSeries=null;if(aa)aa.onMouseOut();this&&O.events.mouseOut&&D(this,"mouseOut");!S||this.stickyTracking||S.shared&&!this.noSharedTooltip||S.hide();W.series.forEach(function(ba){ba.setState("",!0)})};Z.prototype.setState=function(O,W){var S=this,aa=
S.options,ba=S.graph,fa=aa.inactiveOtherPoints,ea=aa.states,ha=L(ea[O||"normal"]&&ea[O||"normal"].animation,S.chart.options.chart.animation),ka=aa.lineWidth,ra=0,ta=aa.opacity;O=O||"";if(S.state!==O&&([S.group,S.markerGroup,S.dataLabelsGroup].forEach(function(sa){sa&&(S.state&&sa.removeClass("highcharts-series-"+S.state),O&&sa.addClass("highcharts-series-"+O))}),S.state=O,!S.chart.styledMode)){if(ea[O]&&!1===ea[O].enabled)return;O&&(ka=ea[O].lineWidth||ka+(ea[O].lineWidthPlus||0),ta=L(ea[O].opacity,
ta));if(ba&&!ba.dashstyle)for(aa={"stroke-width":ka},ba.animate(aa,ha);S["zone-graph-"+ra];)S["zone-graph-"+ra].animate(aa,ha),ra+=1;fa||[S.group,S.markerGroup,S.dataLabelsGroup,S.labelBySeries].forEach(function(sa){sa&&sa.animate({opacity:ta},ha)})}W&&fa&&S.points&&S.setAllPointsToState(O||void 0)};Z.prototype.setAllPointsToState=function(O){this.points.forEach(function(W){W.setState&&W.setState(O)})};Z.prototype.setVisible=function(O,W){var S=this,aa=S.chart,ba=S.legendItem,fa=aa.options.chart.ignoreHiddenSeries,
ea=S.visible,ha=(S.visible=O=S.options.visible=S.userOptions.visible="undefined"===typeof O?!ea:O)?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(function(ka){if(S[ka])S[ka][ha]()});if(aa.hoverSeries===S||(aa.hoverPoint&&aa.hoverPoint.series)===S)S.onMouseOut();ba&&aa.legend.colorizeItem(S,O);S.isDirty=!0;S.options.stacking&&aa.series.forEach(function(ka){ka.options.stacking&&ka.visible&&(ka.isDirty=!0)});S.linkedSeries.forEach(function(ka){ka.setVisible(O,!1)});fa&&
(aa.isDirtyBox=!0);D(S,ha);!1!==W&&aa.redraw()};Z.prototype.show=function(){this.setVisible(!0)};Z.prototype.hide=function(){this.setVisible(!1)};Z.prototype.select=function(O){this.selected=O=this.options.selected="undefined"===typeof O?!this.selected:O;this.checkbox&&(this.checkbox.checked=O);D(this,O?"select":"unselect")};Z.prototype.shouldShowTooltip=function(O,W,S){void 0===S&&(S={});S.series=this;S.visiblePlotOnly=!0;return this.chart.isInsidePlot(O,W,S)};Z.defaultOptions=d;return Z}();E(z.prototype,
{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,cropShoulder:1,directTouch:!1,drawLegendSymbol:c.drawLineMarker,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:p,requireSorting:!0,sorted:!0});a.series=z;"";"";return z});Y(I,"Extensions/ScrollablePlotArea.js",[I["Core/Animation/AnimationUtilities.js"],I["Core/Axis/Axis.js"],I["Core/Chart/Chart.js"],I["Core/Series/Series.js"],I["Core/Renderer/RendererRegistry.js"],I["Core/Utilities.js"]],function(z,m,n,l,
c,p){var d=z.stop,a=p.addEvent,b=p.createElement,f=p.merge,e=p.pick;a(n,"afterSetChartSize",function(k){var h=this.options.chart.scrollablePlotArea,g=h&&h.minWidth;h=h&&h.minHeight;if(!this.renderer.forExport){if(g){if(this.scrollablePixelsX=g=Math.max(0,g-this.chartWidth)){this.scrollablePlotBox=this.renderer.scrollablePlotBox=f(this.plotBox);this.plotBox.width=this.plotWidth+=g;this.inverted?this.clipBox.height+=g:this.clipBox.width+=g;var q={1:{name:"right",value:g}}}}else h&&(this.scrollablePixelsY=
g=Math.max(0,h-this.chartHeight))&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=f(this.plotBox),this.plotBox.height=this.plotHeight+=g,this.inverted?this.clipBox.width+=g:this.clipBox.height+=g,q={2:{name:"bottom",value:g}});q&&!k.skipAxes&&this.axes.forEach(function(x){q[x.side]?x.getPlotLinePath=function(){var u=q[x.side].name,r=this[u];this[u]=r-q[x.side].value;var t=m.prototype.getPlotLinePath.apply(this,arguments);this[u]=r;return t}:(x.setAxisSize(),x.setAxisTranslation())})}});a(n,
"render",function(){this.scrollablePixelsX||this.scrollablePixelsY?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()});n.prototype.setUpScrolling=function(){var k=this,h={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};this.scrollablePixelsX&&(h.overflowX="auto");this.scrollablePixelsY&&(h.overflowY="auto");this.scrollingParent=b("div",{className:"highcharts-scrolling-parent"},{position:"relative"},this.renderTo);this.scrollingContainer=
b("div",{className:"highcharts-scrolling"},h,this.scrollingParent);a(this.scrollingContainer,"scroll",function(){k.pointer&&delete k.pointer.chartPosition});this.innerContainer=b("div",{className:"highcharts-inner-container"},null,this.scrollingContainer);this.innerContainer.appendChild(this.container);this.setUpScrolling=null};n.prototype.moveFixedElements=function(){var k=this.container,h=this.fixedRenderer,g=".highcharts-contextbutton .highcharts-credits .highcharts-legend .highcharts-legend-checkbox .highcharts-navigator-series .highcharts-navigator-xaxis .highcharts-navigator-yaxis .highcharts-navigator .highcharts-reset-zoom .highcharts-drillup-button .highcharts-scrollbar .highcharts-subtitle .highcharts-title".split(" "),
q;this.scrollablePixelsX&&!this.inverted?q=".highcharts-yaxis":this.scrollablePixelsX&&this.inverted?q=".highcharts-xaxis":this.scrollablePixelsY&&!this.inverted?q=".highcharts-xaxis":this.scrollablePixelsY&&this.inverted&&(q=".highcharts-yaxis");q&&g.push(q+":not(.highcharts-radial-axis)",q+"-labels:not(.highcharts-radial-axis-labels)");g.forEach(function(x){[].forEach.call(k.querySelectorAll(x),function(u){(u.namespaceURI===h.SVG_NS?h.box:h.box.parentNode).appendChild(u);u.style.pointerEvents="auto"})})};
n.prototype.applyFixed=function(){var k=!this.fixedDiv,h=this.options.chart,g=h.scrollablePlotArea,q=c.getRendererType();k?(this.fixedDiv=b("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(h.style&&h.style.zIndex||0)+2,top:0},null,!0),this.scrollingContainer&&this.scrollingContainer.parentNode.insertBefore(this.fixedDiv,this.scrollingContainer),this.renderTo.style.overflow="visible",this.fixedRenderer=h=new q(this.fixedDiv,this.chartWidth,this.chartHeight,
this.options.chart.style),this.scrollableMask=h.path().attr({fill:this.options.chart.backgroundColor||"#fff","fill-opacity":e(g.opacity,.85),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),a(this,"afterShowResetZoom",this.moveFixedElements),a(this,"afterDrilldown",this.moveFixedElements),a(this,"afterLayOutTitles",this.moveFixedElements)):this.fixedRenderer.setSize(this.chartWidth,this.chartHeight);if(this.scrollableDirty||k)this.scrollableDirty=!1,this.moveFixedElements();h=this.chartWidth+
(this.scrollablePixelsX||0);q=this.chartHeight+(this.scrollablePixelsY||0);d(this.container);this.container.style.width=h+"px";this.container.style.height=q+"px";this.renderer.boxWrapper.attr({width:h,height:q,viewBox:[0,0,h,q].join(" ")});this.chartBackground.attr({width:h,height:q});this.scrollingContainer.style.height=this.chartHeight+"px";k&&(g.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixelsX*g.scrollPositionX),g.scrollPositionY&&(this.scrollingContainer.scrollTop=this.scrollablePixelsY*
g.scrollPositionY));q=this.axisOffset;k=this.plotTop-q[0]-1;g=this.plotLeft-q[3]-1;h=this.plotTop+this.plotHeight+q[2]+1;q=this.plotLeft+this.plotWidth+q[1]+1;var x=this.plotLeft+this.plotWidth-(this.scrollablePixelsX||0),u=this.plotTop+this.plotHeight-(this.scrollablePixelsY||0);k=this.scrollablePixelsX?[["M",0,k],["L",this.plotLeft-1,k],["L",this.plotLeft-1,h],["L",0,h],["Z"],["M",x,k],["L",this.chartWidth,k],["L",this.chartWidth,h],["L",x,h],["Z"]]:this.scrollablePixelsY?[["M",g,0],["L",g,this.plotTop-
1],["L",q,this.plotTop-1],["L",q,0],["Z"],["M",g,u],["L",g,this.chartHeight],["L",q,this.chartHeight],["L",q,u],["Z"]]:[["M",0,0]];"adjustHeight"!==this.redrawTrigger&&this.scrollableMask.attr({d:k})};a(m,"afterInit",function(){this.chart.scrollableDirty=!0});a(l,"show",function(){this.chart.scrollableDirty=!0});""});Y(I,"Core/Axis/StackingAxis.js",[I["Core/Animation/AnimationUtilities.js"],I["Core/Axis/Axis.js"],I["Core/Utilities.js"]],function(z,m,n){var l=z.getDeferredAnimation,c=n.addEvent,p=
n.destroyObjectProperties,d=n.fireEvent,a=n.isNumber,b=n.objectEach,f;(function(e){function k(){var x=this.stacking;if(x){var u=x.stacks;b(u,function(r,t){p(r);u[t]=null});x&&x.stackTotalGroup&&x.stackTotalGroup.destroy()}}function h(){this.stacking||(this.stacking=new q(this))}var g=[];e.compose=function(x){-1===g.indexOf(x)&&(g.push(x),c(x,"init",h),c(x,"destroy",k));return x};var q=function(){function x(u){this.oldStacks={};this.stacks={};this.stacksTouched=0;this.axis=u}x.prototype.buildStacks=
function(){var u=this.axis,r=u.series,t=u.options.reversedStacks,y=r.length,w;if(!u.isXAxis){this.usePercentage=!1;for(w=y;w--;){var A=r[t?w:y-w-1];A.setStackedPoints();A.setGroupedPoints()}for(w=0;w<y;w++)r[w].modifyStacks();d(u,"afterBuildStacks")}};x.prototype.cleanStacks=function(){if(!this.axis.isXAxis){if(this.oldStacks)var u=this.stacks=this.oldStacks;b(u,function(r){b(r,function(t){t.cumulative=t.total})})}};x.prototype.resetStacks=function(){var u=this,r=u.stacks;u.axis.isXAxis||b(r,function(t){b(t,
function(y,w){a(y.touched)&&y.touched<u.stacksTouched?(y.destroy(),delete t[w]):(y.total=null,y.cumulative=null)})})};x.prototype.renderStackTotals=function(){var u=this.axis,r=u.chart,t=r.renderer,y=this.stacks;u=l(r,u.options.stackLabels&&u.options.stackLabels.animation||!1);var w=this.stackTotalGroup=this.stackTotalGroup||t.g("stack-labels").attr({visibility:"visible",zIndex:6,opacity:0}).add();w.translate(r.plotLeft,r.plotTop);b(y,function(A){b(A,function(F){F.render(w)})});w.animate({opacity:1},
u)};return x}();e.Additions=q})(f||(f={}));return f});Y(I,"Extensions/Stacking.js",[I["Core/Axis/Axis.js"],I["Core/Chart/Chart.js"],I["Core/FormatUtilities.js"],I["Core/Globals.js"],I["Core/Series/Series.js"],I["Core/Axis/StackingAxis.js"],I["Core/Utilities.js"]],function(z,m,n,l,c,p,d){var a=n.format,b=d.correctFloat,f=d.defined,e=d.destroyObjectProperties,k=d.isArray,h=d.isNumber,g=d.objectEach,q=d.pick,x=function(){function u(r,t,y,w,A){var F=r.chart.inverted;this.axis=r;this.isNegative=y;this.options=
t=t||{};this.x=w;this.total=null;this.points={};this.hasValidPoints=!1;this.stack=A;this.rightCliff=this.leftCliff=0;this.alignOptions={align:t.align||(F?y?"left":"right":"center"),verticalAlign:t.verticalAlign||(F?"middle":y?"bottom":"top"),y:t.y,x:t.x};this.textAlign=t.textAlign||(F?y?"right":"left":"center")}u.prototype.destroy=function(){e(this,this.axis)};u.prototype.render=function(r){var t=this.axis.chart,y=this.options,w=y.format;w=w?a(w,this,t):y.formatter.call(this);this.label?this.label.attr({text:w,
visibility:"hidden"}):(this.label=t.renderer.label(w,null,null,y.shape,null,null,y.useHTML,!1,"stack-labels"),w={r:y.borderRadius||0,text:w,rotation:y.rotation,padding:q(y.padding,5),visibility:"hidden"},t.styledMode||(w.fill=y.backgroundColor,w.stroke=y.borderColor,w["stroke-width"]=y.borderWidth,this.label.css(y.style)),this.label.attr(w),this.label.added||this.label.add(r));this.label.labelrank=t.plotSizeY};u.prototype.setOffset=function(r,t,y,w,A){var F=this.axis,C=F.chart;w=F.translate(F.stacking.usePercentage?
100:w?w:this.total,0,0,0,1);y=F.translate(y?y:0);y=f(w)&&Math.abs(w-y);r=q(A,C.xAxis[0].translate(this.x))+r;F=f(w)&&this.getStackBox(C,this,r,w,t,y,F);t=this.label;y=this.isNegative;r="justify"===q(this.options.overflow,"justify");var J=this.textAlign;t&&F&&(A=t.getBBox(),w=t.padding,J="left"===J?C.inverted?-w:w:"right"===J?A.width:C.inverted&&"center"===J?A.width/2:C.inverted?y?A.width+w:-w:A.width/2,y=C.inverted?A.height/2:y?-w:A.height,this.alignOptions.x=q(this.options.x,0),this.alignOptions.y=
q(this.options.y,0),F.x-=J,F.y-=y,t.align(this.alignOptions,null,F),C.isInsidePlot(t.alignAttr.x+J-this.alignOptions.x,t.alignAttr.y+y-this.alignOptions.y)?t.show():(t.alignAttr.y=-9999,r=!1),r&&c.prototype.justifyDataLabel.call(this.axis,t,this.alignOptions,t.alignAttr,A,F),t.attr({x:t.alignAttr.x,y:t.alignAttr.y}),q(!r&&this.options.crop,!0)&&(h(t.x)&&h(t.y)&&C.isInsidePlot(t.x-w+t.width,t.y)&&C.isInsidePlot(t.x+w,t.y)||t.hide()))};u.prototype.getStackBox=function(r,t,y,w,A,F,C){var J=t.axis.reversed,
B=r.inverted,G=C.height+C.pos-(B?r.plotLeft:r.plotTop);t=t.isNegative&&!J||!t.isNegative&&J;return{x:B?t?w-C.right:w-F+C.pos-r.plotLeft:y+r.xAxis[0].transB-r.plotLeft,y:B?C.height-y-A:t?G-w-F:G-w,width:B?F:A,height:B?A:F}};return u}();m.prototype.getStacks=function(){var u=this,r=u.inverted;u.yAxis.forEach(function(t){t.stacking&&t.stacking.stacks&&t.hasVisibleSeries&&(t.stacking.oldStacks=t.stacking.stacks)});u.series.forEach(function(t){var y=t.xAxis&&t.xAxis.options||{};!t.options.stacking||!0!==
t.visible&&!1!==u.options.chart.ignoreHiddenSeries||(t.stackKey=[t.type,q(t.options.stack,""),r?y.top:y.left,r?y.height:y.width].join())})};p.compose(z);c.prototype.setGroupedPoints=function(){var u=this.yAxis.stacking;this.options.centerInCategory&&(this.is("column")||this.is("columnrange"))&&!this.options.stacking&&1<this.chart.series.length?c.prototype.setStackedPoints.call(this,"group"):u&&g(u.stacks,function(r,t){"group"===t.slice(-5)&&(g(r,function(y){return y.destroy()}),delete u.stacks[t])})};
c.prototype.setStackedPoints=function(u){var r=u||this.options.stacking;if(r&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var t=this.processedXData,y=this.processedYData,w=[],A=y.length,F=this.options,C=F.threshold,J=q(F.startFromThreshold&&C,0);F=F.stack;u=u?this.type+","+r:this.stackKey;var B="-"+u,G=this.negStacks,E=this.yAxis,v=E.stacking.stacks,D=E.stacking.oldStacks,K,P;E.stacking.stacksTouched+=1;for(P=0;P<A;P++){var Q=t[P],N=y[P],T=this.getStackIndicator(T,Q,this.index),
H=T.key,L=(K=G&&N<(J?0:C))?B:u;v[L]||(v[L]={});v[L][Q]||(D[L]&&D[L][Q]?(v[L][Q]=D[L][Q],v[L][Q].total=null):v[L][Q]=new x(E,E.options.stackLabels,K,Q,F));L=v[L][Q];null!==N?(L.points[H]=L.points[this.index]=[q(L.cumulative,J)],f(L.cumulative)||(L.base=H),L.touched=E.stacking.stacksTouched,0<T.index&&!1===this.singleStacks&&(L.points[H][0]=L.points[this.index+","+Q+",0"][0])):L.points[H]=L.points[this.index]=null;"percent"===r?(K=K?u:B,G&&v[K]&&v[K][Q]?(K=v[K][Q],L.total=K.total=Math.max(K.total,L.total)+
Math.abs(N)||0):L.total=b(L.total+(Math.abs(N)||0))):"group"===r?(k(N)&&(N=N[0]),null!==N&&(L.total=(L.total||0)+1)):L.total=b(L.total+(N||0));L.cumulative="group"===r?(L.total||1)-1:q(L.cumulative,J)+(N||0);null!==N&&(L.points[H].push(L.cumulative),w[P]=L.cumulative,L.hasValidPoints=!0)}"percent"===r&&(E.stacking.usePercentage=!0);"group"!==r&&(this.stackedYData=w);E.stacking.oldStacks={}}};c.prototype.modifyStacks=function(){var u=this,r=u.stackKey,t=u.yAxis.stacking.stacks,y=u.processedXData,w,
A=u.options.stacking;u[A+"Stacker"]&&[r,"-"+r].forEach(function(F){for(var C=y.length,J,B;C--;)if(J=y[C],w=u.getStackIndicator(w,J,u.index,F),B=(J=t[F]&&t[F][J])&&J.points[w.key])u[A+"Stacker"](B,J,C)})};c.prototype.percentStacker=function(u,r,t){r=r.total?100/r.total:0;u[0]=b(u[0]*r);u[1]=b(u[1]*r);this.stackedYData[t]=u[1]};c.prototype.getStackIndicator=function(u,r,t,y){!f(u)||u.x!==r||y&&u.key!==y?u={x:r,index:0,key:y}:u.index++;u.key=[t,r,u.index].join();return u};l.StackItem=x;"";return l.StackItem});
Y(I,"Series/Line/LineSeries.js",[I["Core/Series/Series.js"],I["Core/Series/SeriesRegistry.js"],I["Core/Utilities.js"]],function(z,m,n){var l=this&&this.__extends||function(){var d=function(a,b){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,e){f.__proto__=e}||function(f,e){for(var k in e)e.hasOwnProperty(k)&&(f[k]=e[k])};return d(a,b)};return function(a,b){function f(){this.constructor=a}d(a,b);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f)}}(),c=n.defined,
p=n.merge;n=function(d){function a(){var b=null!==d&&d.apply(this,arguments)||this;b.data=void 0;b.options=void 0;b.points=void 0;return b}l(a,d);a.prototype.drawGraph=function(){var b=this,f=this.options,e=(this.gappedPath||this.getGraphPath).call(this),k=this.chart.styledMode,h=[["graph","highcharts-graph"]];k||h[0].push(f.lineColor||this.color||"#cccccc",f.dashStyle);h=b.getZonesGraphs(h);h.forEach(function(g,q){var x=g[0],u=b[x],r=u?"animate":"attr";u?(u.endX=b.preventGraphAnimation?null:e.xMap,
u.animate({d:e})):e.length&&(b[x]=u=b.chart.renderer.path(e).addClass(g[1]).attr({zIndex:1}).add(b.group));u&&!k&&(x={stroke:g[2],"stroke-width":f.lineWidth,fill:b.fillGraph&&b.color||"none"},g[3]?x.dashstyle=g[3]:"square"!==f.linecap&&(x["stroke-linecap"]=x["stroke-linejoin"]="round"),u[r](x).shadow(2>q&&f.shadow));u&&(u.startX=e.xMap,u.isArea=e.isArea)})};a.prototype.getGraphPath=function(b,f,e){var k=this,h=k.options,g=[],q=[],x,u=h.step;b=b||k.points;var r=b.reversed;r&&b.reverse();(u={right:1,
center:2}[u]||u&&3)&&r&&(u=4-u);b=this.getValidPoints(b,!1,!(h.connectNulls&&!f&&!e));b.forEach(function(t,y){var w=t.plotX,A=t.plotY,F=b[y-1];(t.leftCliff||F&&F.rightCliff)&&!e&&(x=!0);t.isNull&&!c(f)&&0<y?x=!h.connectNulls:t.isNull&&!f?x=!0:(0===y||x?y=[["M",t.plotX,t.plotY]]:k.getPointSpline?y=[k.getPointSpline(b,t,y)]:u?(y=1===u?[["L",F.plotX,A]]:2===u?[["L",(F.plotX+w)/2,F.plotY],["L",(F.plotX+w)/2,A]]:[["L",w,F.plotY]],y.push(["L",w,A])):y=[["L",w,A]],q.push(t.x),u&&(q.push(t.x),2===u&&q.push(t.x)),
g.push.apply(g,y),x=!1)});g.xMap=q;return k.graphPath=g};a.prototype.getZonesGraphs=function(b){this.zones.forEach(function(f,e){e=["zone-graph-"+e,"highcharts-graph highcharts-zone-graph-"+e+" "+(f.className||"")];this.chart.styledMode||e.push(f.color||this.color,f.dashStyle||this.options.dashStyle);b.push(e)},this);return b};a.defaultOptions=p(z.defaultOptions,{});return a}(z);m.registerSeriesType("line",n);"";return n});Y(I,"Series/Area/AreaSeries.js",[I["Core/Color/Color.js"],I["Core/Legend/LegendSymbol.js"],
I["Core/Series/SeriesRegistry.js"],I["Core/Utilities.js"]],function(z,m,n,l){var c=this&&this.__extends||function(){var e=function(k,h){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,q){g.__proto__=q}||function(g,q){for(var x in q)q.hasOwnProperty(x)&&(g[x]=q[x])};return e(k,h)};return function(k,h){function g(){this.constructor=k}e(k,h);k.prototype=null===h?Object.create(h):(g.prototype=h.prototype,new g)}}(),p=z.parse,d=n.seriesTypes.line;z=l.extend;var a=l.merge,b=l.objectEach,
f=l.pick;l=function(e){function k(){var h=null!==e&&e.apply(this,arguments)||this;h.data=void 0;h.options=void 0;h.points=void 0;return h}c(k,e);k.prototype.drawGraph=function(){this.areaPath=[];e.prototype.drawGraph.apply(this);var h=this,g=this.areaPath,q=this.options,x=[["area","highcharts-area",this.color,q.fillColor]];this.zones.forEach(function(u,r){x.push(["zone-area-"+r,"highcharts-area highcharts-zone-area-"+r+" "+u.className,u.color||h.color,u.fillColor||q.fillColor])});x.forEach(function(u){var r=
u[0],t=h[r],y=t?"animate":"attr",w={};t?(t.endX=h.preventGraphAnimation?null:g.xMap,t.animate({d:g})):(w.zIndex=0,t=h[r]=h.chart.renderer.path(g).addClass(u[1]).add(h.group),t.isArea=!0);h.chart.styledMode||(w.fill=f(u[3],p(u[2]).setOpacity(f(q.fillOpacity,.75)).get()));t[y](w);t.startX=g.xMap;t.shiftUnit=q.step?2:1})};k.prototype.getGraphPath=function(h){var g=d.prototype.getGraphPath,q=this.options,x=q.stacking,u=this.yAxis,r,t=[],y=[],w=this.index,A=u.stacking.stacks[this.stackKey],F=q.threshold,
C=Math.round(u.getThreshold(q.threshold));q=f(q.connectNulls,"percent"===x);var J=function(v,D,K){var P=h[v];v=x&&A[P.x].points[w];var Q=P[K+"Null"]||0;K=P[K+"Cliff"]||0;P=!0;if(K||Q){var N=(Q?v[0]:v[1])+K,T=v[0]+K;P=!!Q}else!x&&h[D]&&h[D].isNull&&(N=T=F);"undefined"!==typeof N&&(y.push({plotX:G,plotY:null===N?C:u.getThreshold(N),isNull:P,isCliff:!0}),t.push({plotX:G,plotY:null===T?C:u.getThreshold(T),doCurve:!1}))};h=h||this.points;x&&(h=this.getStackPoints(h));for(r=0;r<h.length;r++){x||(h[r].leftCliff=
h[r].rightCliff=h[r].leftNull=h[r].rightNull=void 0);var B=h[r].isNull,G=f(h[r].rectPlotX,h[r].plotX),E=x?f(h[r].yBottom,C):C;if(!B||q)q||J(r,r-1,"left"),B&&!x&&q||(y.push(h[r]),t.push({x:r,plotX:G,plotY:E})),q||J(r,r+1,"right")}r=g.call(this,y,!0,!0);t.reversed=!0;B=g.call(this,t,!0,!0);(E=B[0])&&"M"===E[0]&&(B[0]=["L",E[1],E[2]]);B=r.concat(B);B.length&&B.push(["Z"]);g=g.call(this,y,!1,q);B.xMap=r.xMap;this.areaPath=B;return g};k.prototype.getStackPoints=function(h){var g=this,q=[],x=[],u=this.xAxis,
r=this.yAxis,t=r.stacking.stacks[this.stackKey],y={},w=r.series,A=w.length,F=r.options.reversedStacks?1:-1,C=w.indexOf(g);h=h||this.points;if(this.options.stacking){for(var J=0;J<h.length;J++)h[J].leftNull=h[J].rightNull=void 0,y[h[J].x]=h[J];b(t,function(G,E){null!==G.total&&x.push(E)});x.sort(function(G,E){return G-E});var B=w.map(function(G){return G.visible});x.forEach(function(G,E){var v=0,D,K;if(y[G]&&!y[G].isNull)q.push(y[G]),[-1,1].forEach(function(Q){var N=1===Q?"rightNull":"leftNull",T=
0,H=t[x[E+Q]];if(H)for(var L=C;0<=L&&L<A;){var R=w[L].index;(D=H.points[R])||(R===g.index?y[G][N]=!0:B[L]&&(K=t[G].points[R])&&(T-=K[1]-K[0]));L+=F}y[G][1===Q?"rightCliff":"leftCliff"]=T});else{for(var P=C;0<=P&&P<A;){if(D=t[G].points[w[P].index]){v=D[1];break}P+=F}v=f(v,0);v=r.translate(v,0,1,0,1);q.push({isNull:!0,plotX:u.translate(G,0,0,0,1),x:G,plotY:v,yBottom:v})}})}return q};k.defaultOptions=a(d.defaultOptions,{threshold:0});return k}(d);z(l.prototype,{singleStacks:!1,drawLegendSymbol:m.drawRectangle});
n.registerSeriesType("area",l);"";return l});Y(I,"Series/Spline/SplineSeries.js",[I["Core/Series/SeriesRegistry.js"],I["Core/Utilities.js"]],function(z,m){var n=this&&this.__extends||function(){var d=function(a,b){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,e){f.__proto__=e}||function(f,e){for(var k in e)e.hasOwnProperty(k)&&(f[k]=e[k])};return d(a,b)};return function(a,b){function f(){this.constructor=a}d(a,b);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,
new f)}}(),l=z.seriesTypes.line,c=m.merge,p=m.pick;m=function(d){function a(){var b=null!==d&&d.apply(this,arguments)||this;b.data=void 0;b.options=void 0;b.points=void 0;return b}n(a,d);a.prototype.getPointSpline=function(b,f,e){var k=f.plotX||0,h=f.plotY||0,g=b[e-1];e=b[e+1];if(g&&!g.isNull&&!1!==g.doCurve&&!f.isCliff&&e&&!e.isNull&&!1!==e.doCurve&&!f.isCliff){b=g.plotY||0;var q=e.plotX||0;e=e.plotY||0;var x=0,u=(1.5*k+(g.plotX||0))/2.5,r=(1.5*h+b)/2.5;q=(1.5*k+q)/2.5;var t=(1.5*h+e)/2.5;q!==u&&
(x=(t-r)*(q-k)/(q-u)+h-t);r+=x;t+=x;r>b&&r>h?(r=Math.max(b,h),t=2*h-r):r<b&&r<h&&(r=Math.min(b,h),t=2*h-r);t>e&&t>h?(t=Math.max(e,h),r=2*h-t):t<e&&t<h&&(t=Math.min(e,h),r=2*h-t);f.rightContX=q;f.rightContY=t}f=["C",p(g.rightContX,g.plotX,0),p(g.rightContY,g.plotY,0),p(u,k,0),p(r,h,0),k,h];g.rightContX=g.rightContY=void 0;return f};a.defaultOptions=c(l.defaultOptions);return a}(l);z.registerSeriesType("spline",m);"";return m});Y(I,"Series/AreaSpline/AreaSplineSeries.js",[I["Series/Area/AreaSeries.js"],
I["Series/Spline/SplineSeries.js"],I["Core/Legend/LegendSymbol.js"],I["Core/Series/SeriesRegistry.js"],I["Core/Utilities.js"]],function(z,m,n,l,c){var p=this&&this.__extends||function(){var f=function(e,k){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,g){h.__proto__=g}||function(h,g){for(var q in g)g.hasOwnProperty(q)&&(h[q]=g[q])};return f(e,k)};return function(e,k){function h(){this.constructor=e}f(e,k);e.prototype=null===k?Object.create(k):(h.prototype=k.prototype,new h)}}(),
d=z.prototype,a=c.extend,b=c.merge;c=function(f){function e(){var k=null!==f&&f.apply(this,arguments)||this;k.data=void 0;k.points=void 0;k.options=void 0;return k}p(e,f);e.defaultOptions=b(m.defaultOptions,z.defaultOptions);return e}(m);a(c.prototype,{getGraphPath:d.getGraphPath,getStackPoints:d.getStackPoints,drawGraph:d.drawGraph,drawLegendSymbol:n.drawRectangle});l.registerSeriesType("areaspline",c);"";return c});Y(I,"Series/Column/ColumnSeries.js",[I["Core/Animation/AnimationUtilities.js"],I["Core/Color/Color.js"],
I["Core/Globals.js"],I["Core/Legend/LegendSymbol.js"],I["Core/Series/Series.js"],I["Core/Series/SeriesRegistry.js"],I["Core/Utilities.js"]],function(z,m,n,l,c,p,d){var a=this&&this.__extends||function(){var A=function(F,C){A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,B){J.__proto__=B}||function(J,B){for(var G in B)B.hasOwnProperty(G)&&(J[G]=B[G])};return A(F,C)};return function(F,C){function J(){this.constructor=F}A(F,C);F.prototype=null===C?Object.create(C):(J.prototype=C.prototype,
new J)}}(),b=z.animObject,f=m.parse,e=n.hasTouch;z=n.noop;var k=d.clamp,h=d.css,g=d.defined,q=d.extend,x=d.fireEvent,u=d.isArray,r=d.isNumber,t=d.merge,y=d.pick,w=d.objectEach;d=function(A){function F(){var C=null!==A&&A.apply(this,arguments)||this;C.borderWidth=void 0;C.data=void 0;C.group=void 0;C.options=void 0;C.points=void 0;return C}a(F,A);F.prototype.animate=function(C){var J=this,B=this.yAxis,G=J.options,E=this.chart.inverted,v={},D=E?"translateX":"translateY";if(C)v.scaleY=.001,C=k(B.toPixels(G.threshold),
B.pos,B.pos+B.len),E?v.translateX=C-B.len:v.translateY=C,J.clipBox&&J.setClip(),J.group.attr(v);else{var K=Number(J.group.attr(D));J.group.animate({scaleY:1},q(b(J.options.animation),{step:function(P,Q){J.group&&(v[D]=K+Q.pos*(B.pos-K),J.group.attr(v))}}))}};F.prototype.init=function(C,J){A.prototype.init.apply(this,arguments);var B=this;C=B.chart;C.hasRendered&&C.series.forEach(function(G){G.type===B.type&&(G.isDirty=!0)})};F.prototype.getColumnMetrics=function(){var C=this,J=C.options,B=C.xAxis,
G=C.yAxis,E=B.options.reversedStacks;E=B.reversed&&!E||!B.reversed&&E;var v={},D,K=0;!1===J.grouping?K=1:C.chart.series.forEach(function(T){var H=T.yAxis,L=T.options;if(T.type===C.type&&(T.visible||!C.chart.options.chart.ignoreHiddenSeries)&&G.len===H.len&&G.pos===H.pos){if(L.stacking&&"group"!==L.stacking){D=T.stackKey;"undefined"===typeof v[D]&&(v[D]=K++);var R=v[D]}else!1!==L.grouping&&(R=K++);T.columnIndex=R}});var P=Math.min(Math.abs(B.transA)*(B.ordinal&&B.ordinal.slope||J.pointRange||B.closestPointRange||
B.tickInterval||1),B.len),Q=P*J.groupPadding,N=(P-2*Q)/(K||1);J=Math.min(J.maxPointWidth||B.len,y(J.pointWidth,N*(1-2*J.pointPadding)));C.columnMetrics={width:J,offset:(N-J)/2+(Q+((C.columnIndex||0)+(E?1:0))*N-P/2)*(E?-1:1),paddedWidth:N,columnCount:K};return C.columnMetrics};F.prototype.crispCol=function(C,J,B,G){var E=this.chart,v=this.borderWidth,D=-(v%2?.5:0);v=v%2?.5:1;E.inverted&&E.renderer.isVML&&(v+=1);this.options.crisp&&(B=Math.round(C+B)+D,C=Math.round(C)+D,B-=C);G=Math.round(J+G)+v;D=
.5>=Math.abs(J)&&.5<G;J=Math.round(J)+v;G-=J;D&&G&&(--J,G+=1);return{x:C,y:J,width:B,height:G}};F.prototype.adjustForMissingColumns=function(C,J,B,G){var E=this,v=this.options.stacking;if(!B.isNull&&1<G.columnCount){var D=0,K=0;w(this.yAxis.stacking&&this.yAxis.stacking.stacks,function(P){if("number"===typeof B.x&&(P=P[B.x.toString()])){var Q=P.points[E.index],N=P.total;v?(Q&&(D=K),P.hasValidPoints&&K++):u(Q)&&(D=Q[1],K=N||0)}});C=(B.plotX||0)+((K-1)*G.paddedWidth+J)/2-J-D*G.paddedWidth}return C};
F.prototype.translate=function(){var C=this,J=C.chart,B=C.options,G=C.dense=2>C.closestPointRange*C.xAxis.transA;G=C.borderWidth=y(B.borderWidth,G?0:1);var E=C.xAxis,v=C.yAxis,D=B.threshold,K=C.translatedThreshold=v.getThreshold(D),P=y(B.minPointLength,5),Q=C.getColumnMetrics(),N=Q.width,T=C.pointXOffset=Q.offset,H=C.dataMin,L=C.dataMax,R=C.barW=Math.max(N,1+2*G);J.inverted&&(K-=.5);B.pointPadding&&(R=Math.ceil(R));c.prototype.translate.apply(C);C.points.forEach(function(U){var V=y(U.yBottom,K),Z=
999+Math.abs(V),O=U.plotX||0;Z=k(U.plotY,-Z,v.len+Z);var W=Math.min(Z,V),S=Math.max(Z,V)-W,aa=N,ba=O+T,fa=R;P&&Math.abs(S)<P&&(S=P,O=!v.reversed&&!U.negative||v.reversed&&U.negative,r(D)&&r(L)&&U.y===D&&L<=D&&(v.min||0)<D&&(H!==L||(v.max||0)<=D)&&(O=!O),W=Math.abs(W-K)>P?V-P:K-(O?P:0));g(U.options.pointWidth)&&(aa=fa=Math.ceil(U.options.pointWidth),ba-=Math.round((aa-N)/2));B.centerInCategory&&(ba=C.adjustForMissingColumns(ba,aa,U,Q));U.barX=ba;U.pointWidth=aa;U.tooltipPos=J.inverted?[k(v.len+v.pos-
J.plotLeft-Z,v.pos-J.plotLeft,v.len+v.pos-J.plotLeft),E.len+E.pos-J.plotTop-ba-fa/2,S]:[E.left-J.plotLeft+ba+fa/2,k(Z+v.pos-J.plotTop,v.pos-J.plotTop,v.len+v.pos-J.plotTop),S];U.shapeType=C.pointClass.prototype.shapeType||"rect";U.shapeArgs=C.crispCol.apply(C,U.isNull?[ba,K,fa,0]:[ba,W,fa,S])})};F.prototype.drawGraph=function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")};F.prototype.pointAttribs=function(C,J){var B=this.options,G=this.pointAttrToOptions||{},E=G.stroke||
"borderColor",v=G["stroke-width"]||"borderWidth",D=C&&C.color||this.color,K=C&&C[E]||B[E]||D;G=C&&C.options.dashStyle||B.dashStyle;var P=C&&C[v]||B[v]||this[v]||0,Q=y(C&&C.opacity,B.opacity,1);if(C&&this.zones.length){var N=C.getZone();D=C.options.color||N&&(N.color||C.nonZonedColor)||this.color;N&&(K=N.borderColor||K,G=N.dashStyle||G,P=N.borderWidth||P)}J&&C&&(C=t(B.states[J],C.options.states&&C.options.states[J]||{}),J=C.brightness,D=C.color||"undefined"!==typeof J&&f(D).brighten(C.brightness).get()||
D,K=C[E]||K,P=C[v]||P,G=C.dashStyle||G,Q=y(C.opacity,Q));E={fill:D,stroke:K,"stroke-width":P,opacity:Q};G&&(E.dashstyle=G);return E};F.prototype.drawPoints=function(){var C=this,J=this.chart,B=C.options,G=J.renderer,E=B.animationLimit||250,v;C.points.forEach(function(D){var K=D.graphic,P=!!K,Q=K&&J.pointCount<E?"animate":"attr";if(r(D.plotY)&&null!==D.y){v=D.shapeArgs;K&&D.hasNewShapeType()&&(K=K.destroy());C.enabledDataSorting&&(D.startXPos=C.xAxis.reversed?-(v?v.width||0:0):C.xAxis.width);K||(D.graphic=
K=G[D.shapeType](v).add(D.group||C.group))&&C.enabledDataSorting&&J.hasRendered&&J.pointCount<E&&(K.attr({x:D.startXPos}),P=!0,Q="animate");if(K&&P)K[Q](t(v));if(B.borderRadius)K[Q]({r:B.borderRadius});J.styledMode||K[Q](C.pointAttribs(D,D.selected&&"select")).shadow(!1!==D.allowShadow&&B.shadow,null,B.stacking&&!B.borderRadius);K&&(K.addClass(D.getClassName(),!0),K.attr({visibility:D.visible?"inherit":"hidden"}))}else K&&(D.graphic=K.destroy())})};F.prototype.drawTracker=function(){var C=this,J=
C.chart,B=J.pointer,G=function(v){var D=B.getPointFromEvent(v);"undefined"!==typeof D&&(B.isDirectTouch=!0,D.onMouseOver(v))},E;C.points.forEach(function(v){E=u(v.dataLabels)?v.dataLabels:v.dataLabel?[v.dataLabel]:[];v.graphic&&(v.graphic.element.point=v);E.forEach(function(D){D.div?D.div.point=v:D.element.point=v})});C._hasTracking||(C.trackerGroups.forEach(function(v){if(C[v]){C[v].addClass("highcharts-tracker").on("mouseover",G).on("mouseout",function(D){B.onTrackerMouseOut(D)});if(e)C[v].on("touchstart",
G);!J.styledMode&&C.options.cursor&&C[v].css(h).css({cursor:C.options.cursor})}}),C._hasTracking=!0);x(this,"afterDrawTracker")};F.prototype.remove=function(){var C=this,J=C.chart;J.hasRendered&&J.series.forEach(function(B){B.type===C.type&&(B.isDirty=!0)});c.prototype.remove.apply(C,arguments)};F.defaultOptions=t(c.defaultOptions,{borderRadius:0,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},
select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"});return F}(c);q(d.prototype,{cropShoulder:0,directTouch:!0,drawLegendSymbol:l.drawRectangle,getSymbol:z,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]});p.registerSeriesType("column",d);"";"";return d});Y(I,"Core/Series/DataLabel.js",[I["Core/Animation/AnimationUtilities.js"],I["Core/FormatUtilities.js"],
I["Core/Utilities.js"]],function(z,m,n){var l=z.getDeferredAnimation,c=m.format,p=n.defined,d=n.extend,a=n.fireEvent,b=n.isArray,f=n.merge,e=n.objectEach,k=n.pick,h=n.splat,g;(function(q){function x(F,C,J,B,G){var E=this,v=this.chart,D=this.isCartesian&&v.inverted,K=this.enabledDataSorting,P=k(F.dlBox&&F.dlBox.centerX,F.plotX,-9999),Q=k(F.plotY,-9999),N=C.getBBox(),T=J.rotation,H=J.align,L=v.isInsidePlot(P,Math.round(Q),{inverted:D,paneCoordinates:!0,series:E}),R=function(O){K&&E.xAxis&&!U&&E.setDataLabelStartPos(F,
C,G,L,O)},U="justify"===k(J.overflow,K?"none":"justify"),V=this.visible&&!1!==F.visible&&(F.series.forceDL||K&&!U||L||k(J.inside,!!this.options.stacking)&&B&&v.isInsidePlot(P,D?B.x+1:B.y+B.height-1,{inverted:D,paneCoordinates:!0,series:E}));if(V){var Z=v.renderer.fontMetrics(v.styledMode?void 0:J.style.fontSize,C).b;B=d({x:D?this.yAxis.len-Q:P,y:Math.round(D?this.xAxis.len-P:Q),width:0,height:0},B);d(J,{width:N.width,height:N.height});T?(U=!1,P=v.renderer.rotCorr(Z,T),P={x:B.x+(J.x||0)+B.width/2+
P.x,y:B.y+(J.y||0)+{top:0,middle:.5,bottom:1}[J.verticalAlign]*B.height},R(P),C[G?"attr":"animate"](P).attr({align:H}),R=(T+720)%360,R=180<R&&360>R,"left"===H?P.y-=R?N.height:0:"center"===H?(P.x-=N.width/2,P.y-=N.height/2):"right"===H&&(P.x-=N.width,P.y-=R?0:N.height),C.placed=!0,C.alignAttr=P):(R(B),C.align(J,void 0,B),P=C.alignAttr);U&&0<=B.height?this.justifyDataLabel(C,J,P,N,B,G):k(J.crop,!0)&&(V=v.isInsidePlot(P.x,P.y,{paneCoordinates:!0,series:E})&&v.isInsidePlot(P.x+N.width,P.y+N.height,{paneCoordinates:!0,
series:E}));if(J.shape&&!T)C[G?"attr":"animate"]({anchorX:D?v.plotWidth-F.plotY:F.plotX,anchorY:D?v.plotHeight-F.plotX:F.plotY})}G&&K&&(C.placed=!1);V||K&&!U||(C.hide(!0),C.placed=!1)}function u(F,C){var J=C.filter;return J?(C=J.operator,F=F[J.property],J=J.value,"\x3e"===C&&F>J||"\x3c"===C&&F<J||"\x3e\x3d"===C&&F>=J||"\x3c\x3d"===C&&F<=J||"\x3d\x3d"===C&&F==J||"\x3d\x3d\x3d"===C&&F===J?!0:!1):!0}function r(){var F=this,C=F.chart,J=F.options,B=F.points,G=F.hasRendered||0,E=C.renderer,v=J.dataLabels,
D,K=v.animation;K=v.defer?l(C,K,F):{defer:0,duration:0};v=y(y(C.options.plotOptions&&C.options.plotOptions.series&&C.options.plotOptions.series.dataLabels,C.options.plotOptions&&C.options.plotOptions[F.type]&&C.options.plotOptions[F.type].dataLabels),v);a(this,"drawDataLabels");if(b(v)||v.enabled||F._hasPointLabels){var P=F.plotGroup("dataLabelsGroup","data-labels",G?"inherit":"hidden",v.zIndex||6);P.attr({opacity:+G});!G&&(G=F.dataLabelsGroup)&&(F.visible&&P.show(!0),G[J.animation?"animate":"attr"]({opacity:1},
K));B.forEach(function(Q){D=h(y(v,Q.dlOptions||Q.options&&Q.options.dataLabels));D.forEach(function(N,T){var H=N.enabled&&(!Q.isNull||Q.dataLabelOnNull)&&u(Q,N),L=Q.connectors?Q.connectors[T]:Q.connector,R=Q.dataLabels?Q.dataLabels[T]:Q.dataLabel,U=k(N.distance,Q.labelDistance),V=!R;if(H){var Z=Q.getLabelConfig(),O=k(N[Q.formatPrefix+"Format"],N.format);Z=p(O)?c(O,Z,C):(N[Q.formatPrefix+"Formatter"]||N.formatter).call(Z,N);O=N.style;var W=N.rotation;C.styledMode||(O.color=k(N.color,O.color,F.color,
"#000000"),"contrast"===O.color?(Q.contrastColor=E.getContrast(Q.color||F.color),O.color=!p(U)&&N.inside||0>U||J.stacking?Q.contrastColor:"#000000"):delete Q.contrastColor,J.cursor&&(O.cursor=J.cursor));var S={r:N.borderRadius||0,rotation:W,padding:N.padding,zIndex:1};C.styledMode||(S.fill=N.backgroundColor,S.stroke=N.borderColor,S["stroke-width"]=N.borderWidth);e(S,function(aa,ba){"undefined"===typeof aa&&delete S[ba]})}!R||H&&p(Z)?H&&p(Z)&&(R?S.text=Z:(Q.dataLabels=Q.dataLabels||[],R=Q.dataLabels[T]=
W?E.text(Z,0,-9999,N.useHTML).addClass("highcharts-data-label"):E.label(Z,0,-9999,N.shape,null,null,N.useHTML,null,"data-label"),T||(Q.dataLabel=R),R.addClass(" highcharts-data-label-color-"+Q.colorIndex+" "+(N.className||"")+(N.useHTML?" highcharts-tracker":""))),R.options=N,R.attr(S),C.styledMode||R.css(O).shadow(N.shadow),R.added||R.add(P),N.textPath&&!N.useHTML&&(R.setTextPath(Q.getDataLabelPath&&Q.getDataLabelPath(R)||Q.graphic,N.textPath),Q.dataLabelPath&&!N.textPath.enabled&&(Q.dataLabelPath=
Q.dataLabelPath.destroy())),F.alignDataLabel(Q,R,N,null,V)):(Q.dataLabel=Q.dataLabel&&Q.dataLabel.destroy(),Q.dataLabels&&(1===Q.dataLabels.length?delete Q.dataLabels:delete Q.dataLabels[T]),T||delete Q.dataLabel,L&&(Q.connector=Q.connector.destroy(),Q.connectors&&(1===Q.connectors.length?delete Q.connectors:delete Q.connectors[T])))})})}a(this,"afterDrawDataLabels")}function t(F,C,J,B,G,E){var v=this.chart,D=C.align,K=C.verticalAlign,P=F.box?0:F.padding||0,Q=C.x;Q=void 0===Q?0:Q;var N=C.y;N=void 0===
N?0:N;var T=(J.x||0)+P;if(0>T){"right"===D&&0<=Q?(C.align="left",C.inside=!0):Q-=T;var H=!0}T=(J.x||0)+B.width-P;T>v.plotWidth&&("left"===D&&0>=Q?(C.align="right",C.inside=!0):Q+=v.plotWidth-T,H=!0);T=J.y+P;0>T&&("bottom"===K&&0<=N?(C.verticalAlign="top",C.inside=!0):N-=T,H=!0);T=(J.y||0)+B.height-P;T>v.plotHeight&&("top"===K&&0>=N?(C.verticalAlign="bottom",C.inside=!0):N+=v.plotHeight-T,H=!0);H&&(C.x=Q,C.y=N,F.placed=!E,F.align(C,void 0,G));return H}function y(F,C){var J=[],B;if(b(F)&&!b(C))J=F.map(function(G){return f(G,
C)});else if(b(C)&&!b(F))J=C.map(function(G){return f(F,G)});else if(b(F)||b(C))for(B=Math.max(F.length,C.length);B--;)J[B]=f(F[B],C[B]);else J=f(F,C);return J}function w(F,C,J,B,G){var E=this.chart,v=E.inverted,D=this.xAxis,K=D.reversed,P=v?C.height/2:C.width/2;F=(F=F.pointWidth)?F/2:0;C.startXPos=v?G.x:K?-P-F:D.width-P+F;C.startYPos=v?K?this.yAxis.height-P+F:-P-F:G.y;B?"hidden"===C.visibility&&(C.show(),C.attr({opacity:0}).animate({opacity:1})):C.attr({opacity:1}).animate({opacity:0},void 0,C.hide);
E.hasRendered&&(J&&C.attr({x:C.startXPos,y:C.startYPos}),C.placed=!0)}var A=[];q.compose=function(F){if(-1===A.indexOf(F)){var C=F.prototype;A.push(F);C.alignDataLabel=x;C.drawDataLabels=r;C.justifyDataLabel=t;C.setDataLabelStartPos=w}}})(g||(g={}));"";return g});Y(I,"Series/Column/ColumnDataLabel.js",[I["Core/Series/DataLabel.js"],I["Core/Series/SeriesRegistry.js"],I["Core/Utilities.js"]],function(z,m,n){var l=m.series,c=n.merge,p=n.pick,d;(function(a){function b(e,k,h,g,q){var x=this.chart.inverted,
u=e.series,r=(u.xAxis?u.xAxis.len:this.chart.plotSizeX)||0;u=(u.yAxis?u.yAxis.len:this.chart.plotSizeY)||0;var t=e.dlBox||e.shapeArgs,y=p(e.below,e.plotY>p(this.translatedThreshold,u)),w=p(h.inside,!!this.options.stacking);t&&(g=c(t),0>g.y&&(g.height+=g.y,g.y=0),t=g.y+g.height-u,0<t&&t<g.height&&(g.height-=t),x&&(g={x:u-g.y-g.height,y:r-g.x-g.width,width:g.height,height:g.width}),w||(x?(g.x+=y?0:g.width,g.width=0):(g.y+=y?g.height:0,g.height=0)));h.align=p(h.align,!x||w?"center":y?"right":"left");
h.verticalAlign=p(h.verticalAlign,x||w?"middle":y?"top":"bottom");l.prototype.alignDataLabel.call(this,e,k,h,g,q);h.inside&&e.contrastColor&&k.css({color:e.contrastColor})}var f=[];a.compose=function(e){z.compose(l);-1===f.indexOf(e)&&(f.push(e),e.prototype.alignDataLabel=b)}})(d||(d={}));return d});Y(I,"Series/Bar/BarSeries.js",[I["Series/Column/ColumnSeries.js"],I["Core/Series/SeriesRegistry.js"],I["Core/Utilities.js"]],function(z,m,n){var l=this&&this.__extends||function(){var d=function(a,b){d=
Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,e){f.__proto__=e}||function(f,e){for(var k in e)e.hasOwnProperty(k)&&(f[k]=e[k])};return d(a,b)};return function(a,b){function f(){this.constructor=a}d(a,b);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f)}}(),c=n.extend,p=n.merge;n=function(d){function a(){var b=null!==d&&d.apply(this,arguments)||this;b.data=void 0;b.options=void 0;b.points=void 0;return b}l(a,d);a.defaultOptions=p(z.defaultOptions,{});return a}(z);
c(n.prototype,{inverted:!0});m.registerSeriesType("bar",n);"";return n});Y(I,"Series/Scatter/ScatterSeries.js",[I["Series/Column/ColumnSeries.js"],I["Series/Line/LineSeries.js"],I["Core/Series/SeriesRegistry.js"],I["Core/Utilities.js"]],function(z,m,n,l){var c=this&&this.__extends||function(){var b=function(f,e){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,h){k.__proto__=h}||function(k,h){for(var g in h)h.hasOwnProperty(g)&&(k[g]=h[g])};return b(f,e)};return function(f,e){function k(){this.constructor=
f}b(f,e);f.prototype=null===e?Object.create(e):(k.prototype=e.prototype,new k)}}(),p=l.addEvent,d=l.extend,a=l.merge;l=function(b){function f(){var e=null!==b&&b.apply(this,arguments)||this;e.data=void 0;e.options=void 0;e.points=void 0;return e}c(f,b);f.prototype.applyJitter=function(){var e=this,k=this.options.jitter,h=this.points.length;k&&this.points.forEach(function(g,q){["x","y"].forEach(function(x,u){var r="plot"+x.toUpperCase();if(k[x]&&!g.isNull){var t=e[x+"Axis"],y=k[x]*t.transA;if(t&&!t.isLog){var w=
Math.max(0,g[r]-y);t=Math.min(t.len,g[r]+y);u=1E4*Math.sin(q+u*h);g[r]=w+(t-w)*(u-Math.floor(u));"x"===x&&(g.clientX=g.plotX)}}})})};f.prototype.drawGraph=function(){this.options.lineWidth?b.prototype.drawGraph.call(this):this.graph&&(this.graph=this.graph.destroy())};f.defaultOptions=a(m.defaultOptions,{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'\x3cspan style\x3d"color:{point.color}"\x3e\u25cf\x3c/span\x3e \x3cspan style\x3d"font-size: 10px"\x3e {series.name}\x3c/span\x3e\x3cbr/\x3e',
pointFormat:"x: \x3cb\x3e{point.x}\x3c/b\x3e\x3cbr/\x3ey: \x3cb\x3e{point.y}\x3c/b\x3e\x3cbr/\x3e"}});return f}(m);d(l.prototype,{drawTracker:z.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1});p(l,"afterTranslate",function(){this.applyJitter()});n.registerSeriesType("scatter",l);"";return l});Y(I,"Series/CenteredUtilities.js",[I["Core/Globals.js"],I["Core/Series/Series.js"],I["Core/Utilities.js"]],
function(z,m,n){var l=z.deg2rad,c=n.isNumber,p=n.pick,d=n.relativeLength,a;(function(b){b.getCenter=function(){var f=this.options,e=this.chart,k=2*(f.slicedOffset||0),h=e.plotWidth-2*k,g=e.plotHeight-2*k,q=f.center,x=Math.min(h,g),u=f.size,r=f.innerSize||0;"string"===typeof u&&(u=parseFloat(u));"string"===typeof r&&(r=parseFloat(r));f=[p(q[0],"50%"),p(q[1],"50%"),p(u&&0>u?void 0:f.size,"100%"),p(r&&0>r?void 0:f.innerSize||0,"0%")];!e.angular||this instanceof m||(f[3]=0);for(q=0;4>q;++q)u=f[q],e=2>
q||2===q&&/%$/.test(u),f[q]=d(u,[h,g,x,f[2]][q])+(e?k:0);f[3]>f[2]&&(f[3]=f[2]);return f};b.getStartAndEndRadians=function(f,e){f=c(f)?f:0;e=c(e)&&e>f&&360>e-f?e:f+360;return{start:l*(f+-90),end:l*(e+-90)}}})(a||(a={}));"";return a});Y(I,"Series/Pie/PiePoint.js",[I["Core/Animation/AnimationUtilities.js"],I["Core/Series/Point.js"],I["Core/Utilities.js"]],function(z,m,n){var l=this&&this.__extends||function(){var e=function(k,h){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,q){g.__proto__=
q}||function(g,q){for(var x in q)q.hasOwnProperty(x)&&(g[x]=q[x])};return e(k,h)};return function(k,h){function g(){this.constructor=k}e(k,h);k.prototype=null===h?Object.create(h):(g.prototype=h.prototype,new g)}}(),c=z.setAnimation,p=n.addEvent,d=n.defined;z=n.extend;var a=n.isNumber,b=n.pick,f=n.relativeLength;m=function(e){function k(){var h=null!==e&&e.apply(this,arguments)||this;h.labelDistance=void 0;h.options=void 0;h.series=void 0;return h}l(k,e);k.prototype.getConnectorPath=function(){var h=
this.labelPosition,g=this.series.options.dataLabels,q=this.connectorShapes,x=g.connectorShape;q[x]&&(x=q[x]);return x.call(this,{x:h.final.x,y:h.final.y,alignment:h.alignment},h.connectorPosition,g)};k.prototype.getTranslate=function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}};k.prototype.haloPath=function(h){var g=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(g.x,g.y,g.r+h,g.r+h,{innerR:g.r-1,start:g.start,end:g.end})};k.prototype.init=
function(){var h=this;e.prototype.init.apply(this,arguments);this.name=b(this.name,"Slice");var g=function(q){h.slice("select"===q.type)};p(this,"select",g);p(this,"unselect",g);return this};k.prototype.isValid=function(){return a(this.y)&&0<=this.y};k.prototype.setVisible=function(h,g){var q=this,x=this.series,u=x.chart,r=x.options.ignoreHiddenPoint;g=b(g,r);h!==this.visible&&(this.visible=this.options.visible=h="undefined"===typeof h?!this.visible:h,x.options.data[x.data.indexOf(this)]=this.options,
["graphic","dataLabel","connector","shadowGroup"].forEach(function(t){if(q[t])q[t][h?"show":"hide"](h)}),this.legendItem&&u.legend.colorizeItem(this,h),h||"hover"!==this.state||this.setState(""),r&&(x.isDirty=!0),g&&u.redraw())};k.prototype.slice=function(h,g,q){var x=this.series;c(q,x.chart);b(g,!0);this.sliced=this.options.sliced=d(h)?h:!this.sliced;x.options.data[x.data.indexOf(this)]=this.options;this.graphic&&this.graphic.animate(this.getTranslate());this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())};
return k}(m);z(m.prototype,{connectorShapes:{fixedOffset:function(e,k,h){var g=k.breakAt;k=k.touchingSliceAt;return[["M",e.x,e.y],h.softConnector?["C",e.x+("left"===e.alignment?-5:5),e.y,2*g.x-k.x,2*g.y-k.y,g.x,g.y]:["L",g.x,g.y],["L",k.x,k.y]]},straight:function(e,k){k=k.touchingSliceAt;return[["M",e.x,e.y],["L",k.x,k.y]]},crookedLine:function(e,k,h){k=k.touchingSliceAt;var g=this.series,q=g.center[0],x=g.chart.plotWidth,u=g.chart.plotLeft;g=e.alignment;var r=this.shapeArgs.r;h=f(h.crookDistance,
1);x="left"===g?q+r+(x+u-q-r)*(1-h):u+(q-r)*h;h=["L",x,e.y];q=!0;if("left"===g?x>e.x||x<k.x:x<e.x||x>k.x)q=!1;e=[["M",e.x,e.y]];q&&e.push(h);e.push(["L",k.x,k.y]);return e}}});return m});Y(I,"Series/Pie/PieSeries.js",[I["Series/CenteredUtilities.js"],I["Series/Column/ColumnSeries.js"],I["Core/Globals.js"],I["Core/Legend/LegendSymbol.js"],I["Series/Pie/PiePoint.js"],I["Core/Series/Series.js"],I["Core/Series/SeriesRegistry.js"],I["Core/Renderer/SVG/Symbols.js"],I["Core/Utilities.js"]],function(z,m,
n,l,c,p,d,a,b){var f=this&&this.__extends||function(){var r=function(t,y){r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,A){w.__proto__=A}||function(w,A){for(var F in A)A.hasOwnProperty(F)&&(w[F]=A[F])};return r(t,y)};return function(t,y){function w(){this.constructor=t}r(t,y);t.prototype=null===y?Object.create(y):(w.prototype=y.prototype,new w)}}(),e=z.getStartAndEndRadians;n=n.noop;var k=b.clamp,h=b.extend,g=b.fireEvent,q=b.merge,x=b.pick,u=b.relativeLength;b=function(r){function t(){var y=
null!==r&&r.apply(this,arguments)||this;y.center=void 0;y.data=void 0;y.maxLabelDistance=void 0;y.options=void 0;y.points=void 0;return y}f(t,r);t.prototype.animate=function(y){var w=this,A=w.points,F=w.startAngleRad;y||A.forEach(function(C){var J=C.graphic,B=C.shapeArgs;J&&B&&(J.attr({r:x(C.startR,w.center&&w.center[3]/2),start:F,end:F}),J.animate({r:B.r,start:B.start,end:B.end},w.options.animation))})};t.prototype.drawEmpty=function(){var y=this.startAngleRad,w=this.endAngleRad,A=this.options;if(0===
this.total&&this.center){var F=this.center[0],C=this.center[1];this.graph||(this.graph=this.chart.renderer.arc(F,C,this.center[1]/2,0,y,w).addClass("highcharts-empty-series").add(this.group));this.graph.attr({d:a.arc(F,C,this.center[2]/2,0,{start:y,end:w,innerR:this.center[3]/2})});this.chart.styledMode||this.graph.attr({"stroke-width":A.borderWidth,fill:A.fillColor||"none",stroke:A.color||"#cccccc"})}else this.graph&&(this.graph=this.graph.destroy())};t.prototype.drawPoints=function(){var y=this.chart.renderer;
this.points.forEach(function(w){w.graphic&&w.hasNewShapeType()&&(w.graphic=w.graphic.destroy());w.graphic||(w.graphic=y[w.shapeType](w.shapeArgs).add(w.series.group),w.delayedRendering=!0)})};t.prototype.generatePoints=function(){r.prototype.generatePoints.call(this);this.updateTotals()};t.prototype.getX=function(y,w,A){var F=this.center,C=this.radii?this.radii[A.index]||0:F[2]/2;y=Math.asin(k((y-F[1])/(C+A.labelDistance),-1,1));return F[0]+(w?-1:1)*Math.cos(y)*(C+A.labelDistance)+(0<A.labelDistance?
(w?-1:1)*this.options.dataLabels.padding:0)};t.prototype.hasData=function(){return!!this.processedXData.length};t.prototype.redrawPoints=function(){var y=this,w=y.chart,A=w.renderer,F=y.options.shadow,C,J,B,G;this.drawEmpty();!F||y.shadowGroup||w.styledMode||(y.shadowGroup=A.g("shadow").attr({zIndex:-1}).add(y.group));y.points.forEach(function(E){var v={};J=E.graphic;if(!E.isNull&&J){var D=void 0;G=E.shapeArgs;C=E.getTranslate();w.styledMode||(D=E.shadowGroup,F&&!D&&(D=E.shadowGroup=A.g("shadow").add(y.shadowGroup)),
D&&D.attr(C),B=y.pointAttribs(E,E.selected&&"select"));E.delayedRendering?(J.setRadialReference(y.center).attr(G).attr(C),w.styledMode||J.attr(B).attr({"stroke-linejoin":"round"}).shadow(F,D),E.delayedRendering=!1):(J.setRadialReference(y.center),w.styledMode||q(!0,v,B),q(!0,v,G,C),J.animate(v));J.attr({visibility:E.visible?"inherit":"hidden"});J.addClass(E.getClassName(),!0)}else J&&(E.graphic=J.destroy())})};t.prototype.sortByAngle=function(y,w){y.sort(function(A,F){return"undefined"!==typeof A.angle&&
(F.angle-A.angle)*w})};t.prototype.translate=function(y){this.generatePoints();var w=this.options,A=w.slicedOffset,F=A+(w.borderWidth||0),C=e(w.startAngle,w.endAngle),J=this.startAngleRad=C.start;C=(this.endAngleRad=C.end)-J;var B=this.points,G=w.dataLabels.distance;w=w.ignoreHiddenPoint;var E=B.length,v,D=0;y||(this.center=y=this.getCenter());for(v=0;v<E;v++){var K=B[v],P=J+D*C;!K.isValid()||w&&!K.visible||(D+=K.percentage/100);var Q=J+D*C,N={x:y[0],y:y[1],r:y[2]/2,innerR:y[3]/2,start:Math.round(1E3*
P)/1E3,end:Math.round(1E3*Q)/1E3};K.shapeType="arc";K.shapeArgs=N;K.labelDistance=x(K.options.dataLabels&&K.options.dataLabels.distance,G);K.labelDistance=u(K.labelDistance,N.r);this.maxLabelDistance=Math.max(this.maxLabelDistance||0,K.labelDistance);Q=(Q+P)/2;Q>1.5*Math.PI?Q-=2*Math.PI:Q<-Math.PI/2&&(Q+=2*Math.PI);K.slicedTranslation={translateX:Math.round(Math.cos(Q)*A),translateY:Math.round(Math.sin(Q)*A)};N=Math.cos(Q)*y[2]/2;var T=Math.sin(Q)*y[2]/2;K.tooltipPos=[y[0]+.7*N,y[1]+.7*T];K.half=
Q<-Math.PI/2||Q>Math.PI/2?1:0;K.angle=Q;P=Math.min(F,K.labelDistance/5);K.labelPosition={natural:{x:y[0]+N+Math.cos(Q)*K.labelDistance,y:y[1]+T+Math.sin(Q)*K.labelDistance},"final":{},alignment:0>K.labelDistance?"center":K.half?"right":"left",connectorPosition:{breakAt:{x:y[0]+N+Math.cos(Q)*P,y:y[1]+T+Math.sin(Q)*P},touchingSliceAt:{x:y[0]+N,y:y[1]+T}}}}g(this,"afterTranslate")};t.prototype.updateTotals=function(){var y=this.points,w=y.length,A=this.options.ignoreHiddenPoint,F,C=0;for(F=0;F<w;F++){var J=
y[F];!J.isValid()||A&&!J.visible||(C+=J.y)}this.total=C;for(F=0;F<w;F++)J=y[F],J.percentage=0<C&&(J.visible||!A)?J.y/C*100:0,J.total=C};t.defaultOptions=q(p.defaultOptions,{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,connectorPadding:5,connectorShape:"fixedOffset",crookDistance:"70%",distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",
marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}});return t}(p);h(b.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawLegendSymbol:l.drawRectangle,drawTracker:m.prototype.drawTracker,getCenter:z.getCenter,getSymbol:n,isCartesian:!1,noSharedTooltip:!0,pointAttribs:m.prototype.pointAttribs,pointClass:c,requireSorting:!1,searchPoint:n,trackerGroups:["group",
"dataLabelsGroup"]});d.registerSeriesType("pie",b);"";return b});Y(I,"Series/Pie/PieDataLabel.js",[I["Core/Series/DataLabel.js"],I["Core/Globals.js"],I["Core/Renderer/RendererUtilities.js"],I["Core/Series/SeriesRegistry.js"],I["Core/Utilities.js"]],function(z,m,n,l,c){var p=m.noop,d=n.distribute,a=l.series,b=c.arrayMax,f=c.clamp,e=c.defined,k=c.merge,h=c.pick,g=c.relativeLength,q;(function(x){function u(){var A=this,F=A.data,C=A.chart,J=A.options.dataLabels||{},B=J.connectorPadding,G=C.plotWidth,
E=C.plotHeight,v=C.plotLeft,D=Math.round(C.chartWidth/3),K=A.center,P=K[2]/2,Q=K[1],N=[[],[]],T=[0,0,0,0],H=A.dataLabelPositioners,L,R,U,V,Z,O,W,S,aa,ba,fa,ea;A.visible&&(J.enabled||A._hasPointLabels)&&(F.forEach(function(ha){ha.dataLabel&&ha.visible&&ha.dataLabel.shortened&&(ha.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),ha.dataLabel.shortened=!1)}),a.prototype.drawDataLabels.apply(A),F.forEach(function(ha){ha.dataLabel&&(ha.visible?(N[ha.half].push(ha),ha.dataLabel._pos=
null,!e(J.style.width)&&!e(ha.options.dataLabels&&ha.options.dataLabels.style&&ha.options.dataLabels.style.width)&&ha.dataLabel.getBBox().width>D&&(ha.dataLabel.css({width:Math.round(.7*D)+"px"}),ha.dataLabel.shortened=!0)):(ha.dataLabel=ha.dataLabel.destroy(),ha.dataLabels&&1===ha.dataLabels.length&&delete ha.dataLabels))}),N.forEach(function(ha,ka){var ra=ha.length,ta=[],sa;if(ra){A.sortByAngle(ha,ka-.5);if(0<A.maxLabelDistance){var oa=Math.max(0,Q-P-A.maxLabelDistance),ma=Math.min(Q+P+A.maxLabelDistance,
C.plotHeight);ha.forEach(function(X){0<X.labelDistance&&X.dataLabel&&(X.top=Math.max(0,Q-P-X.labelDistance),X.bottom=Math.min(Q+P+X.labelDistance,C.plotHeight),sa=X.dataLabel.getBBox().height||21,X.distributeBox={target:X.labelPosition.natural.y-X.top+sa/2,size:sa,rank:X.y},ta.push(X.distributeBox))});oa=ma+sa-oa;d(ta,oa,oa/5)}for(fa=0;fa<ra;fa++){L=ha[fa];O=L.labelPosition;V=L.dataLabel;ba=!1===L.visible?"hidden":"inherit";aa=oa=O.natural.y;ta&&e(L.distributeBox)&&("undefined"===typeof L.distributeBox.pos?
ba="hidden":(W=L.distributeBox.size,aa=H.radialDistributionY(L)));delete L.positionIndex;if(J.justify)S=H.justify(L,P,K);else switch(J.alignTo){case "connectors":S=H.alignToConnectors(ha,ka,G,v);break;case "plotEdges":S=H.alignToPlotEdges(V,ka,G,v);break;default:S=H.radialDistributionX(A,L,aa,oa)}V._attr={visibility:ba,align:O.alignment};ea=L.options.dataLabels||{};V._pos={x:S+h(ea.x,J.x)+({left:B,right:-B}[O.alignment]||0),y:aa+h(ea.y,J.y)-10};O.final.x=S;O.final.y=aa;h(J.crop,!0)&&(Z=V.getBBox().width,
oa=null,S-Z<B&&1===ka?(oa=Math.round(Z-S+B),T[3]=Math.max(oa,T[3])):S+Z>G-B&&0===ka&&(oa=Math.round(S+Z-G+B),T[1]=Math.max(oa,T[1])),0>aa-W/2?T[0]=Math.max(Math.round(-aa+W/2),T[0]):aa+W/2>E&&(T[2]=Math.max(Math.round(aa+W/2-E),T[2])),V.sideOverflow=oa)}}}),0===b(T)||this.verifyDataLabelOverflow(T))&&(this.placeDataLabels(),this.points.forEach(function(ha){ea=k(J,ha.options.dataLabels);if(R=h(ea.connectorWidth,1)){var ka;U=ha.connector;if((V=ha.dataLabel)&&V._pos&&ha.visible&&0<ha.labelDistance){ba=
V._attr.visibility;if(ka=!U)ha.connector=U=C.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+ha.colorIndex+(ha.className?" "+ha.className:"")).add(A.dataLabelsGroup),C.styledMode||U.attr({"stroke-width":R,stroke:ea.connectorColor||ha.color||"#666666"});U[ka?"attr":"animate"]({d:ha.getConnectorPath()});U.attr("visibility",ba)}else U&&(ha.connector=U.destroy())}}))}function r(){this.points.forEach(function(A){var F=A.dataLabel,C;F&&A.visible&&((C=F._pos)?(F.sideOverflow&&
(F._attr.width=Math.max(F.getBBox().width-F.sideOverflow,0),F.css({width:F._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),F.shortened=!0),F.attr(F._attr),F[F.moved?"animate":"attr"](C),F.moved=!0):F&&F.attr({y:-9999}));delete A.distributeBox},this)}function t(A){var F=this.center,C=this.options,J=C.center,B=C.minSize||80,G=null!==C.size;if(!G){if(null!==J[0])var E=Math.max(F[2]-Math.max(A[1],A[3]),B);else E=Math.max(F[2]-A[1]-A[3],B),F[0]+=(A[3]-A[1])/
2;null!==J[1]?E=f(E,B,F[2]-Math.max(A[0],A[2])):(E=f(E,B,F[2]-A[0]-A[2]),F[1]+=(A[0]-A[2])/2);E<F[2]?(F[2]=E,F[3]=Math.min(g(C.innerSize||0,E),E),this.translate(F),this.drawDataLabels&&this.drawDataLabels()):G=!0}return G}var y=[],w={radialDistributionY:function(A){return A.top+A.distributeBox.pos},radialDistributionX:function(A,F,C,J){return A.getX(C<F.top+2||C>F.bottom-2?J:C,F.half,F)},justify:function(A,F,C){return C[0]+(A.half?-1:1)*(F+A.labelDistance)},alignToPlotEdges:function(A,F,C,J){A=A.getBBox().width;
return F?A+J:C-A-J},alignToConnectors:function(A,F,C,J){var B=0,G;A.forEach(function(E){G=E.dataLabel.getBBox().width;G>B&&(B=G)});return F?B+J:C-B-J}};x.compose=function(A){z.compose(a);-1===y.indexOf(A)&&(y.push(A),A=A.prototype,A.dataLabelPositioners=w,A.alignDataLabel=p,A.drawDataLabels=u,A.placeDataLabels=r,A.verifyDataLabelOverflow=t)}})(q||(q={}));return q});Y(I,"Extensions/OverlappingDataLabels.js",[I["Core/Chart/Chart.js"],I["Core/Utilities.js"]],function(z,m){function n(f,e){var k=!1;if(f){var h=
f.newOpacity;f.oldOpacity!==h&&(f.alignAttr&&f.placed?(f[h?"removeClass":"addClass"]("highcharts-data-label-hidden"),k=!0,f.alignAttr.opacity=h,f[f.isOld?"animate":"attr"](f.alignAttr,null,function(){e.styledMode||f.css({pointerEvents:h?"auto":"none"})}),c(e,"afterHideOverlappingLabel")):f.attr({opacity:h}));f.isOld=!0}return k}var l=m.addEvent,c=m.fireEvent,p=m.isArray,d=m.isNumber,a=m.objectEach,b=m.pick;l(z,"render",function(){var f=this,e=[];(this.labelCollectors||[]).forEach(function(k){e=e.concat(k())});
(this.yAxis||[]).forEach(function(k){k.stacking&&k.options.stackLabels&&!k.options.stackLabels.allowOverlap&&a(k.stacking.stacks,function(h){a(h,function(g){g.label&&"hidden"!==g.label.visibility&&e.push(g.label)})})});(this.series||[]).forEach(function(k){var h=k.options.dataLabels;k.visible&&(!1!==h.enabled||k._hasPointLabels)&&(h=function(g){return g.forEach(function(q){q.visible&&(p(q.dataLabels)?q.dataLabels:q.dataLabel?[q.dataLabel]:[]).forEach(function(x){var u=x.options;x.labelrank=b(u.labelrank,
q.labelrank,q.shapeArgs&&q.shapeArgs.height);u.allowOverlap?(x.oldOpacity=x.opacity,x.newOpacity=1,n(x,f)):e.push(x)})})},h(k.nodes||[]),h(k.points))});this.hideOverlappingLabels(e)});z.prototype.hideOverlappingLabels=function(f){var e=this,k=f.length,h=e.renderer,g,q,x,u=!1,r=function(w){var A,F=w.box?0:w.padding||0,C=A=0,J;if(w&&(!w.alignAttr||w.placed)){var B=w.alignAttr||{x:w.attr("x"),y:w.attr("y")},G=w.parentGroup;w.width||(A=w.getBBox(),w.width=A.width,w.height=A.height,A=h.fontMetrics(null,
w.element).h);var E=w.width-2*F;(J={left:"0",center:"0.5",right:"1"}[w.alignValue])?C=+J*E:d(w.x)&&Math.round(w.x)!==w.translateX&&(C=w.x-w.translateX);return{x:B.x+(G.translateX||0)+F-(C||0),y:B.y+(G.translateY||0)+F-A,width:w.width-2*F,height:w.height-2*F}}};for(q=0;q<k;q++)if(g=f[q])g.oldOpacity=g.opacity,g.newOpacity=1,g.absoluteBox=r(g);f.sort(function(w,A){return(A.labelrank||0)-(w.labelrank||0)});for(q=0;q<k;q++){var t=(r=f[q])&&r.absoluteBox;for(g=q+1;g<k;++g){var y=(x=f[g])&&x.absoluteBox;
!t||!y||r===x||0===r.newOpacity||0===x.newOpacity||y.x>=t.x+t.width||y.x+y.width<=t.x||y.y>=t.y+t.height||y.y+y.height<=t.y||((r.labelrank<x.labelrank?r:x).newOpacity=0)}}f.forEach(function(w){n(w,e)&&(u=!0)});u&&c(e,"afterHideAllOverlappingLabels")}});Y(I,"Core/Responsive.js",[I["Core/Utilities.js"]],function(z){var m=z.extend,n=z.find,l=z.isArray,c=z.isObject,p=z.merge,d=z.objectEach,a=z.pick,b=z.splat,f=z.uniqueKey,e;(function(k){var h=[];k.compose=function(q){-1===h.indexOf(q)&&(h.push(q),m(q.prototype,
g.prototype));return q};var g=function(){function q(){}q.prototype.currentOptions=function(x){function u(y,w,A,F){var C;d(y,function(J,B){if(!F&&-1<r.collectionsWithUpdate.indexOf(B)&&w[B])for(J=b(J),A[B]=[],C=0;C<Math.max(J.length,w[B].length);C++)w[B][C]&&(void 0===J[C]?A[B][C]=w[B][C]:(A[B][C]={},u(J[C],w[B][C],A[B][C],F+1)));else c(J)?(A[B]=l(J)?[]:{},u(J,w[B]||{},A[B],F+1)):A[B]="undefined"===typeof w[B]?null:w[B]})}var r=this,t={};u(x,this.options,t,0);return t};q.prototype.matchResponsiveRule=
function(x,u){var r=x.condition;(r.callback||function(){return this.chartWidth<=a(r.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=a(r.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=a(r.minWidth,0)&&this.chartHeight>=a(r.minHeight,0)}).call(this)&&u.push(x._id)};q.prototype.setResponsive=function(x,u){var r=this,t=this.options.responsive,y=this.currentResponsive,w=[];!u&&t&&t.rules&&t.rules.forEach(function(A){"undefined"===typeof A._id&&(A._id=f());r.matchResponsiveRule(A,w)},this);u=p.apply(void 0,
w.map(function(A){return n((t||{}).rules||[],function(F){return F._id===A})}).map(function(A){return A&&A.chartOptions}));u.isResponsiveOptions=!0;w=w.toString()||void 0;w!==(y&&y.ruleIds)&&(y&&this.update(y.undoOptions,x,!0),w?(y=this.currentOptions(u),y.isResponsiveOptions=!0,this.currentResponsive={ruleIds:w,mergedOptions:u,undoOptions:y},this.update(u,x,!0)):this.currentResponsive=void 0)};return q}()})(e||(e={}));"";"";return e});Y(I,"masters/highcharts.src.js",[I["Core/Globals.js"],I["Core/Utilities.js"],
I["Core/DefaultOptions.js"],I["Core/Animation/Fx.js"],I["Core/Animation/AnimationUtilities.js"],I["Core/Renderer/HTML/AST.js"],I["Core/FormatUtilities.js"],I["Core/Renderer/RendererUtilities.js"],I["Core/Renderer/SVG/SVGElement.js"],I["Core/Renderer/SVG/SVGRenderer.js"],I["Core/Renderer/HTML/HTMLElement.js"],I["Core/Renderer/HTML/HTMLRenderer.js"],I["Core/Axis/Axis.js"],I["Core/Axis/DateTimeAxis.js"],I["Core/Axis/LogarithmicAxis.js"],I["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],I["Core/Axis/Tick.js"],
I["Core/Tooltip.js"],I["Core/Series/Point.js"],I["Core/Pointer.js"],I["Core/MSPointer.js"],I["Core/Legend/Legend.js"],I["Core/Chart/Chart.js"],I["Core/Series/Series.js"],I["Core/Series/SeriesRegistry.js"],I["Series/Column/ColumnSeries.js"],I["Series/Column/ColumnDataLabel.js"],I["Series/Pie/PieSeries.js"],I["Series/Pie/PieDataLabel.js"],I["Core/Series/DataLabel.js"],I["Core/Responsive.js"],I["Core/Color/Color.js"],I["Core/Time.js"]],function(z,m,n,l,c,p,d,a,b,f,e,k,h,g,q,x,u,r,t,y,w,A,F,C,J,B,G,E,
v,D,K,P,Q){z.animate=c.animate;z.animObject=c.animObject;z.getDeferredAnimation=c.getDeferredAnimation;z.setAnimation=c.setAnimation;z.stop=c.stop;z.timers=l.timers;z.AST=p;z.Axis=h;z.Chart=F;z.chart=F.chart;z.Fx=l;z.Legend=A;z.PlotLineOrBand=x;z.Point=t;z.Pointer=w.isRequired()?w:y;z.Series=C;z.SVGElement=b;z.SVGRenderer=f;z.Tick=u;z.Time=Q;z.Tooltip=r;z.Color=P;z.color=P.parse;k.compose(f);e.compose(b);z.defaultOptions=n.defaultOptions;z.getOptions=n.getOptions;z.time=n.defaultTime;z.setOptions=
n.setOptions;z.dateFormat=d.dateFormat;z.format=d.format;z.numberFormat=d.numberFormat;z.addEvent=m.addEvent;z.arrayMax=m.arrayMax;z.arrayMin=m.arrayMin;z.attr=m.attr;z.clearTimeout=m.clearTimeout;z.correctFloat=m.correctFloat;z.createElement=m.createElement;z.css=m.css;z.defined=m.defined;z.destroyObjectProperties=m.destroyObjectProperties;z.discardElement=m.discardElement;z.distribute=a.distribute;z.erase=m.erase;z.error=m.error;z.extend=m.extend;z.extendClass=m.extendClass;z.find=m.find;z.fireEvent=
m.fireEvent;z.getMagnitude=m.getMagnitude;z.getStyle=m.getStyle;z.inArray=m.inArray;z.isArray=m.isArray;z.isClass=m.isClass;z.isDOMElement=m.isDOMElement;z.isFunction=m.isFunction;z.isNumber=m.isNumber;z.isObject=m.isObject;z.isString=m.isString;z.keys=m.keys;z.merge=m.merge;z.normalizeTickInterval=m.normalizeTickInterval;z.objectEach=m.objectEach;z.offset=m.offset;z.pad=m.pad;z.pick=m.pick;z.pInt=m.pInt;z.relativeLength=m.relativeLength;z.removeEvent=m.removeEvent;z.seriesType=J.seriesType;z.splat=
m.splat;z.stableSort=m.stableSort;z.syncTimeout=m.syncTimeout;z.timeUnits=m.timeUnits;z.uniqueKey=m.uniqueKey;z.useSerialIds=m.useSerialIds;z.wrap=m.wrap;G.compose(B);D.compose(C);g.compose(h);q.compose(h);v.compose(E);x.compose(h);K.compose(F);return z});I["masters/highcharts.src.js"]._modules=I;return I["masters/highcharts.src.js"]});"use strict";
(function(M){"object"===typeof module&&module.exports?(M["default"]=M,module.exports=M):"function"===typeof define&&define.amd?define("highcharts/modules/accessibility",["highcharts"],function(Y){M(Y);M.Highcharts=Y;return M}):M("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(M){function Y(I,z,m,n){I.hasOwnProperty(z)||(I[z]=n.apply(null,m))}M=M?M._modules:{};Y(M,"Accessibility/A11yI18n.js",[M["Core/FormatUtilities.js"],M["Core/Utilities.js"]],function(I,z){var m=I.format,n=z.pick,l;
(function(c){function p(f,e){var k=f.indexOf("#each("),h=f.indexOf("#plural("),g=f.indexOf("["),q=f.indexOf("]");if(-1<k){q=f.slice(k).indexOf(")")+k;h=f.substring(0,k);g=f.substring(q+1);q=f.substring(k+6,q).split(",");k=Number(q[1]);f="";if(e=e[q[0]])for(k=isNaN(k)?e.length:k,k=0>k?e.length+k:Math.min(k,e.length),q=0;q<k;++q)f+=h+e[q]+g;return f.length?f:""}if(-1<h){g=f.slice(h).indexOf(")")+h;h=f.substring(h+8,g).split(",");switch(Number(e[h[0]])){case 0:f=n(h[4],h[1]);break;case 1:f=n(h[2],h[1]);
break;case 2:f=n(h[3],h[1]);break;default:f=h[1]}f?(e=f,e=e.trim&&e.trim()||e.replace(/^\s+|\s+$/g,"")):e="";return e}return-1<g?(h=f.substring(0,g),g=Number(f.substring(g+1,q)),f=void 0,e=e[h],!isNaN(g)&&e&&(0>g?(f=e[e.length+g],"undefined"===typeof f&&(f=e[0])):(f=e[g],"undefined"===typeof f&&(f=e[e.length-1]))),"undefined"!==typeof f?f:""):"{"+f+"}"}function d(f,e,k){var h=function(r,t){r=r.slice(t||0);var y=r.indexOf("{"),w=r.indexOf("}");if(-1<y&&w>y)return{statement:r.substring(y+1,w),begin:t+
y+1,end:t+w}},g=[],q=0;do{var x=h(f,q),u=f.substring(q,x&&x.begin-1);u.length&&g.push({value:u,type:"constant"});x&&g.push({value:x.statement,type:"statement"});q=x?x.end+1:q+1}while(x);g.forEach(function(r){"statement"===r.type&&(r.value=p(r.value,e))});return m(g.reduce(function(r,t){return r+t.value},""),e,k)}function a(f,e){f=f.split(".");for(var k=this.options.lang,h=0;h<f.length;++h)k=k&&k[f[h]];return"string"===typeof k?d(k,e,this):""}var b=[];c.compose=function(f){-1===b.indexOf(f)&&(b.push(f),
f.prototype.langFormat=a);return f};c.i18nFormat=d})(l||(l={}));return l});Y(M,"Accessibility/Utils/HTMLUtilities.js",[M["Core/Globals.js"],M["Core/Utilities.js"]],function(I,z){function m(d){if("function"===typeof c.MouseEvent)return new c.MouseEvent(d.type,d);if(l.createEvent){var a=l.createEvent("MouseEvent");if(a.initMouseEvent)return a.initMouseEvent(d.type,d.bubbles,d.cancelable,d.view||c,d.detail,d.screenX,d.screenY,d.clientX,d.clientY,d.ctrlKey,d.altKey,d.shiftKey,d.metaKey,d.button,d.relatedTarget),
a}return n(d.type)}function n(d,a){a=a||{x:0,y:0};if("function"===typeof c.MouseEvent)return new c.MouseEvent(d,{bubbles:!0,cancelable:!0,composed:!0,view:c,detail:"click"===d?1:0,screenX:a.x,screenY:a.y,clientX:a.x,clientY:a.y});if(l.createEvent){var b=l.createEvent("MouseEvent");if(b.initMouseEvent)return b.initMouseEvent(d,!0,!0,c,"click"===d?1:0,a.x,a.y,a.x,a.y,!1,!1,!1,!1,0,null),b}return{type:d}}var l=I.doc,c=I.win,p=z.css;return{addClass:function(d,a){d.classList?d.classList.add(a):0>d.className.indexOf(a)&&
(d.className+=" "+a)},cloneMouseEvent:m,cloneTouchEvent:function(d){var a=function(b){for(var f=[],e=0;e<b.length;++e){var k=b.item(e);k&&f.push(k)}return f};if("function"===typeof c.TouchEvent)return a=new c.TouchEvent(d.type,{touches:a(d.touches),targetTouches:a(d.targetTouches),changedTouches:a(d.changedTouches),ctrlKey:d.ctrlKey,shiftKey:d.shiftKey,altKey:d.altKey,metaKey:d.metaKey,bubbles:d.bubbles,cancelable:d.cancelable,composed:d.composed,detail:d.detail,view:d.view}),d.defaultPrevented&&
a.preventDefault(),a;a=m(d);a.touches=d.touches;a.changedTouches=d.changedTouches;a.targetTouches=d.targetTouches;return a},escapeStringForHTML:function(d){return d.replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;").replace(/"/g,"\x26quot;").replace(/'/g,"\x26#x27;").replace(/\//g,"\x26#x2F;")},getElement:function(d){return l.getElementById(d)},getFakeMouseEvent:n,getHeadingTagNameForElement:function(d){var a=function(f){f=parseInt(f.slice(1),10);return"h"+Math.min(6,f+1)},b=
function(f){var e;a:{for(e=f;e=e.previousSibling;){var k=e.tagName||"";if(/H[1-6]/.test(k)){e=k;break a}}e=""}if(e)return a(e);f=f.parentElement;if(!f)return"p";e=f.tagName;return/H[1-6]/.test(e)?a(e):b(f)};return b(d)},removeChildNodes:function(d){for(;d.lastChild;)d.removeChild(d.lastChild)},removeClass:function(d,a){d.classList?d.classList.remove(a):d.className=d.className.replace(new RegExp(a,"g"),"")},removeElement:function(d){d&&d.parentNode&&d.parentNode.removeChild(d)},reverseChildNodes:function(d){for(var a=
d.childNodes.length;a--;)d.appendChild(d.childNodes[a])},stripHTMLTagsFromString:function(d){return"string"===typeof d?d.replace(/<\/?[^>]+(>|$)/g,""):d},visuallyHideElement:function(d){p(d,{position:"absolute",width:"1px",height:"1px",overflow:"hidden",whiteSpace:"nowrap",clip:"rect(1px, 1px, 1px, 1px)",marginTop:"-3px","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity\x3d1)",filter:"alpha(opacity\x3d1)",opacity:.01})}}});Y(M,"Accessibility/Utils/ChartUtilities.js",[M["Core/Globals.js"],
M["Accessibility/Utils/HTMLUtilities.js"],M["Core/Utilities.js"]],function(I,z,m){function n(g,q){var x=q.type,u=g.hcEvents;b.createEvent&&(g.dispatchEvent||g.fireEvent)?g.dispatchEvent?g.dispatchEvent(q):g.fireEvent(x,q):u&&u[x]?h(g,x,q):g.element&&n(g.element,q)}function l(g){var q=g.chart,x={},u="Seconds";x.Seconds=((g.max||0)-(g.min||0))/1E3;x.Minutes=x.Seconds/60;x.Hours=x.Minutes/60;x.Days=x.Hours/24;["Minutes","Hours","Days"].forEach(function(t){2<x[t]&&(u=t)});var r=x[u].toFixed("Seconds"!==
u&&"Minutes"!==u?1:0);return q.langFormat("accessibility.axis.timeRange"+u,{chart:q,axis:g,range:r.replace(".0","")})}function c(g){var q=g.chart,x=q.options&&q.options.accessibility&&q.options.accessibility.screenReaderSection.axisRangeDateFormat||"",u=function(r){return g.dateTime?q.time.dateFormat(x,g[r]):g[r]};return q.langFormat("accessibility.axis.rangeFromTo",{chart:q,axis:g,rangeFrom:u("min"),rangeTo:u("max")})}function p(g){if(g.points&&g.points.length)return(g=k(g.points,function(q){return!!q.graphic}))&&
g.graphic&&g.graphic.element}function d(g){var q=p(g);return q&&q.parentNode||g.graph&&g.graph.element||g.group&&g.group.element}function a(g,q){q.setAttribute("aria-hidden",!1);q!==g.renderTo&&q.parentNode&&q.parentNode!==b.body&&(Array.prototype.forEach.call(q.parentNode.childNodes,function(x){x.hasAttribute("aria-hidden")||x.setAttribute("aria-hidden",!0)}),a(g,q.parentNode))}var b=I.doc,f=z.stripHTMLTagsFromString,e=m.defined,k=m.find,h=m.fireEvent;return{fireEventOnWrappedOrUnwrappedElement:n,
getChartTitle:function(g){return f(g.options.title.text||g.langFormat("accessibility.defaultChartTitle",{chart:g}))},getAxisDescription:function(g){return g&&(g.userOptions&&g.userOptions.accessibility&&g.userOptions.accessibility.description||g.axisTitle&&g.axisTitle.textStr||g.options.id||g.categories&&"categories"||g.dateTime&&"Time"||"values")},getAxisRangeDescription:function(g){var q=g.options||{};return q.accessibility&&"undefined"!==typeof q.accessibility.rangeDescription?q.accessibility.rangeDescription:
g.categories?(q=g.chart,g=g.dataMax&&g.dataMin?q.langFormat("accessibility.axis.rangeCategories",{chart:q,axis:g,numCategories:g.dataMax-g.dataMin+1}):"",g):!g.dateTime||0!==g.min&&0!==g.dataMin?c(g):l(g)},getPointFromXY:function(g,q,x){for(var u=g.length,r;u--;)if(r=k(g[u].points||[],function(t){return t.x===q&&t.y===x}))return r},getSeriesFirstPointElement:p,getSeriesFromName:function(g,q){return q?(g.series||[]).filter(function(x){return x.name===q}):g.series},getSeriesA11yElement:d,unhideChartElementFromAT:a,
hideSeriesFromAT:function(g){(g=d(g))&&g.setAttribute("aria-hidden",!0)},scrollToPoint:function(g){var q=g.series.xAxis,x=g.series.yAxis,u=q&&q.scrollbar?q:x;if((q=u&&u.scrollbar)&&e(q.to)&&e(q.from)){x=q.to-q.from;if(e(u.dataMin)&&e(u.dataMax)){var r=u.toPixels(u.dataMin),t=u.toPixels(u.dataMax);g=(u.toPixels(g["xAxis"===u.coll?"x":"y"]||0)-r)/(t-r)}else g=0;q.updatePosition(g-x/2,g+x/2);h(q,"changed",{from:q.from,to:q.to,trigger:"scrollbar",DOMEvent:null})}}}});Y(M,"Accessibility/Utils/DOMElementProvider.js",
[M["Core/Globals.js"],M["Accessibility/Utils/HTMLUtilities.js"]],function(I,z){var m=I.doc,n=z.removeElement;return function(){function l(){this.elements=[]}l.prototype.createElement=function(){var c=m.createElement.apply(m,arguments);this.elements.push(c);return c};l.prototype.destroyCreatedElements=function(){this.elements.forEach(function(c){n(c)});this.elements=[]};return l}()});Y(M,"Accessibility/Utils/EventProvider.js",[M["Core/Globals.js"],M["Core/Utilities.js"]],function(I,z){var m=z.addEvent;
return function(){function n(){this.eventRemovers=[]}n.prototype.addEvent=function(){var l=m.apply(I,arguments);this.eventRemovers.push(l);return l};n.prototype.removeAddedEvents=function(){this.eventRemovers.forEach(function(l){return l()});this.eventRemovers=[]};return n}()});Y(M,"Accessibility/AccessibilityComponent.js",[M["Accessibility/Utils/ChartUtilities.js"],M["Accessibility/Utils/DOMElementProvider.js"],M["Accessibility/Utils/EventProvider.js"],M["Accessibility/Utils/HTMLUtilities.js"],M["Core/Utilities.js"]],
function(I,z,m,n,l){var c=I.fireEventOnWrappedOrUnwrappedElement,p=n.getFakeMouseEvent;I=l.extend;n=function(){function d(){this.proxyProvider=this.keyCodes=this.eventProvider=this.domElementProvider=this.chart=void 0}d.prototype.initBase=function(a,b){this.chart=a;this.eventProvider=new m;this.domElementProvider=new z;this.proxyProvider=b;this.keyCodes={left:37,right:39,up:38,down:40,enter:13,space:32,esc:27,tab:9,pageUp:33,pageDown:34,end:35,home:36}};d.prototype.addEvent=function(a,b,f,e){return this.eventProvider.addEvent(a,
b,f,e)};d.prototype.createElement=function(a,b){return this.domElementProvider.createElement(a,b)};d.prototype.fakeClickEvent=function(a){var b=p("click");c(a,b)};d.prototype.destroyBase=function(){this.domElementProvider.destroyCreatedElements();this.eventProvider.removeAddedEvents()};return d}();I(n.prototype,{init:function(){},getKeyboardNavigation:function(){},onChartUpdate:function(){},onChartRender:function(){},destroy:function(){}});return n});Y(M,"Accessibility/KeyboardNavigationHandler.js",
[M["Core/Utilities.js"]],function(I){var z=I.find;I=function(){function m(n,l){this.chart=n;this.keyCodeMap=l.keyCodeMap||[];this.validate=l.validate;this.init=l.init;this.terminate=l.terminate;this.response={success:1,prev:2,next:3,noHandler:4,fail:5}}m.prototype.run=function(n){var l=n.which||n.keyCode,c=this.response.noHandler,p=z(this.keyCodeMap,function(d){return-1<d[0].indexOf(l)});p?c=p[1].call(this,l,n):9===l&&(c=this.response[n.shiftKey?"prev":"next"]);return c};return m}();"";return I});
Y(M,"Accessibility/Components/ContainerComponent.js",[M["Accessibility/AccessibilityComponent.js"],M["Accessibility/KeyboardNavigationHandler.js"],M["Accessibility/Utils/ChartUtilities.js"],M["Core/Globals.js"],M["Accessibility/Utils/HTMLUtilities.js"]],function(I,z,m,n,l){var c=this&&this.__extends||function(){var f=function(e,k){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,g){h.__proto__=g}||function(h,g){for(var q in g)g.hasOwnProperty(q)&&(h[q]=g[q])};return f(e,k)};return function(e,
k){function h(){this.constructor=e}f(e,k);e.prototype=null===k?Object.create(k):(h.prototype=k.prototype,new h)}}(),p=m.unhideChartElementFromAT,d=m.getChartTitle,a=n.doc,b=l.stripHTMLTagsFromString;return function(f){function e(){return null!==f&&f.apply(this,arguments)||this}c(e,f);e.prototype.onChartUpdate=function(){this.handleSVGTitleElement();this.setSVGContainerLabel();this.setGraphicContainerAttrs();this.setRenderToAttrs();this.makeCreditsAccessible()};e.prototype.handleSVGTitleElement=function(){var k=
this.chart,h="highcharts-title-"+k.index,g=b(k.langFormat("accessibility.svgContainerTitle",{chartTitle:d(k)}));if(g.length){var q=this.svgTitleElement=this.svgTitleElement||a.createElementNS("http://www.w3.org/2000/svg","title");q.textContent=g;q.id=h;k.renderTo.insertBefore(q,k.renderTo.firstChild)}};e.prototype.setSVGContainerLabel=function(){var k=this.chart,h=k.langFormat("accessibility.svgContainerLabel",{chartTitle:d(k)});k.renderer.box&&h.length&&k.renderer.box.setAttribute("aria-label",h)};
e.prototype.setGraphicContainerAttrs=function(){var k=this.chart,h=k.langFormat("accessibility.graphicContainerLabel",{chartTitle:d(k)});h.length&&k.container.setAttribute("aria-label",h)};e.prototype.setRenderToAttrs=function(){var k=this.chart;"disabled"!==k.options.accessibility.landmarkVerbosity?k.renderTo.setAttribute("role","region"):k.renderTo.removeAttribute("role");k.renderTo.setAttribute("aria-label",k.langFormat("accessibility.chartContainerLabel",{title:d(k),chart:k}))};e.prototype.makeCreditsAccessible=
function(){var k=this.chart,h=k.credits;h&&(h.textStr&&h.element.setAttribute("aria-label",k.langFormat("accessibility.credits",{creditsStr:b(h.textStr)})),p(k,h.element))};e.prototype.getKeyboardNavigation=function(){var k=this.chart;return new z(k,{keyCodeMap:[],validate:function(){return!0},init:function(){var h=k.accessibility;h&&h.keyboardNavigation.tabindexContainer.focus()}})};e.prototype.destroy=function(){this.chart.renderTo.setAttribute("aria-hidden",!0)};return e}(I)});Y(M,"Accessibility/FocusBorder.js",
[M["Core/Renderer/SVG/SVGLabel.js"],M["Core/Utilities.js"]],function(I,z){var m=z.addEvent,n=z.pick,l;(function(c){function p(){var q=this.focusElement,x=this.options.accessibility.keyboardNavigation.focusBorder;q&&(q.removeFocusBorder(),x.enabled&&q.addFocusBorder(x.margin,{stroke:x.style.color,strokeWidth:x.style.lineWidth,r:x.style.borderRadius}))}function d(q,x){var u=this.options.accessibility.keyboardNavigation.focusBorder;(x=x||q.element)&&x.focus&&(x.hcEvents&&x.hcEvents.focusin||m(x,"focusin",
function(){}),x.focus(),u.hideBrowserFocusOutline&&(x.style.outline="none"));this.focusElement&&this.focusElement.removeFocusBorder();this.focusElement=q;this.renderFocusBorder()}function a(q){if(!q.focusBorderDestroyHook){var x=q.destroy;q.destroy=function(){q.focusBorder&&q.focusBorder.destroy&&q.focusBorder.destroy();return x.apply(q,arguments)};q.focusBorderDestroyHook=x}}function b(q,x){this.focusBorder&&this.removeFocusBorder();var u=this.getBBox(),r=n(q,3);u.x+=this.translateX?this.translateX:
0;u.y+=this.translateY?this.translateY:0;var t=u.x-r,y=u.y-r,w=u.width+2*r,A=u.height+2*r,F=this instanceof I;if("text"===this.element.nodeName||F){var C=!!this.rotation;if(F)var J={x:C?1:0,y:0};else{var B=J=0;"middle"===this.attr("text-anchor")?J=B=.5:this.rotation?J=.25:B=.75;J={x:J,y:B}}B=+this.attr("x");var G=+this.attr("y");isNaN(B)||(t=B-u.width*J.x-r);isNaN(G)||(y=G-u.height*J.y-r);F&&C&&(F=w,w=A,A=F,isNaN(B)||(t=B-u.height*J.x-r),isNaN(G)||(y=G-u.width*J.y-r))}this.focusBorder=this.renderer.rect(t,
y,w,A,parseInt((x&&x.r||0).toString(),10)).addClass("highcharts-focus-border").attr({zIndex:99}).add(this.parentGroup);this.renderer.styledMode||this.focusBorder.attr({stroke:x&&x.stroke,"stroke-width":x&&x.strokeWidth});f(this,q,x);a(this)}function f(q){for(var x=[],u=1;u<arguments.length;u++)x[u-1]=arguments[u];q.focusBorderUpdateHooks||(q.focusBorderUpdateHooks={},g.forEach(function(r){r+="Setter";var t=q[r]||q._defaultSetter;q.focusBorderUpdateHooks[r]=t;q[r]=function(){var y=t.apply(q,arguments);
q.addFocusBorder.apply(q,x);return y}}))}function e(){k(this);this.focusBorderDestroyHook&&(this.destroy=this.focusBorderDestroyHook,delete this.focusBorderDestroyHook);this.focusBorder&&(this.focusBorder.destroy(),delete this.focusBorder)}function k(q){q.focusBorderUpdateHooks&&(Object.keys(q.focusBorderUpdateHooks).forEach(function(x){var u=q.focusBorderUpdateHooks[x];u===q._defaultSetter?delete q[x]:q[x]=u}),delete q.focusBorderUpdateHooks)}var h=[],g="x y transform width height r d stroke-width".split(" ");
c.compose=function(q,x){-1===h.indexOf(q)&&(h.push(q),q=q.prototype,q.renderFocusBorder=p,q.setFocusToElement=d);-1===h.indexOf(x)&&(h.push(x),x=x.prototype,x.addFocusBorder=b,x.removeFocusBorder=e)}})(l||(l={}));return l});Y(M,"Accessibility/Utils/Announcer.js",[M["Core/Renderer/HTML/AST.js"],M["Accessibility/Utils/DOMElementProvider.js"],M["Core/Globals.js"],M["Accessibility/Utils/HTMLUtilities.js"],M["Core/Utilities.js"]],function(I,z,m,n,l){var c=m.doc,p=n.addClass,d=n.visuallyHideElement,a=l.attr;
return function(){function b(f,e){this.chart=f;this.domElementProvider=new z;this.announceRegion=this.addAnnounceRegion(e)}b.prototype.destroy=function(){this.domElementProvider.destroyCreatedElements()};b.prototype.announce=function(f){var e=this;I.setElementHTML(this.announceRegion,f);this.clearAnnouncementRegionTimer&&clearTimeout(this.clearAnnouncementRegionTimer);this.clearAnnouncementRegionTimer=setTimeout(function(){e.announceRegion.innerHTML="";delete e.clearAnnouncementRegionTimer},1E3)};
b.prototype.addAnnounceRegion=function(f){var e=this.chart.announcerContainer||this.createAnnouncerContainer(),k=this.domElementProvider.createElement("div");a(k,{"aria-hidden":!1,"aria-live":f});this.chart.styledMode?p(k,"highcharts-visually-hidden"):d(k);e.appendChild(k);return k};b.prototype.createAnnouncerContainer=function(){var f=this.chart,e=c.createElement("div");a(e,{"aria-hidden":!1,"class":"highcharts-announcer-container"});e.style.position="relative";f.renderTo.insertBefore(e,f.renderTo.firstChild);
return f.announcerContainer=e};return b}()});Y(M,"Accessibility/Components/AnnotationsA11y.js",[M["Accessibility/Utils/HTMLUtilities.js"]],function(I){function z(d){return(d.annotations||[]).reduce(function(a,b){b.options&&!1!==b.options.visible&&(a=a.concat(b.labels));return a},[])}function m(d){return d.options&&d.options.accessibility&&d.options.accessibility.description||d.graphic&&d.graphic.text&&d.graphic.text.textStr||""}function n(d){var a=d.options&&d.options.accessibility&&d.options.accessibility.description;
if(a)return a;a=d.chart;var b=m(d),f=d.points.filter(function(h){return!!h.graphic}).map(function(h){var g=h.accessibility&&h.accessibility.valueDescription||h.graphic&&h.graphic.element&&h.graphic.element.getAttribute("aria-label")||"";h=h&&h.series.name||"";return(h?h+", ":"")+"data point "+g}).filter(function(h){return!!h}),e=f.length,k="accessibility.screenReaderSection.annotations.description"+(1<e?"MultiplePoints":e?"SinglePoint":"NoPoints");d={annotationText:b,annotation:d,numPoints:e,annotationPoint:f[0],
additionalAnnotationPoints:f.slice(1)};return a.langFormat(k,d)}function l(d){return z(d).map(function(a){return(a=c(p(n(a))))?"\x3cli\x3e"+a+"\x3c/li\x3e":""})}var c=I.escapeStringForHTML,p=I.stripHTMLTagsFromString;return{getAnnotationsInfoHTML:function(d){var a=d.annotations;return a&&a.length?'\x3cul style\x3d"list-style-type: none"\x3e'+l(d).join(" ")+"\x3c/ul\x3e":""},getAnnotationLabelDescription:n,getAnnotationListItems:l,getPointAnnotationTexts:function(d){var a=z(d.series.chart).filter(function(b){return-1<
b.points.indexOf(d)});return a.length?a.map(function(b){return""+m(b)}):[]}}});Y(M,"Accessibility/Components/InfoRegionsComponent.js",[M["Accessibility/A11yI18n.js"],M["Accessibility/AccessibilityComponent.js"],M["Accessibility/Utils/Announcer.js"],M["Accessibility/Components/AnnotationsA11y.js"],M["Core/Renderer/HTML/AST.js"],M["Accessibility/Utils/ChartUtilities.js"],M["Core/FormatUtilities.js"],M["Core/Globals.js"],M["Accessibility/Utils/HTMLUtilities.js"],M["Core/Utilities.js"]],function(I,z,
m,n,l,c,p,d,a,b){function f(B,G){var E=G[0],v=B.series&&B.series[0]||{};v={numSeries:B.series.length,numPoints:v.points&&v.points.length,chart:B,mapTitle:v.mapTitle};if(!E)return B.langFormat("accessibility.chartTypes.emptyChart",v);if("map"===E)return v.mapTitle?B.langFormat("accessibility.chartTypes.mapTypeDescription",v):B.langFormat("accessibility.chartTypes.unknownMap",v);if(1<B.types.length)return B.langFormat("accessibility.chartTypes.combinationChart",v);G=G[0];E=B.langFormat("accessibility.seriesTypeDescriptions."+
G,v);var D=B.series&&2>B.series.length?"Single":"Multiple";return(B.langFormat("accessibility.chartTypes."+G+D,v)||B.langFormat("accessibility.chartTypes.default"+D,v))+(E?" "+E:"")}var e=this&&this.__extends||function(){var B=function(G,E){B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,D){v.__proto__=D}||function(v,D){for(var K in D)D.hasOwnProperty(K)&&(v[K]=D[K])};return B(G,E)};return function(G,E){function v(){this.constructor=G}B(G,E);G.prototype=null===E?Object.create(E):
(v.prototype=E.prototype,new v)}}(),k=n.getAnnotationsInfoHTML,h=c.getAxisDescription,g=c.getAxisRangeDescription,q=c.getChartTitle,x=c.unhideChartElementFromAT,u=p.format,r=d.doc,t=a.addClass,y=a.getElement,w=a.getHeadingTagNameForElement,A=a.stripHTMLTagsFromString,F=a.visuallyHideElement,C=b.attr,J=b.pick;return function(B){function G(){var E=null!==B&&B.apply(this,arguments)||this;E.announcer=void 0;E.screenReaderSections={};return E}e(G,B);G.prototype.init=function(){var E=this.chart,v=this;
this.initRegionsDefinitions();this.addEvent(E,"aftergetTableAST",function(D){v.onDataTableCreated(D)});this.addEvent(E,"afterViewData",function(D){v.dataTableDiv=D;setTimeout(function(){v.focusDataTable()},300)});this.announcer=new m(E,"assertive")};G.prototype.initRegionsDefinitions=function(){var E=this;this.screenReaderSections={before:{element:null,buildContent:function(v){var D=v.options.accessibility.screenReaderSection.beforeChartFormatter;return D?D(v):E.defaultBeforeChartFormatter(v)},insertIntoDOM:function(v,
D){D.renderTo.insertBefore(v,D.renderTo.firstChild)},afterInserted:function(){"undefined"!==typeof E.sonifyButtonId&&E.initSonifyButton(E.sonifyButtonId);"undefined"!==typeof E.dataTableButtonId&&E.initDataTableButton(E.dataTableButtonId)}},after:{element:null,buildContent:function(v){var D=v.options.accessibility.screenReaderSection.afterChartFormatter;return D?D(v):E.defaultAfterChartFormatter()},insertIntoDOM:function(v,D){D.renderTo.insertBefore(v,D.container.nextSibling)},afterInserted:function(){E.chart.accessibility&&
E.chart.accessibility.keyboardNavigation.updateExitAnchor()}}}};G.prototype.onChartRender=function(){var E=this;this.linkedDescriptionElement=this.getLinkedDescriptionElement();this.setLinkedDescriptionAttrs();Object.keys(this.screenReaderSections).forEach(function(v){E.updateScreenReaderSection(v)})};G.prototype.getLinkedDescriptionElement=function(){var E=this.chart.options.accessibility.linkedDescription;if(E){if("string"!==typeof E)return E;E=u(E,this.chart);E=r.querySelectorAll(E);if(1===E.length)return E[0]}};
G.prototype.setLinkedDescriptionAttrs=function(){var E=this.linkedDescriptionElement;E&&(E.setAttribute("aria-hidden","true"),t(E,"highcharts-linked-description"))};G.prototype.updateScreenReaderSection=function(E){var v=this.chart,D=this.screenReaderSections[E],K=D.buildContent(v),P=D.element=D.element||this.createElement("div"),Q=P.firstChild||this.createElement("div");K?(this.setScreenReaderSectionAttribs(P,E),l.setElementHTML(Q,K),P.appendChild(Q),D.insertIntoDOM(P,v),v.styledMode?t(Q,"highcharts-visually-hidden"):
F(Q),x(v,Q),D.afterInserted&&D.afterInserted()):(P.parentNode&&P.parentNode.removeChild(P),delete D.element)};G.prototype.setScreenReaderSectionAttribs=function(E,v){var D=this.chart,K=D.langFormat("accessibility.screenReaderSection."+v+"RegionLabel",{chart:D,chartTitle:q(D)});C(E,{id:"highcharts-screen-reader-region-"+v+"-"+D.index,"aria-label":K});E.style.position="relative";"all"===D.options.accessibility.landmarkVerbosity&&K&&E.setAttribute("role","region")};G.prototype.defaultBeforeChartFormatter=
function(){var E=this.chart,v=E.options.accessibility.screenReaderSection.beforeChartFormat;if(!v)return"";var D=this.getAxesDescription(),K=E.sonify&&E.options.sonification&&E.options.sonification.enabled,P="highcharts-a11y-sonify-data-btn-"+E.index,Q="hc-linkto-highcharts-data-table-"+E.index,N=k(E),T=E.langFormat("accessibility.screenReaderSection.annotations.heading",{chart:E});D={headingTagName:w(E.renderTo),chartTitle:q(E),typeDescription:this.getTypeDescriptionText(),chartSubtitle:this.getSubtitleText(),
chartLongdesc:this.getLongdescText(),xAxisDescription:D.xAxis,yAxisDescription:D.yAxis,playAsSoundButton:K?this.getSonifyButtonText(P):"",viewTableButton:E.getCSV?this.getDataTableButtonText(Q):"",annotationsTitle:N?T:"",annotationsList:N};E=I.i18nFormat(v,D,E);this.dataTableButtonId=Q;this.sonifyButtonId=P;return E.replace(/<(\w+)[^>]*?>\s*<\/\1>/g,"")};G.prototype.defaultAfterChartFormatter=function(){var E=this.chart,v=E.options.accessibility.screenReaderSection.afterChartFormat;if(!v)return"";
var D={endOfChartMarker:this.getEndOfChartMarkerText()};return I.i18nFormat(v,D,E).replace(/<(\w+)[^>]*?>\s*<\/\1>/g,"")};G.prototype.getLinkedDescription=function(){var E=this.linkedDescriptionElement;return A(E&&E.innerHTML||"")};G.prototype.getLongdescText=function(){var E=this.chart.options,v=E.caption;v=v&&v.text;var D=this.getLinkedDescription();return E.accessibility.description||D||v||""};G.prototype.getTypeDescriptionText=function(){var E=this.chart;return E.types?E.options.accessibility.typeDescription||
f(E,E.types):""};G.prototype.getDataTableButtonText=function(E){var v=this.chart;v=v.langFormat("accessibility.table.viewAsDataTableButtonText",{chart:v,chartTitle:q(v)});return'\x3cbutton id\x3d"'+E+'"\x3e'+v+"\x3c/button\x3e"};G.prototype.getSonifyButtonText=function(E){var v=this.chart;if(v.options.sonification&&!1===v.options.sonification.enabled)return"";v=v.langFormat("accessibility.sonification.playAsSoundButtonText",{chart:v,chartTitle:q(v)});return'\x3cbutton id\x3d"'+E+'"\x3e'+v+"\x3c/button\x3e"};
G.prototype.getSubtitleText=function(){var E=this.chart.options.subtitle;return A(E&&E.text||"")};G.prototype.getEndOfChartMarkerText=function(){var E=this.chart,v=E.langFormat("accessibility.screenReaderSection.endOfChartMarker",{chart:E});return'\x3cdiv id\x3d"highcharts-end-of-chart-marker-'+E.index+'"\x3e'+v+"\x3c/div\x3e"};G.prototype.onDataTableCreated=function(E){var v=this.chart;if(v.options.accessibility.enabled){this.viewDataTableButton&&this.viewDataTableButton.setAttribute("aria-expanded",
"true");var D=E.tree.attributes||{};D.tabindex=-1;D.summary=v.langFormat("accessibility.table.tableSummary",{chart:v});E.tree.attributes=D}};G.prototype.focusDataTable=function(){var E=this.dataTableDiv;(E=E&&E.getElementsByTagName("table")[0])&&E.focus&&E.focus()};G.prototype.initSonifyButton=function(E){var v=this,D=this.sonifyButton=y(E),K=this.chart,P=function(Q){D&&(D.setAttribute("aria-hidden","true"),D.setAttribute("aria-label",""));Q.preventDefault();Q.stopPropagation();Q=K.langFormat("accessibility.sonification.playAsSoundClickAnnouncement",
{chart:K});v.announcer.announce(Q);setTimeout(function(){D&&(D.removeAttribute("aria-hidden"),D.removeAttribute("aria-label"));K.sonify&&K.sonify()},1E3)};D&&K&&(D.setAttribute("tabindex",-1),D.onclick=function(Q){(K.options.accessibility&&K.options.accessibility.screenReaderSection.onPlayAsSoundClick||P).call(this,Q,K)})};G.prototype.initDataTableButton=function(E){var v=this.viewDataTableButton=y(E),D=this.chart;E=E.replace("hc-linkto-","");v&&(C(v,{tabindex:-1,"aria-expanded":!!y(E)}),v.onclick=
D.options.accessibility.screenReaderSection.onViewDataTableClick||function(){D.viewData()})};G.prototype.getAxesDescription=function(){var E=this.chart,v=function(Q,N){Q=E[Q];return 1<Q.length||Q[0]&&J(Q[0].options.accessibility&&Q[0].options.accessibility.enabled,N)},D=!!E.types&&0>E.types.indexOf("map"),K=!!E.hasCartesianSeries,P=v("xAxis",!E.angular&&K&&D);v=v("yAxis",K&&D);D={};P&&(D.xAxis=this.getAxisDescriptionText("xAxis"));v&&(D.yAxis=this.getAxisDescriptionText("yAxis"));return D};G.prototype.getAxisDescriptionText=
function(E){var v=this.chart,D=v[E];return v.langFormat("accessibility.axis."+E+"Description"+(1<D.length?"Plural":"Singular"),{chart:v,names:D.map(function(K){return h(K)}),ranges:D.map(function(K){return g(K)}),numAxes:D.length})};G.prototype.destroy=function(){this.announcer&&this.announcer.destroy()};return G}(z)});Y(M,"Accessibility/Components/MenuComponent.js",[M["Core/Chart/Chart.js"],M["Core/Utilities.js"],M["Accessibility/AccessibilityComponent.js"],M["Accessibility/KeyboardNavigationHandler.js"],
M["Accessibility/Utils/ChartUtilities.js"],M["Accessibility/Utils/HTMLUtilities.js"]],function(I,z,m,n,l,c){var p=this&&this.__extends||function(){var e=function(k,h){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,q){g.__proto__=q}||function(g,q){for(var x in q)q.hasOwnProperty(x)&&(g[x]=q[x])};return e(k,h)};return function(k,h){function g(){this.constructor=k}e(k,h);k.prototype=null===h?Object.create(h):(g.prototype=h.prototype,new g)}}(),d=z.attr,a=l.getChartTitle,b=l.unhideChartElementFromAT,
f=c.getFakeMouseEvent;z=function(e){function k(){return null!==e&&e.apply(this,arguments)||this}p(k,e);k.prototype.init=function(){var h=this.chart,g=this;this.addEvent(h,"exportMenuShown",function(){g.onMenuShown()});this.addEvent(h,"exportMenuHidden",function(){g.onMenuHidden()});this.createProxyGroup()};k.prototype.onMenuHidden=function(){var h=this.chart.exportContextMenu;h&&h.setAttribute("aria-hidden","true");this.isExportMenuShown=!1;this.setExportButtonExpandedState("false")};k.prototype.onMenuShown=
function(){var h=this.chart,g=h.exportContextMenu;g&&(this.addAccessibleContextMenuAttribs(),b(h,g));this.isExportMenuShown=!0;this.setExportButtonExpandedState("true")};k.prototype.setExportButtonExpandedState=function(h){this.exportButtonProxy&&this.exportButtonProxy.buttonElement.setAttribute("aria-expanded",h)};k.prototype.onChartRender=function(){this.proxyProvider.clearGroup("chartMenu");this.proxyMenuButton()};k.prototype.proxyMenuButton=function(){var h=this.chart,g=this.proxyProvider,q=h.exportSVGElements&&
h.exportSVGElements[0],x=h.options.exporting,u=h.exportSVGElements&&h.exportSVGElements[0];x&&!1!==x.enabled&&x.accessibility&&x.accessibility.enabled&&u&&u.element&&q&&(this.exportButtonProxy=g.addProxyElement("chartMenu",{click:q},{"aria-label":h.langFormat("accessibility.exporting.menuButtonLabel",{chart:h,chartTitle:a(h)}),"aria-expanded":!1}))};k.prototype.createProxyGroup=function(){this.chart&&this.proxyProvider&&this.proxyProvider.addGroup("chartMenu","div")};k.prototype.addAccessibleContextMenuAttribs=
function(){var h=this.chart,g=h.exportDivElements;g&&g.length&&(g.forEach(function(q){q&&("LI"!==q.tagName||q.children&&q.children.length?q.setAttribute("aria-hidden","true"):q.setAttribute("tabindex",-1))}),(g=g[0]&&g[0].parentNode)&&d(g,{"aria-hidden":void 0,"aria-label":h.langFormat("accessibility.exporting.chartMenuLabel",{chart:h}),role:"list"}))};k.prototype.getKeyboardNavigation=function(){var h=this.keyCodes,g=this.chart,q=this;return new n(g,{keyCodeMap:[[[h.left,h.up],function(){return q.onKbdPrevious(this)}],
[[h.right,h.down],function(){return q.onKbdNext(this)}],[[h.enter,h.space],function(){return q.onKbdClick(this)}]],validate:function(){return!!g.exporting&&!1!==g.options.exporting.enabled&&!1!==g.options.exporting.accessibility.enabled},init:function(){var x=q.exportButtonProxy,u=q.chart.exportingGroup;x&&u&&g.setFocusToElement(u,x.buttonElement)},terminate:function(){g.hideExportMenu()}})};k.prototype.onKbdPrevious=function(h){var g=this.chart,q=g.options.accessibility;h=h.response;for(var x=g.highlightedExportItemIx||
0;x--;)if(g.highlightExportItem(x))return h.success;return q.keyboardNavigation.wrapAround?(g.highlightLastExportItem(),h.success):h.prev};k.prototype.onKbdNext=function(h){var g=this.chart,q=g.options.accessibility;h=h.response;for(var x=(g.highlightedExportItemIx||0)+1;x<g.exportDivElements.length;++x)if(g.highlightExportItem(x))return h.success;return q.keyboardNavigation.wrapAround?(g.highlightExportItem(0),h.success):h.next};k.prototype.onKbdClick=function(h){var g=this.chart,q=g.exportDivElements[g.highlightedExportItemIx],
x=(g.exportSVGElements&&g.exportSVGElements[0]).element;this.isExportMenuShown?this.fakeClickEvent(q):(this.fakeClickEvent(x),g.highlightExportItem(0));return h.response.success};return k}(m);(function(e){function k(){var u=this.exportSVGElements&&this.exportSVGElements[0];if(u&&(u=u.element,u.onclick))u.onclick(f("click"))}function h(){var u=this.exportDivElements;u&&this.exportContextMenu&&(u.forEach(function(r){if(r&&"highcharts-menu-item"===r.className&&r.onmouseout)r.onmouseout(f("mouseout"))}),
this.highlightedExportItemIx=0,this.exportContextMenu.hideMenu(),this.container.focus())}function g(u){var r=this.exportDivElements&&this.exportDivElements[u],t=this.exportDivElements&&this.exportDivElements[this.highlightedExportItemIx];if(r&&"LI"===r.tagName&&(!r.children||!r.children.length)){var y=!!(this.renderTo.getElementsByTagName("g")[0]||{}).focus;r.focus&&y&&r.focus();if(t&&t.onmouseout)t.onmouseout(f("mouseout"));if(r.onmouseover)r.onmouseover(f("mouseover"));this.highlightedExportItemIx=
u;return!0}return!1}function q(){if(this.exportDivElements)for(var u=this.exportDivElements.length;u--;)if(this.highlightExportItem(u))return!0;return!1}var x=[];e.compose=function(u){-1===x.indexOf(u)&&(x.push(u),u=I.prototype,u.hideExportMenu=h,u.highlightExportItem=g,u.highlightLastExportItem=q,u.showExportMenu=k)}})(z||(z={}));return z});Y(M,"Accessibility/KeyboardNavigation.js",[M["Core/Globals.js"],M["Accessibility/Components/MenuComponent.js"],M["Core/Utilities.js"],M["Accessibility/Utils/EventProvider.js"],
M["Accessibility/Utils/HTMLUtilities.js"]],function(I,z,m,n,l){var c=I.doc,p=I.win,d=m.addEvent,a=m.fireEvent,b=l.getElement;m=function(){function f(e,k){this.components=this.chart=void 0;this.currentModuleIx=NaN;this.exitAnchor=this.eventProvider=void 0;this.modules=[];this.tabindexContainer=void 0;this.init(e,k)}f.prototype.init=function(e,k){var h=this,g=this.eventProvider=new n;this.chart=e;this.components=k;this.modules=[];this.currentModuleIx=0;this.update();g.addEvent(this.tabindexContainer,
"keydown",function(q){return h.onKeydown(q)});g.addEvent(this.tabindexContainer,"focus",function(q){return h.onFocus(q)});["mouseup","touchend"].forEach(function(q){return g.addEvent(c,q,function(){return h.onMouseUp()})});["mousedown","touchstart"].forEach(function(q){return g.addEvent(e.renderTo,q,function(){h.isClickingChart=!0})});g.addEvent(e.renderTo,"mouseover",function(){h.pointerIsOverChart=!0});g.addEvent(e.renderTo,"mouseout",function(){h.pointerIsOverChart=!1})};f.prototype.update=function(e){var k=
this.chart.options.accessibility;k=k&&k.keyboardNavigation;var h=this.components;this.updateContainerTabindex();k&&k.enabled&&e&&e.length?(this.modules=e.reduce(function(g,q){q=h[q].getKeyboardNavigation();return g.concat(q)},[]),this.updateExitAnchor()):(this.modules=[],this.currentModuleIx=0,this.removeExitAnchor())};f.prototype.onFocus=function(e){var k=this.chart;e=e.relatedTarget&&k.container.contains(e.relatedTarget);this.exiting||this.tabbingInBackwards||this.isClickingChart||e||!this.modules[0]||
this.modules[0].init(1);this.exiting=!1};f.prototype.onMouseUp=function(){delete this.isClickingChart;if(!this.keyboardReset&&!this.pointerIsOverChart){var e=this.chart,k=this.modules&&this.modules[this.currentModuleIx||0];k&&k.terminate&&k.terminate();e.focusElement&&e.focusElement.removeFocusBorder();this.currentModuleIx=0;this.keyboardReset=!0}};f.prototype.onKeydown=function(e){e=e||p.event;var k=this.modules&&this.modules.length&&this.modules[this.currentModuleIx],h;this.exiting=this.keyboardReset=
!1;if(k){var g=k.run(e);g===k.response.success?h=!0:g===k.response.prev?h=this.prev():g===k.response.next&&(h=this.next());h&&(e.preventDefault(),e.stopPropagation())}};f.prototype.prev=function(){return this.move(-1)};f.prototype.next=function(){return this.move(1)};f.prototype.move=function(e){var k=this.modules&&this.modules[this.currentModuleIx];k&&k.terminate&&k.terminate(e);this.chart.focusElement&&this.chart.focusElement.removeFocusBorder();this.currentModuleIx+=e;if(k=this.modules&&this.modules[this.currentModuleIx]){if(k.validate&&
!k.validate())return this.move(e);if(k.init)return k.init(e),!0}this.currentModuleIx=0;this.exiting=!0;0<e?this.exitAnchor.focus():this.tabindexContainer.focus();return!1};f.prototype.updateExitAnchor=function(){var e=b("highcharts-end-of-chart-marker-"+this.chart.index);this.removeExitAnchor();e?(this.makeElementAnExitAnchor(e),this.exitAnchor=e):this.createExitAnchor()};f.prototype.updateContainerTabindex=function(){var e=this.chart.options.accessibility;e=e&&e.keyboardNavigation;e=!(e&&!1===e.enabled);
var k=this.chart,h=k.container;k.renderTo.hasAttribute("tabindex")&&(h.removeAttribute("tabindex"),h=k.renderTo);this.tabindexContainer=h;var g=h.getAttribute("tabindex");e&&!g?h.setAttribute("tabindex","0"):e||k.container.removeAttribute("tabindex")};f.prototype.makeElementAnExitAnchor=function(e){var k=this.tabindexContainer.getAttribute("tabindex")||0;e.setAttribute("class","highcharts-exit-anchor");e.setAttribute("tabindex",k);e.setAttribute("aria-hidden",!1);this.addExitAnchorEventsToEl(e)};
f.prototype.createExitAnchor=function(){var e=this.chart,k=this.exitAnchor=c.createElement("div");e.renderTo.appendChild(k);this.makeElementAnExitAnchor(k)};f.prototype.removeExitAnchor=function(){this.exitAnchor&&this.exitAnchor.parentNode&&(this.exitAnchor.parentNode.removeChild(this.exitAnchor),delete this.exitAnchor)};f.prototype.addExitAnchorEventsToEl=function(e){var k=this.chart,h=this;this.eventProvider.addEvent(e,"focus",function(g){g=g||p.event;g.relatedTarget&&k.container.contains(g.relatedTarget)||
h.exiting?h.exiting=!1:(h.tabbingInBackwards=!0,h.tabindexContainer.focus(),delete h.tabbingInBackwards,g.preventDefault(),h.modules&&h.modules.length&&(h.currentModuleIx=h.modules.length-1,(g=h.modules[h.currentModuleIx])&&g.validate&&!g.validate()?h.prev():g&&g.init(-1)))})};f.prototype.destroy=function(){this.removeExitAnchor();this.eventProvider.removeAddedEvents();this.chart.container.removeAttribute("tabindex")};return f}();(function(f){function e(){var g=this;a(this,"dismissPopupContent",{},
function(){g.tooltip&&g.tooltip.hide(0);g.hideExportMenu()})}function k(g){27===(g.which||g.keyCode)&&I.charts&&I.charts.forEach(function(q){q&&q.dismissPopupContent&&q.dismissPopupContent()})}var h=[];f.compose=function(g){z.compose(g);-1===h.indexOf(g)&&(h.push(g),g.prototype.dismissPopupContent=e);-1===h.indexOf(c)&&(h.push(c),d(c,"keydown",k));return g}})(m||(m={}));return m});Y(M,"Accessibility/Components/LegendComponent.js",[M["Core/Animation/AnimationUtilities.js"],M["Core/Chart/Chart.js"],
M["Core/Globals.js"],M["Core/Legend/Legend.js"],M["Core/Utilities.js"],M["Accessibility/AccessibilityComponent.js"],M["Accessibility/KeyboardNavigationHandler.js"],M["Accessibility/Utils/HTMLUtilities.js"],M["Accessibility/Utils/ChartUtilities.js"]],function(I,z,m,n,l,c,p,d,a){function b(y){var w=y.legend&&y.legend.allItems,A=y.options.legend.accessibility||{};return!(!w||!w.length||y.colorAxis&&y.colorAxis.length||!1===A.enabled)}var f=I.animObject,e=l.addEvent;I=l.extend;var k=l.fireEvent,h=l.isNumber,
g=l.pick,q=l.syncTimeout,x=d.stripHTMLTagsFromString,u=d.addClass,r=d.removeClass,t=a.getChartTitle;z.prototype.highlightLegendItem=function(y){var w=this.legend.allItems,A=this.accessibility&&this.accessibility.components.legend.highlightedLegendItemIx,F=w[y];return F?(h(A)&&w[A]&&k(w[A].legendGroup.element,"mouseout"),w=this.legend,y=w.allItems[y].pageIx,A=w.currentPage,"undefined"!==typeof y&&y+1!==A&&w.scroll(1+y-A),y=F.legendItem,w=F.a11yProxyElement&&F.a11yProxyElement.buttonElement,y&&y.element&&
w&&this.setFocusToElement(y,w),F.legendGroup&&k(F.legendGroup.element,"mouseover"),!0):!1};e(n,"afterColorizeItem",function(y){var w=y.item;this.chart.options.accessibility.enabled&&w&&w.a11yProxyElement&&w.a11yProxyElement.buttonElement.setAttribute("aria-pressed",y.visible?"true":"false")});z=function(){};z.prototype=new c;I(z.prototype,{init:function(){var y=this;this.recreateProxies();this.addEvent(n,"afterScroll",function(){this.chart===y.chart&&(y.proxyProvider.updateGroupProxyElementPositions("legend"),
y.updateLegendItemProxyVisibility(),-1<y.highlightedLegendItemIx&&this.chart.highlightLegendItem(y.highlightedLegendItemIx))});this.addEvent(n,"afterPositionItem",function(w){this.chart===y.chart&&this.chart.renderer&&y.updateProxyPositionForItem(w.item)});this.addEvent(n,"afterRender",function(){this.chart===y.chart&&this.chart.renderer&&y.recreateProxies()&&q(function(){return y.proxyProvider.updateGroupProxyElementPositions("legend")},f(g(this.chart.renderer.globalAnimation,!0)).duration)})},updateLegendItemProxyVisibility:function(){var y=
this.chart,w=y.legend,A=w.currentPage||1,F=w.clipHeight||0;(w.allItems||[]).forEach(function(C){if(C.a11yProxyElement){var J=C.a11yProxyElement.element,B=!1;if(w.pages&&w.pages.length){B=C.pageIx||0;var G=C._legendItemPos?C._legendItemPos[1]:0;C=C.legendItem?Math.round(C.legendItem.getBBox().height):0;B=G+C-w.pages[B]>F||B!==A-1}B?y.styledMode?u(J,"highcharts-a11y-invisible"):J.style.visibility="hidden":(r(J,"highcharts-a11y-invisible"),J.style.visibility="")}})},onChartRender:function(){b(this.chart)||
this.removeProxies()},highlightAdjacentLegendPage:function(y){var w=this.chart,A=w.legend;y=(A.currentPage||1)+y;var F=A.pages||[];if(0<y&&y<=F.length){F=A.allItems.length;for(var C=0;C<F;++C)if(A.allItems[C].pageIx+1===y){w.highlightLegendItem(C)&&(this.highlightedLegendItemIx=C);break}}},updateProxyPositionForItem:function(y){y.a11yProxyElement&&y.a11yProxyElement.refreshPosition()},recreateProxies:function(){this.removeProxies();return b(this.chart)?(this.addLegendProxyGroup(),this.proxyLegendItems(),
this.updateLegendItemProxyVisibility(),this.updateLegendTitle(),!0):!1},removeProxies:function(){this.proxyProvider.removeGroup("legend")},updateLegendTitle:function(){var y=this.chart,w=x((y.legend&&y.legend.options.title&&y.legend.options.title.text||"").replace(/<br ?\/?>/g," "));y=y.langFormat("accessibility.legend.legendLabel"+(w?"":"NoTitle"),{chart:y,legendTitle:w,chartTitle:t(y)});this.proxyProvider.updateGroupAttrs("legend",{"aria-label":y})},addLegendProxyGroup:function(){this.proxyProvider.addGroup("legend",
"ul",{"aria-label":"_placeholder_",role:"all"===this.chart.options.accessibility.landmarkVerbosity?"region":null})},proxyLegendItems:function(){var y=this;(this.chart.legend&&this.chart.legend.allItems||[]).forEach(function(w){w.legendItem&&w.legendItem.element&&y.proxyLegendItem(w)})},proxyLegendItem:function(y){if(y.legendItem&&y.legendGroup){var w=this.chart.langFormat("accessibility.legend.legendItem",{chart:this.chart,itemName:x(y.name),item:y});y.a11yProxyElement=this.proxyProvider.addProxyElement("legend",
{click:y.legendItem,visual:(y.legendGroup.div?y.legendItem:y.legendGroup).element},{tabindex:-1,"aria-pressed":y.visible,"aria-label":w})}},getKeyboardNavigation:function(){var y=this.keyCodes,w=this,A=this.chart;return new p(A,{keyCodeMap:[[[y.left,y.right,y.up,y.down],function(F){return w.onKbdArrowKey(this,F)}],[[y.enter,y.space],function(F){return m.isFirefox&&F===y.space?this.response.success:w.onKbdClick(this)}],[[y.pageDown,y.pageUp],function(F){w.highlightAdjacentLegendPage(F===y.pageDown?
1:-1);return this.response.success}]],validate:function(){return w.shouldHaveLegendNavigation()},init:function(F){return w.onKbdNavigationInit(F)},terminate:function(){w.highlightedLegendItemIx=-1;A.legend.allItems.forEach(function(F){return F.setState("",!0)})}})},onKbdArrowKey:function(y,w){var A=this.keyCodes,F=y.response,C=this.chart,J=C.options.accessibility,B=C.legend.allItems.length;w=w===A.left||w===A.up?-1:1;return C.highlightLegendItem(this.highlightedLegendItemIx+w)?(this.highlightedLegendItemIx+=
w,F.success):1<B&&J.keyboardNavigation.wrapAround?(y.init(w),F.success):F[0<w?"next":"prev"]},onKbdClick:function(y){var w=this.chart.legend.allItems[this.highlightedLegendItemIx];w&&w.a11yProxyElement&&w.a11yProxyElement.click();return y.response.success},shouldHaveLegendNavigation:function(){var y=this.chart,w=y.colorAxis&&y.colorAxis.length,A=(y.options.legend||{}).accessibility||{};return!!(y.legend&&y.legend.allItems&&y.legend.display&&!w&&A.enabled&&A.keyboardNavigation&&A.keyboardNavigation.enabled)},
onKbdNavigationInit:function(y){var w=this.chart,A=w.legend.allItems.length-1;y=0<y?0:A;w.highlightLegendItem(y);this.highlightedLegendItemIx=y}});return z});Y(M,"Accessibility/Components/SeriesComponent/SeriesDescriber.js",[M["Accessibility/Components/AnnotationsA11y.js"],M["Accessibility/Utils/ChartUtilities.js"],M["Core/FormatUtilities.js"],M["Accessibility/Utils/HTMLUtilities.js"],M["Core/Utilities.js"]],function(I,z,m,n,l){function c(v){var D=v.index;return v.series&&v.series.data&&E(D)?J(v.series.data,
function(K){return!!(K&&"undefined"!==typeof K.index&&K.index>D&&K.graphic&&K.graphic.element)})||null:null}function p(v){var D=v.chart.options.accessibility.series.pointDescriptionEnabledThreshold;return!!(!1!==D&&v.points&&v.points.length>=D)}function d(v){var D=v.options.accessibility||{};return!p(v)&&!D.exposeAsGroupOnly}function a(v){var D=v.chart.options.accessibility.keyboardNavigation.seriesNavigation;return!(!v.points||!(v.points.length<D.pointNavigationEnabledThreshold||!1===D.pointNavigationEnabledThreshold))}
function b(v,D){var K=v.series,P=K.chart;v=P.options.accessibility.point||{};var Q=K.options.accessibility&&K.options.accessibility.point||{};K=K.tooltipOptions||{};P=P.options.lang;return B(D)?A(D,Q.valueDecimals||v.valueDecimals||K.valueDecimals||-1,P.decimalPoint,P.accessibility.thousandsSep||P.thousandsSep):D}function f(v){var D=(v.options.accessibility||{}).description;return D&&v.chart.langFormat("accessibility.series.description",{description:D,series:v})||""}function e(v,D){return v.chart.langFormat("accessibility.series."+
D+"Description",{name:u(v[D]),series:v})}function k(v,D,K){var P=D||"",Q=K||"";return v.series.pointArrayMap.reduce(function(N,T){N+=N.length?", ":"";var H=b(v,G(v[T],v.options[T]));return N+(T+": "+P+H+Q)},"")}function h(v){var D=v.series,K=D.chart,P=v.series,Q=P.chart,N=P.options.accessibility;N=N&&N.point&&N.point.valueDescriptionFormat||Q.options.accessibility.point.valueDescriptionFormat;if(P=G(P.xAxis&&P.xAxis.options.accessibility&&P.xAxis.options.accessibility.enabled,!Q.angular)){var T=v.series,
H=T.chart,L=T.options.accessibility&&T.options.accessibility.point||{},R=H.options.accessibility.point||{};(T=T.xAxis&&T.xAxis.dateTime)?(T=T.getXDateFormat(v.x||0,H.options.tooltip.dateTimeLabelFormats),L=L.dateFormatter&&L.dateFormatter(v)||R.dateFormatter&&R.dateFormatter(v)||L.dateFormat||R.dateFormat||T,H=H.time.dateFormat(L,v.x||0,void 0)):H=void 0;L=(v.series.xAxis||{}).categories&&E(v.category)&&(""+v.category).replace("\x3cbr/\x3e"," ");R=v.id&&0>v.id.indexOf("highcharts-");T="x, "+v.x;H=
v.name||H||L||(R?v.id:T)}else H="";L=E(v.index)?v.index+1:"";R=v.series;var U=R.chart.options.accessibility.point||{},V=R.chart.options.accessibility&&R.chart.options.accessibility.point||{},Z=R.tooltipOptions||{};T=V.valuePrefix||U.valuePrefix||Z.valuePrefix||"";U=V.valueSuffix||U.valueSuffix||Z.valueSuffix||"";V=b(v,v["undefined"!==typeof v.value?"value":"y"]);R=v.isNull?R.chart.langFormat("accessibility.series.nullPointValue",{point:v}):R.pointArrayMap?k(v,T,U):T+V+U;Q=w(N,{point:v,index:L,xDescription:H,
value:R,separator:P?", ":""},Q);N=(N=v.options&&v.options.accessibility&&v.options.accessibility.description)?" "+N:"";D=1<K.series.length&&D.name?" "+D.name+".":"";K=v.series.chart;P=x(v);H={point:v,annotations:P};K=P.length?K.langFormat("accessibility.series.pointAnnotationsDescription",H):"";v.accessibility=v.accessibility||{};v.accessibility.valueDescription=Q;return Q+N+D+(K?" "+K:"")}function g(v){var D=d(v),K=a(v);(D||K)&&v.points.forEach(function(P){var Q;if(!(Q=P.graphic&&P.graphic.element)&&
(Q=P.series&&P.series.is("sunburst"),Q=P.isNull&&!Q)){var N=P.series,T=c(P);N=(Q=T&&T.graphic)?Q.parentGroup:N.graph||N.group;T=T?{x:G(P.plotX,T.plotX,0),y:G(P.plotY,T.plotY,0)}:{x:G(P.plotX,0),y:G(P.plotY,0)};T=P.series.chart.renderer.rect(T.x,T.y,1,1);T.attr({"class":"highcharts-a11y-dummy-point",fill:"none",opacity:0,"fill-opacity":0,"stroke-opacity":0});N&&N.element?(P.graphic=T,P.hasDummyGraphic=!0,T.add(N),N.element.insertBefore(T.element,Q?Q.element:null),Q=T.element):Q=void 0}N=P.options&&
P.options.accessibility&&!1===P.options.accessibility.enabled;Q&&(Q.setAttribute("tabindex","-1"),v.chart.styledMode||(Q.style.outline="none"),D&&!N?(T=P.series,N=T.chart.options.accessibility.point||{},T=T.options.accessibility&&T.options.accessibility.point||{},P=C(T.descriptionFormatter&&T.descriptionFormatter(P)||N.descriptionFormatter&&N.descriptionFormatter(P)||h(P)),Q.setAttribute("role","img"),Q.setAttribute("aria-label",P)):Q.setAttribute("aria-hidden",!0))})}function q(v){var D=v.chart,
K=D.types||[],P=f(v),Q=function(L){return D[L]&&1<D[L].length&&v[L]},N=e(v,"xAxis"),T=e(v,"yAxis"),H={name:v.name||"",ix:v.index+1,numSeries:D.series&&D.series.length,numPoints:v.points&&v.points.length,series:v};K=1<K.length?"Combination":"";return(D.langFormat("accessibility.series.summary."+v.type+K,H)||D.langFormat("accessibility.series.summary.default"+K,H))+(P?" "+P:"")+(Q("yAxis")?" "+T:"")+(Q("xAxis")?" "+N:"")}var x=I.getPointAnnotationTexts,u=z.getAxisDescription,r=z.getSeriesFirstPointElement,
t=z.getSeriesA11yElement,y=z.unhideChartElementFromAT,w=m.format,A=m.numberFormat,F=n.reverseChildNodes,C=n.stripHTMLTagsFromString,J=l.find,B=l.isNumber,G=l.pick,E=l.defined;return{defaultPointDescriptionFormatter:h,defaultSeriesDescriptionFormatter:q,describeSeries:function(v){var D=v.chart,K=r(v),P=t(v),Q=D.is3d&&D.is3d();if(P){P.lastChild!==K||Q||F(P);g(v);y(D,P);Q=v.chart;D=Q.options.chart;K=1<Q.series.length;Q=Q.options.accessibility.series.describeSingleSeries;var N=(v.options.accessibility||
{}).exposeAsGroupOnly;D.options3d&&D.options3d.enabled&&K||!(K||Q||N||p(v))?P.setAttribute("aria-label",""):(D=v.chart.options.accessibility,K=D.landmarkVerbosity,(v.options.accessibility||{}).exposeAsGroupOnly?P.setAttribute("role","img"):"all"===K&&P.setAttribute("role","region"),P.setAttribute("tabindex","-1"),v.chart.styledMode||(P.style.outline="none"),P.setAttribute("aria-label",C(D.series.descriptionFormatter&&D.series.descriptionFormatter(v)||q(v))))}}}});Y(M,"Accessibility/Components/SeriesComponent/NewDataAnnouncer.js",
[M["Core/Globals.js"],M["Core/Utilities.js"],M["Accessibility/Utils/Announcer.js"],M["Accessibility/Utils/ChartUtilities.js"],M["Accessibility/Utils/EventProvider.js"],M["Accessibility/Components/SeriesComponent/SeriesDescriber.js"]],function(I,z,m,n,l,c){function p(h){var g=h.series.data.filter(function(q){return h.x===q.x&&h.y===q.y});return 1===g.length?g[0]:h}function d(h,g){var q=(h||[]).concat(g||[]).reduce(function(x,u){x[u.name+u.index]=u;return x},{});return Object.keys(q).map(function(x){return q[x]})}
var a=z.addEvent,b=z.defined,f=n.getChartTitle,e=c.defaultPointDescriptionFormatter,k=c.defaultSeriesDescriptionFormatter;z=function(){function h(g){this.announcer=void 0;this.dirty={allSeries:{}};this.eventProvider=void 0;this.lastAnnouncementTime=0;this.chart=g}h.prototype.init=function(){var g=this.chart,q=g.options.accessibility.announceNewData.interruptUser?"assertive":"polite";this.lastAnnouncementTime=0;this.dirty={allSeries:{}};this.eventProvider=new l;this.announcer=new m(g,q);this.addEventListeners()};
h.prototype.destroy=function(){this.eventProvider.removeAddedEvents();this.announcer.destroy()};h.prototype.addEventListeners=function(){var g=this,q=this.chart,x=this.eventProvider;x.addEvent(q,"afterDrilldown",function(){g.lastAnnouncementTime=0});x.addEvent(q,"afterAddSeries",function(u){g.onSeriesAdded(u.series)});x.addEvent(q,"redraw",function(){g.announceDirtyData()})};h.prototype.onSeriesAdded=function(g){this.chart.options.accessibility.announceNewData.enabled&&(this.dirty.hasDirty=!0,this.dirty.allSeries[g.name+
g.index]=g,this.dirty.newSeries=b(this.dirty.newSeries)?void 0:g)};h.prototype.announceDirtyData=function(){var g=this;if(this.chart.options.accessibility.announceNewData&&this.dirty.hasDirty){var q=this.dirty.newPoint;q&&(q=p(q));this.queueAnnouncement(Object.keys(this.dirty.allSeries).map(function(x){return g.dirty.allSeries[x]}),this.dirty.newSeries,q);this.dirty={allSeries:{}}}};h.prototype.queueAnnouncement=function(g,q,x){var u=this,r=this.chart.options.accessibility.announceNewData;if(r.enabled){var t=
+new Date;r=Math.max(0,r.minAnnounceInterval-(t-this.lastAnnouncementTime));g=d(this.queuedAnnouncement&&this.queuedAnnouncement.series,g);if(q=this.buildAnnouncementMessage(g,q,x))this.queuedAnnouncement&&clearTimeout(this.queuedAnnouncementTimer),this.queuedAnnouncement={time:t,message:q,series:g},this.queuedAnnouncementTimer=setTimeout(function(){u&&u.announcer&&(u.lastAnnouncementTime=+new Date,u.announcer.announce(u.queuedAnnouncement.message),delete u.queuedAnnouncement,delete u.queuedAnnouncementTimer)},
r)}};h.prototype.buildAnnouncementMessage=function(g,q,x){var u=this.chart,r=u.options.accessibility.announceNewData;if(r.announcementFormatter&&(g=r.announcementFormatter(g,q,x),!1!==g))return g.length?g:null;g=I.charts&&1<I.charts.length?"Multiple":"Single";g=q?"newSeriesAnnounce"+g:x?"newPointAnnounce"+g:"newDataAnnounce";r=f(u);return u.langFormat("accessibility.announceNewData."+g,{chartTitle:r,seriesDesc:q?k(q):null,pointDesc:x?e(x):null,point:x,series:q})};return h}();(function(h){function g(x){var u=
this.chart,r=this.newDataAnnouncer;r&&r.chart===u&&u.options.accessibility.announceNewData.enabled&&(r.dirty.newPoint=b(r.dirty.newPoint)?void 0:x.point)}function q(){var x=this.chart,u=this.newDataAnnouncer;u&&u.chart===x&&x.options.accessibility.announceNewData.enabled&&(u.dirty.hasDirty=!0,u.dirty.allSeries[this.name+this.index]=this)}h.composedClasses=[];h.compose=function(x){-1===h.composedClasses.indexOf(x)&&(h.composedClasses.push(x),a(x,"addPoint",g),a(x,"updatedData",q))}})(z||(z={}));return z});
Y(M,"Accessibility/ProxyElement.js",[M["Core/Globals.js"],M["Core/Utilities.js"],M["Accessibility/Utils/EventProvider.js"],M["Accessibility/Utils/ChartUtilities.js"],M["Accessibility/Utils/HTMLUtilities.js"]],function(I,z,m,n,l){var c=I.doc,p=z.attr,d=z.css,a=z.merge,b=n.fireEventOnWrappedOrUnwrappedElement,f=l.cloneMouseEvent,e=l.cloneTouchEvent,k=l.getFakeMouseEvent,h=l.removeElement;return function(){function g(q,x,u,r){this.chart=q;this.target=x;this.groupType=u;this.eventProvider=new m;u="ul"===
u?c.createElement("li"):null;var t=this.buttonElement=c.createElement("button");q.styledMode||this.hideButtonVisually(t);u?(u.appendChild(t),this.element=u):this.element=t;this.updateTarget(x,r)}g.prototype.click=function(){var q=this.getTargetPosition();q.x+=q.width/2;q.y+=q.height/2;q=k("click",q);b(this.target.click,q)};g.prototype.updateTarget=function(q,x){this.target=q;this.updateCSSClassName();p(this.buttonElement,a({"aria-label":this.getTargetAttr(q.click,"aria-label")},x));this.eventProvider.removeAddedEvents();
this.addProxyEventsToButton(this.buttonElement,q.click);this.refreshPosition()};g.prototype.refreshPosition=function(){var q=this.getTargetPosition();d(this.buttonElement,{width:(q.width||1)+"px",height:(q.height||1)+"px",left:(Math.round(q.x)||0)+"px",top:(Math.round(q.y)||0)+"px"})};g.prototype.remove=function(){this.eventProvider.removeAddedEvents();h(this.element)};g.prototype.updateCSSClassName=function(){var q=this.chart.legend;q=q.group&&q.group.div;q=-1<(q&&q.className||"").indexOf("highcharts-no-tooltip");
var x=-1<(this.getTargetAttr(this.target.click,"class")||"").indexOf("highcharts-no-tooltip");this.buttonElement.className=q||x?"highcharts-a11y-proxy-button highcharts-no-tooltip":"highcharts-a11y-proxy-button"};g.prototype.addProxyEventsToButton=function(q,x){var u=this;"click touchstart touchend touchcancel touchmove mouseover mouseenter mouseleave mouseout".split(" ").forEach(function(r){var t=0===r.indexOf("touch");u.eventProvider.addEvent(q,r,function(y){var w=t?e(y):f(y);x&&b(x,w);y.stopPropagation();
t||y.preventDefault()},{passive:!1})})};g.prototype.hideButtonVisually=function(q){d(q,{borderWidth:0,backgroundColor:"transparent",cursor:"pointer",outline:"none",opacity:.001,filter:"alpha(opacity\x3d1)",zIndex:999,overflow:"hidden",padding:0,margin:0,display:"block",position:"absolute","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity\x3d1)"})};g.prototype.getTargetPosition=function(){var q=this.target.click;q=q.element?q.element:q;var x=this.target.visual||q;return(q=this.chart.renderTo)&&
x&&x.getBoundingClientRect?(x=x.getBoundingClientRect(),q=q.getBoundingClientRect(),{x:x.left-q.left,y:x.top-q.top,width:x.right-x.left,height:x.bottom-x.top}):{x:0,y:0,width:1,height:1}};g.prototype.getTargetAttr=function(q,x){return q.element?q.element.getAttribute(x):q.getAttribute(x)};return g}()});Y(M,"Accessibility/ProxyProvider.js",[M["Core/Globals.js"],M["Core/Utilities.js"],M["Accessibility/Utils/ChartUtilities.js"],M["Accessibility/Utils/DOMElementProvider.js"],M["Accessibility/Utils/HTMLUtilities.js"],
M["Accessibility/ProxyElement.js"]],function(I,z,m,n,l,c){var p=I.doc,d=z.attr,a=z.css,b=m.unhideChartElementFromAT,f=l.removeElement,e=l.removeChildNodes;return function(){function k(h){this.chart=h;this.domElementProvider=new n;this.groups={};this.groupOrder=[];this.beforeChartProxyPosContainer=this.createProxyPosContainer("before");this.afterChartProxyPosContainer=this.createProxyPosContainer("after");this.update()}k.prototype.addProxyElement=function(h,g,q){var x=this.groups[h];if(!x)throw Error("ProxyProvider.addProxyElement: Invalid group key "+
h);h=new c(this.chart,g,x.type,q);x.proxyContainerElement.appendChild(h.element);x.proxyElements.push(h);return h};k.prototype.addGroup=function(h,g,q){if(!this.groups[h]){var x=this.domElementProvider.createElement(g);if(q&&q.role&&"div"!==g){var u=this.domElementProvider.createElement("div");u.appendChild(x)}else u=x;u.className="highcharts-a11y-proxy-group highcharts-a11y-proxy-group-"+h.replace(/\W/g,"-");this.groups[h]={proxyContainerElement:x,groupElement:u,type:g,proxyElements:[]};d(u,q||{});
"ul"===g&&(this.chart.styledMode||(x.style.listStyle="none"),x.setAttribute("role","list"));this.afterChartProxyPosContainer.appendChild(u);this.updateGroupOrder(this.groupOrder)}};k.prototype.updateGroupAttrs=function(h,g){var q=this.groups[h];if(!q)throw Error("ProxyProvider.updateGroupAttrs: Invalid group key "+h);d(q.groupElement,g)};k.prototype.updateGroupOrder=function(h){var g=this;this.groupOrder=h.slice();if(!this.isDOMOrderGroupOrder()){var q=h.indexOf("series"),x=-1<q?h.slice(0,q):h,u=
-1<q?h.slice(q+1):[];h=p.activeElement;["before","after"].forEach(function(r){var t=g["before"===r?"beforeChartProxyPosContainer":"afterChartProxyPosContainer"];r="before"===r?x:u;e(t);r.forEach(function(y){(y=g.groups[y])&&t.appendChild(y.groupElement)})});(this.beforeChartProxyPosContainer.contains(h)||this.afterChartProxyPosContainer.contains(h))&&h&&h.focus&&h.focus()}};k.prototype.clearGroup=function(h){var g=this.groups[h];if(!g)throw Error("ProxyProvider.clearGroup: Invalid group key "+h);
e(g.proxyContainerElement)};k.prototype.removeGroup=function(h){var g=this.groups[h];g&&(f(g.groupElement),delete this.groups[h])};k.prototype.update=function(){this.updatePosContainerPositions();this.updateGroupOrder(this.groupOrder);this.updateProxyElementPositions()};k.prototype.updateProxyElementPositions=function(){Object.keys(this.groups).forEach(this.updateGroupProxyElementPositions.bind(this))};k.prototype.updateGroupProxyElementPositions=function(h){(h=this.groups[h])&&h.proxyElements.forEach(function(g){return g.refreshPosition()})};
k.prototype.destroy=function(){this.domElementProvider.destroyCreatedElements()};k.prototype.createProxyPosContainer=function(h){var g=this.domElementProvider.createElement("div");g.setAttribute("aria-hidden","false");g.className="highcharts-a11y-proxy-container"+(h?"-"+h:"");a(g,{top:"0",left:"0"});this.chart.styledMode||(g.style.whiteSpace="nowrap",g.style.position="absolute");return g};k.prototype.getCurrentGroupOrderInDOM=function(){var h=this,g=function(x){var u=[];x=x.children;for(var r=0;r<
x.length;++r){a:{for(var t=x[r],y=Object.keys(h.groups),w=y.length;w--;){var A=y[w],F=h.groups[A];if(F&&t===F.groupElement){t=A;break a}}t=void 0}t&&u.push(t)}return u},q=g(this.beforeChartProxyPosContainer);g=g(this.afterChartProxyPosContainer);q.push("series");return q.concat(g)};k.prototype.isDOMOrderGroupOrder=function(){var h=this,g=this.getCurrentGroupOrderInDOM(),q=this.groupOrder.filter(function(u){return"series"===u||!!h.groups[u]}),x=g.length;if(x!==q.length)return!1;for(;x--;)if(g[x]!==
q[x])return!1;return!0};k.prototype.updatePosContainerPositions=function(){var h=this.chart,g=h.renderer.box;h.container.insertBefore(this.afterChartProxyPosContainer,g.nextSibling);h.container.insertBefore(this.beforeChartProxyPosContainer,g);b(this.chart,this.afterChartProxyPosContainer);b(this.chart,this.beforeChartProxyPosContainer)};return k}()});Y(M,"Extensions/RangeSelector.js",[M["Core/Axis/Axis.js"],M["Core/Chart/Chart.js"],M["Core/Globals.js"],M["Core/DefaultOptions.js"],M["Core/Renderer/SVG/SVGElement.js"],
M["Core/Utilities.js"]],function(I,z,m,n,l,c){function p(G){if(-1!==G.indexOf("%L"))return"text";var E="aAdewbBmoyY".split("").some(function(D){return-1!==G.indexOf("%"+D)}),v="HkIlMS".split("").some(function(D){return-1!==G.indexOf("%"+D)});return E&&v?"datetime-local":E?"date":v?"time":"text"}var d=n.defaultOptions,a=c.addEvent,b=c.createElement,f=c.css,e=c.defined,k=c.destroyObjectProperties,h=c.discardElement,g=c.extend,q=c.find,x=c.fireEvent,u=c.isNumber,r=c.merge,t=c.objectEach,y=c.pad,w=c.pick,
A=c.pInt,F=c.splat;g(d,{rangeSelector:{allButtonsEnabled:!1,buttons:void 0,buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%b %e, %Y",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},
inputStyle:{color:"#335cad",cursor:"pointer"},labelStyle:{color:"#666666"}}});g(d.lang,{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"\u2192"});var C=function(){function G(E){this.buttons=void 0;this.buttonOptions=G.prototype.defaultButtons;this.initialButtonGroupWidth=0;this.options=void 0;this.chart=E;this.init(E)}G.prototype.clickButton=function(E,v){var D=this.chart,K=this.buttonOptions[E],P=D.xAxis[0],Q=D.scroller&&D.scroller.getUnionExtremes()||P||{},N=Q.dataMin,T=Q.dataMax,
H=P&&Math.round(Math.min(P.max,w(T,P.max))),L=K.type;Q=K._range;var R,U=K.dataGrouping;if(null!==N&&null!==T){D.fixedRange=Q;this.setSelected(E);U&&(this.forcedDataGrouping=!0,I.prototype.setDataGrouping.call(P||{chart:this.chart},U,!1),this.frozenStates=K.preserveDataGrouping);if("month"===L||"year"===L)if(P){L={range:K,max:H,chart:D,dataMin:N,dataMax:T};var V=P.minFromRange.call(L);u(L.newMax)&&(H=L.newMax)}else Q=K;else if(Q)V=Math.max(H-Q,N),H=Math.min(V+Q,T);else if("ytd"===L)if(P)"undefined"===
typeof T&&(N=Number.MAX_VALUE,T=Number.MIN_VALUE,D.series.forEach(function(S){S=S.xData;N=Math.min(S[0],N);T=Math.max(S[S.length-1],T)}),v=!1),H=this.getYTDExtremes(T,N,D.time.useUTC),V=R=H.min,H=H.max;else{this.deferredYTDClick=E;return}else"all"===L&&P&&(D.navigator&&D.navigator.baseSeries[0]&&(D.navigator.baseSeries[0].xAxis.options.range=void 0),V=N,H=T);e(V)&&(V+=K._offsetMin);e(H)&&(H+=K._offsetMax);this.dropdown&&(this.dropdown.selectedIndex=E+1);if(P)P.setExtremes(V,H,w(v,!0),void 0,{trigger:"rangeSelectorButton",
rangeSelectorButton:K});else{var Z=F(D.options.xAxis)[0],O=Z.range;Z.range=Q;var W=Z.min;Z.min=R;a(D,"load",function(){Z.range=O;Z.min=W})}x(this,"afterBtnClick")}};G.prototype.setSelected=function(E){this.selected=this.options.selected=E};G.prototype.init=function(E){var v=this,D=E.options.rangeSelector,K=D.buttons||v.defaultButtons.slice(),P=D.selected,Q=function(){var N=v.minInput,T=v.maxInput;N&&N.blur&&x(N,"blur");T&&T.blur&&x(T,"blur")};v.chart=E;v.options=D;v.buttons=[];v.buttonOptions=K;this.eventsToUnbind=
[];this.eventsToUnbind.push(a(E.container,"mousedown",Q));this.eventsToUnbind.push(a(E,"resize",Q));K.forEach(v.computeButtonRange);"undefined"!==typeof P&&K[P]&&this.clickButton(P,!1);this.eventsToUnbind.push(a(E,"load",function(){E.xAxis&&E.xAxis[0]&&a(E.xAxis[0],"setExtremes",function(N){this.max-this.min!==E.fixedRange&&"rangeSelectorButton"!==N.trigger&&"updatedData"!==N.trigger&&v.forcedDataGrouping&&!v.frozenStates&&this.setDataGrouping(!1,!1)})}))};G.prototype.updateButtonStates=function(){var E=
this,v=this.chart,D=this.dropdown,K=v.xAxis[0],P=Math.round(K.max-K.min),Q=!K.hasVisibleSeries,N=v.scroller&&v.scroller.getUnionExtremes()||K,T=N.dataMin,H=N.dataMax;v=E.getYTDExtremes(H,T,v.time.useUTC);var L=v.min,R=v.max,U=E.selected,V=u(U),Z=E.options.allButtonsEnabled,O=E.buttons;E.buttonOptions.forEach(function(W,S){var aa=W._range,ba=W.type,fa=W.count||1,ea=O[S],ha=0,ka=W._offsetMax-W._offsetMin;W=S===U;var ra=aa>H-T,ta=aa<K.minRange,sa=!1,oa=!1;aa=aa===P;("month"===ba||"year"===ba)&&P+36E5>=
864E5*{month:28,year:365}[ba]*fa-ka&&P-36E5<=864E5*{month:31,year:366}[ba]*fa+ka?aa=!0:"ytd"===ba?(aa=R-L+ka===P,sa=!W):"all"===ba&&(aa=K.max-K.min>=H-T,oa=!W&&V&&aa);ba=!Z&&(ra||ta||oa||Q);fa=W&&aa||aa&&!V&&!sa||W&&E.frozenStates;ba?ha=3:fa&&(V=!0,ha=2);ea.state!==ha&&(ea.setState(ha),D&&(D.options[S+1].disabled=ba,2===ha&&(D.selectedIndex=S+1)),0===ha&&U===S&&E.setSelected())})};G.prototype.computeButtonRange=function(E){var v=E.type,D=E.count||1,K={millisecond:1,second:1E3,minute:6E4,hour:36E5,
day:864E5,week:6048E5};if(K[v])E._range=K[v]*D;else if("month"===v||"year"===v)E._range=864E5*{month:30,year:365}[v]*D;E._offsetMin=w(E.offsetMin,0);E._offsetMax=w(E.offsetMax,0);E._range+=E._offsetMax-E._offsetMin};G.prototype.getInputValue=function(E){E="min"===E?this.minInput:this.maxInput;var v=this.chart.options.rangeSelector,D=this.chart.time;return E?("text"===E.type&&v.inputDateParser||this.defaultInputDateParser)(E.value,D.useUTC,D):0};G.prototype.setInputValue=function(E,v){var D=this.options,
K=this.chart.time,P="min"===E?this.minInput:this.maxInput;E="min"===E?this.minDateBox:this.maxDateBox;if(P){var Q=P.getAttribute("data-hc-time");Q=e(Q)?Number(Q):void 0;e(v)&&(e(Q)&&P.setAttribute("data-hc-time-previous",Q),P.setAttribute("data-hc-time",v),Q=v);P.value=K.dateFormat(this.inputTypeFormats[P.type]||D.inputEditDateFormat,Q);E&&E.attr({text:K.dateFormat(D.inputDateFormat,Q)})}};G.prototype.setInputExtremes=function(E,v,D){if(E="min"===E?this.minInput:this.maxInput){var K=this.inputTypeFormats[E.type],
P=this.chart.time;K&&(v=P.dateFormat(K,v),E.min!==v&&(E.min=v),D=P.dateFormat(K,D),E.max!==D&&(E.max=D))}};G.prototype.showInput=function(E){var v="min"===E?this.minDateBox:this.maxDateBox;if((E="min"===E?this.minInput:this.maxInput)&&v&&this.inputGroup){var D="text"===E.type,K=this.inputGroup,P=K.translateX;K=K.translateY;var Q=this.options.inputBoxWidth;f(E,{width:D?v.width+(Q?-2:20)+"px":"auto",height:D?v.height-2+"px":"auto",border:"2px solid silver"});D&&Q?f(E,{left:P+v.x+"px",top:K+"px"}):f(E,
{left:Math.min(Math.round(v.x+P-(E.offsetWidth-v.width)/2),this.chart.chartWidth-E.offsetWidth)+"px",top:K-(E.offsetHeight-v.height)/2+"px"})}};G.prototype.hideInput=function(E){(E="min"===E?this.minInput:this.maxInput)&&f(E,{top:"-9999em",border:0,width:"1px",height:"1px"})};G.prototype.defaultInputDateParser=function(E,v,D){var K=E.split("/").join("-").split(" ").join("T");-1===K.indexOf("T")&&(K+="T00:00");if(v)K+="Z";else{var P;if(P=m.isSafari)P=K,P=!(6<P.length&&(P.lastIndexOf("-")===P.length-
6||P.lastIndexOf("+")===P.length-6));P&&(P=(new Date(K)).getTimezoneOffset()/60,K+=0>=P?"+"+y(-P)+":00":"-"+y(P)+":00")}K=Date.parse(K);u(K)||(E=E.split("-"),K=Date.UTC(A(E[0]),A(E[1])-1,A(E[2])));D&&v&&u(K)&&(K+=D.getTimezoneOffset(K));return K};G.prototype.drawInput=function(E){function v(){var Z=Q.getInputValue(E),O=D.xAxis[0],W=D.scroller&&D.scroller.xAxis?D.scroller.xAxis:O,S=W.dataMin;W=W.dataMax;var aa=Q.maxInput,ba=Q.minInput;Z!==Number(U.getAttribute("data-hc-time-previous"))&&u(Z)&&(U.setAttribute("data-hc-time-previous",
Z),L&&aa&&u(S)?Z>Number(aa.getAttribute("data-hc-time"))?Z=void 0:Z<S&&(Z=S):ba&&u(W)&&(Z<Number(ba.getAttribute("data-hc-time"))?Z=void 0:Z>W&&(Z=W)),"undefined"!==typeof Z&&O.setExtremes(L?Z:O.min,L?O.max:Z,void 0,void 0,{trigger:"rangeSelectorInput"}))}var D=this.chart,K=this.div,P=this.inputGroup,Q=this,N=D.renderer.style||{},T=D.renderer,H=D.options.rangeSelector,L="min"===E,R=d.lang[L?"rangeSelectorFrom":"rangeSelectorTo"]||"";R=T.label(R,0).addClass("highcharts-range-label").attr({padding:R?
2:0,height:R?H.inputBoxHeight:0}).add(P);T=T.label("",0).addClass("highcharts-range-input").attr({padding:2,width:H.inputBoxWidth,height:H.inputBoxHeight,"text-align":"center"}).on("click",function(){Q.showInput(E);Q[E+"Input"].focus()});D.styledMode||T.attr({stroke:H.inputBoxBorderColor,"stroke-width":1});T.add(P);var U=b("input",{name:E,className:"highcharts-range-selector"},void 0,K);U.setAttribute("type",p(H.inputDateFormat||"%b %e, %Y"));D.styledMode||(R.css(r(N,H.labelStyle)),T.css(r({color:"#333333"},
N,H.inputStyle)),f(U,g({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:N.fontSize,fontFamily:N.fontFamily,top:"-9999em"},H.inputStyle)));U.onfocus=function(){Q.showInput(E)};U.onblur=function(){U===m.doc.activeElement&&v();Q.hideInput(E);Q.setInputValue(E);U.blur()};var V=!1;U.onchange=function(){V||(v(),Q.hideInput(E),U.blur())};U.onkeypress=function(Z){13===Z.keyCode&&v()};U.onkeydown=function(Z){V=!0;38!==Z.keyCode&&
40!==Z.keyCode||v()};U.onkeyup=function(){V=!1};return{dateBox:T,input:U,label:R}};G.prototype.getPosition=function(){var E=this.chart,v=E.options.rangeSelector;E="top"===v.verticalAlign?E.plotTop-E.axisOffset[0]:0;return{buttonTop:E+v.buttonPosition.y,inputTop:E+v.inputPosition.y-10}};G.prototype.getYTDExtremes=function(E,v,D){var K=this.chart.time,P=new K.Date(E),Q=K.get("FullYear",P);D=D?K.Date.UTC(Q,0,1):+new K.Date(Q,0,1);v=Math.max(v,D);P=P.getTime();return{max:Math.min(E||P,P),min:v}};G.prototype.render=
function(E,v){var D=this.chart,K=D.renderer,P=D.container,Q=D.options,N=Q.rangeSelector,T=w(Q.chart.style&&Q.chart.style.zIndex,0)+1;Q=N.inputEnabled;if(!1!==N.enabled){this.rendered||(this.group=K.g("range-selector-group").attr({zIndex:7}).add(),this.div=b("div",void 0,{position:"relative",height:0,zIndex:T}),this.buttonOptions.length&&this.renderButtons(),P.parentNode&&P.parentNode.insertBefore(this.div,P),Q&&(this.inputGroup=K.g("input-group").add(this.group),K=this.drawInput("min"),this.minDateBox=
K.dateBox,this.minLabel=K.label,this.minInput=K.input,K=this.drawInput("max"),this.maxDateBox=K.dateBox,this.maxLabel=K.label,this.maxInput=K.input));if(Q&&(this.setInputValue("min",E),this.setInputValue("max",v),E=D.scroller&&D.scroller.getUnionExtremes()||D.xAxis[0]||{},e(E.dataMin)&&e(E.dataMax)&&(D=D.xAxis[0].minRange||0,this.setInputExtremes("min",E.dataMin,Math.min(E.dataMax,this.getInputValue("max"))-D),this.setInputExtremes("max",Math.max(E.dataMin,this.getInputValue("min"))+D,E.dataMax)),
this.inputGroup)){var H=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(function(L){if(L){var R=L.getBBox().width;R&&(L.attr({x:H}),H+=R+N.inputSpacing)}})}this.alignElements();this.rendered=!0}};G.prototype.renderButtons=function(){var E=this,v=this.buttons,D=this.options,K=d.lang,P=this.chart.renderer,Q=r(D.buttonTheme),N=Q&&Q.states,T=Q.width||28;delete Q.width;delete Q.states;this.buttonGroup=P.g("range-selector-buttons").add(this.group);var H=this.dropdown=b("select",
void 0,{position:"absolute",width:"1px",height:"1px",padding:0,border:0,top:"-9999em",cursor:"pointer",opacity:1E-4},this.div);a(H,"touchstart",function(){H.style.fontSize="16px"});[[m.isMS?"mouseover":"mouseenter"],[m.isMS?"mouseout":"mouseleave"],["change","click"]].forEach(function(L){var R=L[0],U=L[1];a(H,R,function(){var V=v[E.currentButtonIndex()];V&&x(V.element,U||R)})});this.zoomText=P.label(K&&K.rangeSelectorZoom||"",0).attr({padding:D.buttonTheme.padding,height:D.buttonTheme.height,paddingLeft:0,
paddingRight:0}).add(this.buttonGroup);this.chart.styledMode||(this.zoomText.css(D.labelStyle),Q["stroke-width"]=w(Q["stroke-width"],0));b("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,H);this.buttonOptions.forEach(function(L,R){b("option",{textContent:L.title||L.text},void 0,H);v[R]=P.button(L.text,0,0,function(U){var V=L.events&&L.events.click,Z;V&&(Z=V.call(L,U));!1!==Z&&E.clickButton(R);E.isActive=!0},Q,N&&N.hover,N&&N.select,N&&N.disabled).attr({"text-align":"center",width:T}).add(E.buttonGroup);
L.title&&v[R].attr("title",L.title)})};G.prototype.alignElements=function(){var E=this,v=this.buttonGroup,D=this.buttons,K=this.chart,P=this.group,Q=this.inputGroup,N=this.options,T=this.zoomText,H=K.options,L=H.exporting&&!1!==H.exporting.enabled&&H.navigation&&H.navigation.buttonOptions;H=N.buttonPosition;var R=N.inputPosition,U=N.verticalAlign,V=function(S,aa){return L&&E.titleCollision(K)&&"top"===U&&"right"===aa.align&&aa.y-S.getBBox().height-12<(L.y||0)+(L.height||0)+K.spacing[0]?-40:0},Z=K.plotLeft;
if(P&&H&&R){var O=H.x-K.spacing[3];if(v){this.positionButtons();if(!this.initialButtonGroupWidth){var W=0;T&&(W+=T.getBBox().width+5);D.forEach(function(S,aa){W+=S.width;aa!==D.length-1&&(W+=N.buttonSpacing)});this.initialButtonGroupWidth=W}Z-=K.spacing[3];this.updateButtonStates();T=V(v,H);this.alignButtonGroup(T);P.placed=v.placed=K.hasLoaded}v=0;Q&&(v=V(Q,R),"left"===R.align?O=Z:"right"===R.align&&(O=-Math.max(K.axisOffset[1],-v)),Q.align({y:R.y,width:Q.getBBox().width,align:R.align,x:R.x+O-2},
!0,K.spacingBox),Q.placed=K.hasLoaded);this.handleCollision(v);P.align({verticalAlign:U},!0,K.spacingBox);Q=P.alignAttr.translateY;v=P.getBBox().height+20;V=0;"bottom"===U&&(V=(V=K.legend&&K.legend.options)&&"bottom"===V.verticalAlign&&V.enabled&&!V.floating?K.legend.legendHeight+w(V.margin,10):0,v=v+V-20,V=Q-v-(N.floating?0:N.y)-(K.titleOffset?K.titleOffset[2]:0)-10);if("top"===U)N.floating&&(V=0),K.titleOffset&&K.titleOffset[0]&&(V=K.titleOffset[0]),V+=K.margin[0]-K.spacing[0]||0;else if("middle"===
U)if(R.y===H.y)V=Q;else if(R.y||H.y)V=0>R.y||0>H.y?V-Math.min(R.y,H.y):Q-v;P.translate(N.x,N.y+Math.floor(V));H=this.minInput;R=this.maxInput;Q=this.dropdown;N.inputEnabled&&H&&R&&(H.style.marginTop=P.translateY+"px",R.style.marginTop=P.translateY+"px");Q&&(Q.style.marginTop=P.translateY+"px")}};G.prototype.alignButtonGroup=function(E,v){var D=this.chart,K=this.buttonGroup,P=this.options.buttonPosition,Q=D.plotLeft-D.spacing[3],N=P.x-D.spacing[3];"right"===P.align?N+=E-Q:"center"===P.align&&(N-=Q/
2);K&&K.align({y:P.y,width:w(v,this.initialButtonGroupWidth),align:P.align,x:N},!0,D.spacingBox)};G.prototype.positionButtons=function(){var E=this.buttons,v=this.chart,D=this.options,K=this.zoomText,P=v.hasLoaded?"animate":"attr",Q=D.buttonPosition,N=v.plotLeft,T=N;K&&"hidden"!==K.visibility&&(K[P]({x:w(N+Q.x,N)}),T+=Q.x+K.getBBox().width+5);this.buttonOptions.forEach(function(H,L){if("hidden"!==E[L].visibility)E[L][P]({x:T}),T+=E[L].width+D.buttonSpacing;else E[L][P]({x:N})})};G.prototype.handleCollision=
function(E){var v=this,D=this.chart,K=this.buttonGroup,P=this.inputGroup,Q=this.options,N=Q.buttonPosition,T=Q.dropdown,H=Q.inputPosition;Q=function(){var U=0;v.buttons.forEach(function(V){V=V.getBBox();V.width>U&&(U=V.width)});return U};var L=function(U){if(P&&K){var V=P.alignAttr.translateX+P.alignOptions.x-E+P.getBBox().x+2,Z=P.alignOptions.width,O=K.alignAttr.translateX+K.getBBox().x;return O+U>V&&V+Z>O&&N.y<H.y+P.getBBox().height}return!1},R=function(){P&&K&&P.attr({translateX:P.alignAttr.translateX+
(D.axisOffset[1]>=-E?0:-E),translateY:P.alignAttr.translateY+K.getBBox().height+10})};if(K){if("always"===T){this.collapseButtons(E);L(Q())&&R();return}"never"===T&&this.expandButtons()}P&&K?H.align===N.align||L(this.initialButtonGroupWidth+20)?"responsive"===T?(this.collapseButtons(E),L(Q())&&R()):R():"responsive"===T&&this.expandButtons():K&&"responsive"===T&&(this.initialButtonGroupWidth>D.plotWidth?this.collapseButtons(E):this.expandButtons())};G.prototype.collapseButtons=function(E){var v=this.buttons,
D=this.buttonOptions,K=this.chart,P=this.dropdown,Q=this.options,N=this.zoomText,T=K.userOptions.rangeSelector&&K.userOptions.rangeSelector.buttonTheme||{},H=function(R){return{text:R?R+" \u25be":"\u25be",width:"auto",paddingLeft:w(Q.buttonTheme.paddingLeft,T.padding,8),paddingRight:w(Q.buttonTheme.paddingRight,T.padding,8)}};N&&N.hide();var L=!1;D.forEach(function(R,U){U=v[U];2!==U.state?U.hide():(U.show(),U.attr(H(R.text)),L=!0)});L||(P&&(P.selectedIndex=0),v[0].show(),v[0].attr(H(this.zoomText&&
this.zoomText.textStr)));D=Q.buttonPosition.align;this.positionButtons();"right"!==D&&"center"!==D||this.alignButtonGroup(E,v[this.currentButtonIndex()].getBBox().width);this.showDropdown()};G.prototype.expandButtons=function(){var E=this.buttons,v=this.buttonOptions,D=this.options,K=this.zoomText;this.hideDropdown();K&&K.show();v.forEach(function(P,Q){Q=E[Q];Q.show();Q.attr({text:P.text,width:D.buttonTheme.width||28,paddingLeft:w(D.buttonTheme.paddingLeft,"unset"),paddingRight:w(D.buttonTheme.paddingRight,
"unset")});2>Q.state&&Q.setState(0)});this.positionButtons()};G.prototype.currentButtonIndex=function(){var E=this.dropdown;return E&&0<E.selectedIndex?E.selectedIndex-1:0};G.prototype.showDropdown=function(){var E=this.buttonGroup,v=this.buttons,D=this.chart,K=this.dropdown;if(E&&K){var P=E.translateX;E=E.translateY;v=v[this.currentButtonIndex()].getBBox();f(K,{left:D.plotLeft+P+"px",top:E+.5+"px",width:v.width+"px",height:v.height+"px"});this.hasVisibleDropdown=!0}};G.prototype.hideDropdown=function(){var E=
this.dropdown;E&&(f(E,{top:"-9999em",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)};G.prototype.getHeight=function(){var E=this.options,v=this.group,D=E.y,K=E.buttonPosition.y,P=E.inputPosition.y;if(E.height)return E.height;this.alignElements();E=v?v.getBBox(!0).height+13+D:0;v=Math.min(P,K);if(0>P&&0>K||0<P&&0<K)E+=Math.abs(v);return E};G.prototype.titleCollision=function(E){return!(E.options.title.text||E.options.subtitle.text)};G.prototype.update=function(E){var v=this.chart;r(!0,v.options.rangeSelector,
E);this.destroy();this.init(v);this.render()};G.prototype.destroy=function(){var E=this,v=E.minInput,D=E.maxInput;E.eventsToUnbind&&(E.eventsToUnbind.forEach(function(K){return K()}),E.eventsToUnbind=void 0);k(E.buttons);v&&(v.onfocus=v.onblur=v.onchange=null);D&&(D.onfocus=D.onblur=D.onchange=null);t(E,function(K,P){K&&"chart"!==P&&(K instanceof l?K.destroy():K instanceof window.HTMLElement&&h(K));K!==G.prototype[P]&&(E[P]=null)},this)};return G}();C.prototype.defaultButtons=[{type:"month",count:1,
text:"1m",title:"View 1 month"},{type:"month",count:3,text:"3m",title:"View 3 months"},{type:"month",count:6,text:"6m",title:"View 6 months"},{type:"ytd",text:"YTD",title:"View year to date"},{type:"year",count:1,text:"1y",title:"View 1 year"},{type:"all",text:"All",title:"View all"}];C.prototype.inputTypeFormats={"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"};I.prototype.minFromRange=function(){var G=this.range,E=G.type,v=this.max,D=this.chart.time,K=function(T,H){var L="year"===
E?"FullYear":"Month",R=new D.Date(T),U=D.get(L,R);D.set(L,R,U+H);U===D.get(L,R)&&D.set("Date",R,0);return R.getTime()-T};if(u(G))var P=v-G,Q=G;else P=v+K(v,-G.count),this.chart&&(this.chart.fixedRange=v-P);var N=w(this.dataMin,Number.MIN_VALUE);u(P)||(P=N);P<=N&&(P=N,"undefined"===typeof Q&&(Q=K(P,G.count)),this.newMax=Math.min(P+Q,this.dataMax));u(v)||(P=void 0);return P};if(!m.RangeSelector){var J=[],B=function(G){function E(){D&&(v=G.xAxis[0].getExtremes(),K=G.legend,Q=D&&D.options.verticalAlign,
u(v.min)&&D.render(v.min,v.max),K.display&&"top"===Q&&Q===K.options.verticalAlign&&(P=r(G.spacingBox),P.y="vertical"===K.options.layout?G.plotTop:P.y+D.getHeight(),K.group.placed=!1,K.align(P)))}var v,D=G.rangeSelector,K,P,Q;D&&(q(J,function(N){return N[0]===G})||J.push([G,[a(G.xAxis[0],"afterSetExtremes",function(N){D&&D.render(N.min,N.max)}),a(G,"redraw",E)]]),E())};a(z,"afterGetContainer",function(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new C(this))});
a(z,"beforeRender",function(){var G=this.axes,E=this.rangeSelector;E&&(u(E.deferredYTDClick)&&(E.clickButton(E.deferredYTDClick),delete E.deferredYTDClick),G.forEach(function(v){v.updateNames();v.setScale()}),this.getAxisMargins(),E.render(),G=E.options.verticalAlign,E.options.floating||("bottom"===G?this.extraBottomMargin=!0:"middle"!==G&&(this.extraTopMargin=!0)))});a(z,"update",function(G){var E=G.options.rangeSelector;G=this.rangeSelector;var v=this.extraBottomMargin,D=this.extraTopMargin;E&&
E.enabled&&!e(G)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=G=new C(this));this.extraTopMargin=this.extraBottomMargin=!1;G&&(B(this),E=E&&E.verticalAlign||G.options&&G.options.verticalAlign,G.options.floating||("bottom"===E?this.extraBottomMargin=!0:"middle"!==E&&(this.extraTopMargin=!0)),this.extraBottomMargin!==v||this.extraTopMargin!==D)&&(this.isDirtyBox=!0)});a(z,"render",function(){var G=this.rangeSelector;G&&!G.options.floating&&(G.render(),G=G.options.verticalAlign,
"bottom"===G?this.extraBottomMargin=!0:"middle"!==G&&(this.extraTopMargin=!0))});a(z,"getMargins",function(){var G=this.rangeSelector;G&&(G=G.getHeight(),this.extraTopMargin&&(this.plotTop+=G),this.extraBottomMargin&&(this.marginBottom+=G))});z.prototype.callbacks.push(B);a(z,"destroy",function(){for(var G=0;G<J.length;G++){var E=J[G];if(E[0]===this){E[1].forEach(function(v){return v()});J.splice(G,1);break}}});m.RangeSelector=C}return C});Y(M,"Accessibility/Components/RangeSelectorComponent.js",
[M["Extensions/RangeSelector.js"],M["Accessibility/AccessibilityComponent.js"],M["Accessibility/Utils/ChartUtilities.js"],M["Accessibility/Utils/Announcer.js"],M["Accessibility/KeyboardNavigationHandler.js"],M["Core/Utilities.js"]],function(I,z,m,n,l,c){var p=this&&this.__extends||function(){var e=function(k,h){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,q){g.__proto__=q}||function(g,q){for(var x in q)q.hasOwnProperty(x)&&(g[x]=q[x])};return e(k,h)};return function(k,h){function g(){this.constructor=
k}e(k,h);k.prototype=null===h?Object.create(h):(g.prototype=h.prototype,new g)}}(),d=m.unhideChartElementFromAT,a=m.getAxisRangeDescription,b=c.addEvent,f=c.attr;z=function(e){function k(){var h=null!==e&&e.apply(this,arguments)||this;h.announcer=void 0;return h}p(k,e);k.prototype.init=function(){this.announcer=new n(this.chart,"polite")};k.prototype.onChartUpdate=function(){var h=this.chart,g=this,q=h.rangeSelector;q&&(this.updateSelectorVisibility(),this.setDropdownAttrs(),q.buttons&&q.buttons.length&&
q.buttons.forEach(function(x){g.setRangeButtonAttrs(x)}),q.maxInput&&q.minInput&&["minInput","maxInput"].forEach(function(x,u){if(x=q[x])d(h,x),g.setRangeInputAttrs(x,"accessibility.rangeSelector."+(u?"max":"min")+"InputLabel")}))};k.prototype.updateSelectorVisibility=function(){var h=this.chart,g=h.rangeSelector,q=g&&g.dropdown,x=g&&g.buttons||[];g&&g.hasVisibleDropdown&&q?(d(h,q),x.forEach(function(u){return u.element.setAttribute("aria-hidden",!0)})):(q&&q.setAttribute("aria-hidden",!0),x.forEach(function(u){return d(h,
u.element)}))};k.prototype.setDropdownAttrs=function(){var h=this.chart,g=h.rangeSelector&&h.rangeSelector.dropdown;g&&(h=h.langFormat("accessibility.rangeSelector.dropdownLabel",{rangeTitle:h.options.lang.rangeSelectorZoom}),g.setAttribute("aria-label",h),g.setAttribute("tabindex",-1))};k.prototype.setRangeButtonAttrs=function(h){f(h.element,{tabindex:-1,role:"button"})};k.prototype.setRangeInputAttrs=function(h,g){var q=this.chart;f(h,{tabindex:-1,"aria-label":q.langFormat(g,{chart:q})})};k.prototype.onButtonNavKbdArrowKey=
function(h,g){var q=h.response,x=this.keyCodes,u=this.chart,r=u.options.accessibility.keyboardNavigation.wrapAround;g=g===x.left||g===x.up?-1:1;return u.highlightRangeSelectorButton(u.highlightedRangeSelectorItemIx+g)?q.success:r?(h.init(g),q.success):q[0<g?"next":"prev"]};k.prototype.onButtonNavKbdClick=function(h){h=h.response;var g=this.chart;3!==g.oldRangeSelectorItemState&&this.fakeClickEvent(g.rangeSelector.buttons[g.highlightedRangeSelectorItemIx].element);return h.success};k.prototype.onAfterBtnClick=
function(){var h=this.chart,g=a(h.xAxis[0]);(h=h.langFormat("accessibility.rangeSelector.clickButtonAnnouncement",{chart:h,axisRangeDescription:g}))&&this.announcer.announce(h)};k.prototype.onInputKbdMove=function(h){var g=this.chart,q=g.rangeSelector,x=g.highlightedInputRangeIx=(g.highlightedInputRangeIx||0)+h;1<x||0>x?g.accessibility&&(g.accessibility.keyboardNavigation.tabindexContainer.focus(),g.accessibility.keyboardNavigation[0>h?"prev":"next"]()):q&&(h=q[x?"maxDateBox":"minDateBox"],q=q[x?
"maxInput":"minInput"],h&&q&&g.setFocusToElement(h,q))};k.prototype.onInputNavInit=function(h){var g=this,q=this,x=this.chart,u=0<h?0:1,r=x.rangeSelector,t=r&&r[u?"maxDateBox":"minDateBox"];h=r&&r.minInput;r=r&&r.maxInput;x.highlightedInputRangeIx=u;if(t&&h&&r){x.setFocusToElement(t,u?r:h);this.removeInputKeydownHandler&&this.removeInputKeydownHandler();x=function(A){(A.which||A.keyCode)===g.keyCodes.tab&&(A.preventDefault(),A.stopPropagation(),q.onInputKbdMove(A.shiftKey?-1:1))};var y=b(h,"keydown",
x),w=b(r,"keydown",x);this.removeInputKeydownHandler=function(){y();w()}}};k.prototype.onInputNavTerminate=function(){var h=this.chart.rangeSelector||{};h.maxInput&&h.hideInput("max");h.minInput&&h.hideInput("min");this.removeInputKeydownHandler&&(this.removeInputKeydownHandler(),delete this.removeInputKeydownHandler)};k.prototype.initDropdownNav=function(){var h=this,g=this.chart,q=g.rangeSelector,x=q&&q.dropdown;q&&x&&(g.setFocusToElement(q.buttonGroup,x),this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),
this.removeDropdownKeydownHandler=b(x,"keydown",function(u){(u.which||u.keyCode)===h.keyCodes.tab&&(u.preventDefault(),u.stopPropagation(),g.accessibility&&(g.accessibility.keyboardNavigation.tabindexContainer.focus(),g.accessibility.keyboardNavigation[u.shiftKey?"prev":"next"]()))}))};k.prototype.getRangeSelectorButtonNavigation=function(){var h=this.chart,g=this.keyCodes,q=this;return new l(h,{keyCodeMap:[[[g.left,g.right,g.up,g.down],function(x){return q.onButtonNavKbdArrowKey(this,x)}],[[g.enter,
g.space],function(){return q.onButtonNavKbdClick(this)}]],validate:function(){return!!(h.rangeSelector&&h.rangeSelector.buttons&&h.rangeSelector.buttons.length)},init:function(x){var u=h.rangeSelector;u&&u.hasVisibleDropdown?q.initDropdownNav():u&&(u=u.buttons.length-1,h.highlightRangeSelectorButton(0<x?0:u))},terminate:function(){q.removeDropdownKeydownHandler&&(q.removeDropdownKeydownHandler(),delete q.removeDropdownKeydownHandler)}})};k.prototype.getRangeSelectorInputNavigation=function(){var h=
this.chart,g=this;return new l(h,{keyCodeMap:[],validate:function(){return!!(h.rangeSelector&&h.rangeSelector.inputGroup&&"hidden"!==h.rangeSelector.inputGroup.element.style.visibility&&!1!==h.options.rangeSelector.inputEnabled&&h.rangeSelector.minInput&&h.rangeSelector.maxInput)},init:function(q){g.onInputNavInit(q)},terminate:function(){g.onInputNavTerminate()}})};k.prototype.getKeyboardNavigation=function(){return[this.getRangeSelectorButtonNavigation(),this.getRangeSelectorInputNavigation()]};
k.prototype.destroy=function(){this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler();this.removeInputKeydownHandler&&this.removeInputKeydownHandler();this.announcer&&this.announcer.destroy()};return k}(z);(function(e){function k(q){var x=this.rangeSelector&&this.rangeSelector.buttons||[],u=this.highlightedRangeSelectorItemIx,r=this.rangeSelector&&this.rangeSelector.selected;"undefined"!==typeof u&&x[u]&&u!==r&&x[u].setState(this.oldRangeSelectorItemState||0);this.highlightedRangeSelectorItemIx=
q;return x[q]?(this.setFocusToElement(x[q].box,x[q].element),q!==r&&(this.oldRangeSelectorItemState=x[q].state,x[q].setState(1)),!0):!1}function h(){if(this.chart.accessibility&&this.chart.accessibility.components.rangeSelector)return this.chart.accessibility.components.rangeSelector.onAfterBtnClick()}var g=[];e.compose=function(q,x){-1===g.indexOf(q)&&(g.push(q),q.prototype.highlightRangeSelectorButton=k);-1===g.indexOf(x)&&(g.push(x),b(I,"afterBtnClick",h))}})(z||(z={}));return z});Y(M,"Accessibility/Components/SeriesComponent/ForcedMarkers.js",
[M["Core/Utilities.js"]],function(I){var z=I.addEvent,m=I.merge,n;(function(l){function c(e){m(!0,e,{marker:{enabled:!0,states:{normal:{opacity:0}}}})}function p(e){return e.marker.states&&e.marker.states.normal&&e.marker.states.normal.opacity}function d(){if(this.chart.styledMode){if(this.markerGroup)this.markerGroup[this.a11yMarkersForced?"addClass":"removeClass"]("highcharts-a11y-markers-hidden");this._hasPointMarkers&&this.points&&this.points.length&&this.points.forEach(function(e){e.graphic&&
(e.graphic[e.hasForcedA11yMarker?"addClass":"removeClass"]("highcharts-a11y-marker-hidden"),e.graphic[!1===e.hasForcedA11yMarker?"addClass":"removeClass"]("highcharts-a11y-marker-visible"))})}}function a(e){this.resetA11yMarkerOptions=m(e.options.marker||{},this.userOptions.marker||{})}function b(){var e=this.options,k=!1!==(this.options.accessibility&&this.options.accessibility.enabled);if(k=this.chart.options.accessibility.enabled&&k)k=this.chart.options.accessibility,k=this.points.length<k.series.pointDescriptionEnabledThreshold||
!1===k.series.pointDescriptionEnabledThreshold;if(k){if(e.marker&&!1===e.marker.enabled&&(this.a11yMarkersForced=!0,c(this.options)),this._hasPointMarkers&&this.points&&this.points.length)for(e=this.points.length;e--;){k=this.points[e];var h=k.options,g=k.hasForcedA11yMarker;delete k.hasForcedA11yMarker;h.marker&&(g=g&&0===p(h),h.marker.enabled&&!g?(m(!0,h.marker,{states:{normal:{opacity:p(h)||1}}}),k.hasForcedA11yMarker=!1):!1===h.marker.enabled&&(c(h),k.hasForcedA11yMarker=!0))}}else this.a11yMarkersForced&&
(delete this.a11yMarkersForced,(e=this.resetA11yMarkerOptions)&&m(!0,this.options,{marker:{enabled:e.enabled,states:{normal:{opacity:e.states&&e.states.normal&&e.states.normal.opacity}}}}))}var f=[];l.compose=function(e){-1===f.indexOf(e)&&(f.push(e),z(e,"afterSetOptions",a),z(e,"render",b),z(e,"afterRender",d))}})(n||(n={}));return n});Y(M,"Accessibility/Components/SeriesComponent/SeriesKeyboardNavigation.js",[M["Core/Series/Point.js"],M["Core/Series/Series.js"],M["Core/Series/SeriesRegistry.js"],
M["Core/Globals.js"],M["Core/Utilities.js"],M["Accessibility/KeyboardNavigationHandler.js"],M["Accessibility/Utils/EventProvider.js"],M["Accessibility/Utils/ChartUtilities.js"]],function(I,z,m,n,l,c,p,d){function a(t){var y=t.index,w=t.series.points,A=w.length;if(w[y]!==t)for(;A--;){if(w[A]===t)return A}else return y}function b(t){var y=t.chart.options.accessibility.keyboardNavigation.seriesNavigation,w=t.options.accessibility||{},A=w.keyboardNavigation;return A&&!1===A.enabled||!1===w.enabled||!1===
t.options.enableMouseTracking||!t.visible||y.pointNavigationEnabledThreshold&&y.pointNavigationEnabledThreshold<=t.points.length}function f(t){var y=t.series.chart.options.accessibility,w=t.options.accessibility&&!1===t.options.accessibility.enabled;return t.isNull&&y.keyboardNavigation.seriesNavigation.skipNullPoints||!1===t.visible||!1===t.isInside||w||b(t.series)}function e(t){delete t.highlightedPoint;return t.series.reduce(function(y,w){return y||w.highlightFirstValidPoint()},!1)}var k=m.seriesTypes,
h=n.doc,g=l.defined,q=l.fireEvent,x=d.getPointFromXY,u=d.getSeriesFromName,r=d.scrollToPoint;m=function(){function t(y,w){this.keyCodes=w;this.chart=y}t.prototype.init=function(){var y=this,w=this.chart,A=this.eventProvider=new p;A.addEvent(z,"destroy",function(){return y.onSeriesDestroy(this)});A.addEvent(w,"afterDrilldown",function(){e(this);this.focusElement&&this.focusElement.removeFocusBorder()});A.addEvent(w,"drilldown",function(F){F=F.point;var C=F.series;y.lastDrilledDownPoint={x:F.x,y:F.y,
seriesName:C?C.name:""}});A.addEvent(w,"drillupall",function(){setTimeout(function(){y.onDrillupAll()},10)});A.addEvent(I,"afterSetState",function(){var F=this.graphic&&this.graphic.element,C=h.activeElement,J=C&&C.getAttribute("class");J=J&&-1<J.indexOf("highcharts-a11y-proxy-button");w.highlightedPoint===this&&C!==F&&!J&&F&&F.focus&&F.focus()})};t.prototype.onDrillupAll=function(){var y=this.lastDrilledDownPoint,w=this.chart,A=y&&u(w,y.seriesName),F;y&&A&&g(y.x)&&g(y.y)&&(F=x(A,y.x,y.y));w.container&&
w.container.focus();F&&F.highlight&&F.highlight();w.focusElement&&w.focusElement.removeFocusBorder()};t.prototype.getKeyboardNavigationHandler=function(){var y=this,w=this.keyCodes,A=this.chart,F=A.inverted;return new c(A,{keyCodeMap:[[F?[w.up,w.down]:[w.left,w.right],function(C){return y.onKbdSideways(this,C)}],[F?[w.left,w.right]:[w.up,w.down],function(C){return y.onKbdVertical(this,C)}],[[w.enter,w.space],function(C,J){if(C=A.highlightedPoint)J.point=C,q(C.series,"click",J),C.firePointEvent("click");
return this.response.success}],[[w.home],function(){e(A);return this.response.success}],[[w.end],function(){for(var C=A.series.length;C--&&(A.highlightedPoint=A.series[C].points[A.series[C].points.length-1],!A.series[C].highlightFirstValidPoint()););return this.response.success}],[[w.pageDown,w.pageUp],function(C){A.highlightAdjacentSeries(C===w.pageDown);return this.response.success}]],init:function(){e(A);return this.response.success},terminate:function(){return y.onHandlerTerminate()}})};t.prototype.onKbdSideways=
function(y,w){var A=this.keyCodes;return this.attemptHighlightAdjacentPoint(y,w===A.right||w===A.down)};t.prototype.onKbdVertical=function(y,w){var A=this.chart,F=this.keyCodes;w=w===F.down||w===F.right;F=A.options.accessibility.keyboardNavigation.seriesNavigation;if(F.mode&&"serialize"===F.mode)return this.attemptHighlightAdjacentPoint(y,w);A[A.highlightedPoint&&A.highlightedPoint.series.keyboardMoveVertical?"highlightAdjacentPointVertical":"highlightAdjacentSeries"](w);return y.response.success};
t.prototype.onHandlerTerminate=function(){var y=this.chart;y.tooltip&&y.tooltip.hide(0);var w=y.highlightedPoint&&y.highlightedPoint.series;if(w&&w.onMouseOut)w.onMouseOut();if(y.highlightedPoint&&y.highlightedPoint.onMouseOut)y.highlightedPoint.onMouseOut();delete y.highlightedPoint};t.prototype.attemptHighlightAdjacentPoint=function(y,w){var A=this.chart,F=A.options.accessibility.keyboardNavigation.wrapAround;return A.highlightAdjacentPoint(w)?y.response.success:F?y.init(w?1:-1):y.response[w?"next":
"prev"]};t.prototype.onSeriesDestroy=function(y){var w=this.chart;w.highlightedPoint&&w.highlightedPoint.series===y&&(delete w.highlightedPoint,w.focusElement&&w.focusElement.removeFocusBorder())};t.prototype.destroy=function(){this.eventProvider.removeAddedEvents()};return t}();(function(t){function y(G){var E=this.series,v=this.highlightedPoint,D=v&&a(v)||0,K=v&&v.series.points||[],P=this.series&&this.series[this.series.length-1];P=P&&P.points&&P.points[P.points.length-1];if(!E[0]||!E[0].points)return!1;
if(v){if(E=E[v.series.index+(G?1:-1)],D=K[D+(G?1:-1)],!D&&E&&(D=E.points[G?0:E.points.length-1]),!D)return!1}else D=G?E[0].points[0]:P;return f(D)?(E=D.series,b(E)?this.highlightedPoint=G?E.points[E.points.length-1]:E.points[0]:this.highlightedPoint=D,this.highlightAdjacentPoint(G)):D.highlight()}function w(G){var E=this.highlightedPoint,v=Infinity,D;if(!g(E.plotX)||!g(E.plotY))return!1;this.series.forEach(function(K){b(K)||K.points.forEach(function(P){if(g(P.plotY)&&g(P.plotX)&&P!==E){var Q=P.plotY-
E.plotY,N=Math.abs(P.plotX-E.plotX);N=Math.abs(Q)*Math.abs(Q)+N*N*4;K.yAxis&&K.yAxis.reversed&&(Q*=-1);!(0>=Q&&G||0<=Q&&!G||5>N||f(P))&&N<v&&(v=N,D=P)}})});return D?D.highlight():!1}function A(G){var E=this.highlightedPoint,v=this.series&&this.series[this.series.length-1],D=v&&v.points&&v.points[v.points.length-1];if(!this.highlightedPoint)return v=G?this.series&&this.series[0]:v,(D=G?v&&v.points&&v.points[0]:D)?D.highlight():!1;v=this.series[E.series.index+(G?-1:1)];if(!v)return!1;D=F(E,v,4);if(!D)return!1;
if(b(v))return D.highlight(),G=this.highlightAdjacentSeries(G),G?G:(E.highlight(),!1);D.highlight();return D.series.highlightFirstValidPoint()}function F(G,E,v,D){var K=Infinity,P=E.points.length,Q=function(H){return!(g(H.plotX)&&g(H.plotY))};if(!Q(G)){for(;P--;){var N=E.points[P];if(!Q(N)&&(N=(G.plotX-N.plotX)*(G.plotX-N.plotX)*(v||1)+(G.plotY-N.plotY)*(G.plotY-N.plotY)*(D||1),N<K)){K=N;var T=P}}return g(T)?E.points[T]:void 0}}function C(){var G=this.series.chart;if(this.isNull)G.tooltip&&G.tooltip.hide(0);
else this.onMouseOver();r(this);this.graphic&&G.setFocusToElement(this.graphic);G.highlightedPoint=this;return this}function J(){var G=this.chart.highlightedPoint,E=(G&&G.series)===this?a(G):0;G=this.points;var v=G.length;if(G&&v){for(var D=E;D<v;++D)if(!f(G[D]))return G[D].highlight();for(;0<=E;--E)if(!f(G[E]))return G[E].highlight()}return!1}var B=[];t.compose=function(G,E,v){-1===B.indexOf(G)&&(B.push(G),G=G.prototype,G.highlightAdjacentPoint=y,G.highlightAdjacentPointVertical=w,G.highlightAdjacentSeries=
A);-1===B.indexOf(E)&&(B.push(E),E.prototype.highlight=C);-1===B.indexOf(v)&&(B.push(v),E=v.prototype,E.keyboardMoveVertical=!0,["column","gantt","pie"].forEach(function(D){k[D]&&(k[D].prototype.keyboardMoveVertical=!1)}),E.highlightFirstValidPoint=J)}})(m||(m={}));return m});Y(M,"Accessibility/Components/SeriesComponent/SeriesComponent.js",[M["Accessibility/AccessibilityComponent.js"],M["Accessibility/Utils/ChartUtilities.js"],M["Accessibility/Components/SeriesComponent/ForcedMarkers.js"],M["Accessibility/Components/SeriesComponent/NewDataAnnouncer.js"],
M["Accessibility/Components/SeriesComponent/SeriesDescriber.js"],M["Accessibility/Components/SeriesComponent/SeriesKeyboardNavigation.js"],M["Core/Tooltip.js"]],function(I,z,m,n,l,c,p){var d=this&&this.__extends||function(){var f=function(e,k){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,g){h.__proto__=g}||function(h,g){for(var q in g)g.hasOwnProperty(q)&&(h[q]=g[q])};return f(e,k)};return function(e,k){function h(){this.constructor=e}f(e,k);e.prototype=null===k?Object.create(k):
(h.prototype=k.prototype,new h)}}(),a=z.hideSeriesFromAT,b=l.describeSeries;return function(f){function e(){return null!==f&&f.apply(this,arguments)||this}d(e,f);e.compose=function(k,h,g){m.compose(g);c.compose(k,h,g)};e.prototype.init=function(){this.newDataAnnouncer=new n(this.chart);this.newDataAnnouncer.init();this.keyboardNavigation=new c(this.chart,this.keyCodes);this.keyboardNavigation.init();this.hideTooltipFromATWhenShown();this.hideSeriesLabelsFromATWhenShown()};e.prototype.hideTooltipFromATWhenShown=
function(){var k=this;this.addEvent(p,"refresh",function(){this.chart===k.chart&&this.label&&this.label.element&&this.label.element.setAttribute("aria-hidden",!0)})};e.prototype.hideSeriesLabelsFromATWhenShown=function(){this.addEvent(this.chart,"afterDrawSeriesLabels",function(){this.series.forEach(function(k){k.labelBySeries&&k.labelBySeries.attr("aria-hidden",!0)})})};e.prototype.onChartRender=function(){this.chart.series.forEach(function(k){!1!==(k.options.accessibility&&k.options.accessibility.enabled)&&
k.visible?b(k):a(k)})};e.prototype.getKeyboardNavigation=function(){return this.keyboardNavigation.getKeyboardNavigationHandler()};e.prototype.destroy=function(){this.newDataAnnouncer.destroy();this.keyboardNavigation.destroy()};return e}(I)});Y(M,"Accessibility/Components/ZoomComponent.js",[M["Accessibility/AccessibilityComponent.js"],M["Accessibility/Utils/ChartUtilities.js"],M["Core/Globals.js"],M["Accessibility/KeyboardNavigationHandler.js"],M["Core/Utilities.js"]],function(I,z,m,n,l){var c=z.unhideChartElementFromAT;
z=m.noop;var p=l.attr,d=l.extend,a=l.pick;m.Axis.prototype.panStep=function(b,f){var e=f||3;f=this.getExtremes();var k=(f.max-f.min)/e*b;e=f.max+k;k=f.min+k;var h=e-k;0>b&&k<f.dataMin?(k=f.dataMin,e=k+h):0<b&&e>f.dataMax&&(e=f.dataMax,k=e-h);this.setExtremes(k,e)};z.prototype=new I;d(z.prototype,{init:function(){var b=this,f=this.chart;this.proxyProvider.addGroup("zoom","div");["afterShowResetZoom","afterDrilldown","drillupall"].forEach(function(e){b.addEvent(f,e,function(){b.updateProxyOverlays()})})},
onChartUpdate:function(){var b=this.chart,f=this;b.mapNavButtons&&b.mapNavButtons.forEach(function(e,k){c(b,e.element);f.setMapNavButtonAttrs(e.element,"accessibility.zoom.mapZoom"+(k?"Out":"In"))})},setMapNavButtonAttrs:function(b,f){var e=this.chart;f=e.langFormat(f,{chart:e});p(b,{tabindex:-1,role:"button","aria-label":f})},onChartRender:function(){this.updateProxyOverlays()},updateProxyOverlays:function(){var b=this.chart;this.proxyProvider.clearGroup("zoom");b.resetZoomButton&&this.createZoomProxyButton(b.resetZoomButton,
"resetZoomProxyButton",b.langFormat("accessibility.zoom.resetZoomButton",{chart:b}));b.drillUpButton&&this.createZoomProxyButton(b.drillUpButton,"drillUpProxyButton",b.langFormat("accessibility.drillUpButton",{chart:b,buttonText:b.getDrilldownBackText()}))},createZoomProxyButton:function(b,f,e){this[f]=this.proxyProvider.addProxyElement("zoom",{click:b},{"aria-label":e,tabindex:-1})},getMapZoomNavigation:function(){var b=this.keyCodes,f=this.chart,e=this;return new n(f,{keyCodeMap:[[[b.up,b.down,
b.left,b.right],function(k){return e.onMapKbdArrow(this,k)}],[[b.tab],function(k,h){return e.onMapKbdTab(this,h)}],[[b.space,b.enter],function(){return e.onMapKbdClick(this)}]],validate:function(){return!!(f.mapZoom&&f.mapNavButtons&&f.mapNavButtons.length)},init:function(k){return e.onMapNavInit(k)}})},onMapKbdArrow:function(b,f){var e=this.keyCodes;this.chart[f===e.up||f===e.down?"yAxis":"xAxis"][0].panStep(f===e.left||f===e.up?-1:1);return b.response.success},onMapKbdTab:function(b,f){var e=this.chart;
b=b.response;var k=(f=f.shiftKey)&&!this.focusedMapNavButtonIx||!f&&this.focusedMapNavButtonIx;e.mapNavButtons[this.focusedMapNavButtonIx].setState(0);if(k)return e.mapZoom(),b[f?"prev":"next"];this.focusedMapNavButtonIx+=f?-1:1;f=e.mapNavButtons[this.focusedMapNavButtonIx];e.setFocusToElement(f.box,f.element);f.setState(2);return b.success},onMapKbdClick:function(b){this.fakeClickEvent(this.chart.mapNavButtons[this.focusedMapNavButtonIx].element);return b.response.success},onMapNavInit:function(b){var f=
this.chart,e=f.mapNavButtons[0],k=f.mapNavButtons[1];e=0<b?e:k;f.setFocusToElement(e.box,e.element);e.setState(2);this.focusedMapNavButtonIx=0<b?0:1},simpleButtonNavigation:function(b,f,e){var k=this.keyCodes,h=this,g=this.chart;return new n(g,{keyCodeMap:[[[k.tab,k.up,k.down,k.left,k.right],function(q,x){return this.response[q===k.tab&&x.shiftKey||q===k.left||q===k.up?"prev":"next"]}],[[k.space,k.enter],function(){var q=e(this,g);return a(q,this.response.success)}]],validate:function(){return g[b]&&
g[b].box&&h[f].buttonElement},init:function(){g.setFocusToElement(g[b].box,h[f].buttonElement)}})},getKeyboardNavigation:function(){return[this.simpleButtonNavigation("resetZoomButton","resetZoomProxyButton",function(b,f){f.zoomOut()}),this.simpleButtonNavigation("drillUpButton","drillUpProxyButton",function(b,f){f.drillUp();return b.response.prev}),this.getMapZoomNavigation()]}});return z});Y(M,"Accessibility/HighContrastMode.js",[M["Core/Globals.js"]],function(I){var z=I.doc,m=I.isMS,n=I.win;return{isHighContrastModeActive:function(){var l=
/(Edg)/.test(n.navigator.userAgent);if(n.matchMedia&&l)return n.matchMedia("(-ms-high-contrast: active)").matches;if(m&&n.getComputedStyle){l=z.createElement("div");l.style.backgroundImage="url(data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw\x3d\x3d)";z.body.appendChild(l);var c=(l.currentStyle||n.getComputedStyle(l)).backgroundImage;z.body.removeChild(l);return"none"===c}return!1},setHighContrastTheme:function(l){l.highContrastModeActive=!0;var c=l.options.accessibility.highContrastTheme;
l.update(c,!1);l.series.forEach(function(p){var d=c.plotOptions[p.type]||{};p.update({color:d.color||"windowText",colors:[d.color||"windowText"],borderColor:d.borderColor||"window"});p.points.forEach(function(a){a.options&&a.options.color&&a.update({color:d.color||"windowText",borderColor:d.borderColor||"window"},!1)})});l.redraw()}}});Y(M,"Accessibility/HighContrastTheme.js",[],function(){return{chart:{backgroundColor:"window"},title:{style:{color:"windowText"}},subtitle:{style:{color:"windowText"}},
colorAxis:{minColor:"windowText",maxColor:"windowText",stops:[]},colors:["windowText"],xAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},yAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},tooltip:{backgroundColor:"window",borderColor:"windowText",
style:{color:"windowText"}},plotOptions:{series:{lineColor:"windowText",fillColor:"window",borderColor:"windowText",edgeColor:"windowText",borderWidth:1,dataLabels:{connectorColor:"windowText",color:"windowText",style:{color:"windowText",textOutline:"none"}},marker:{lineColor:"windowText",fillColor:"windowText"}},pie:{color:"window",colors:["window"],borderColor:"windowText",borderWidth:1},boxplot:{fillColor:"window"},candlestick:{lineColor:"windowText",fillColor:"window"},errorbar:{fillColor:"window"}},
legend:{backgroundColor:"window",itemStyle:{color:"windowText"},itemHoverStyle:{color:"windowText"},itemHiddenStyle:{color:"#555"},title:{style:{color:"windowText"}}},credits:{style:{color:"windowText"}},labels:{style:{color:"windowText"}},drilldown:{activeAxisLabelStyle:{color:"windowText"},activeDataLabelStyle:{color:"windowText"}},navigation:{buttonOptions:{symbolStroke:"windowText",theme:{fill:"window"}}},rangeSelector:{buttonTheme:{fill:"window",stroke:"windowText",style:{color:"windowText"},
states:{hover:{fill:"window",stroke:"windowText",style:{color:"windowText"}},select:{fill:"#444",stroke:"windowText",style:{color:"windowText"}}}},inputBoxBorderColor:"windowText",inputStyle:{backgroundColor:"window",color:"windowText"},labelStyle:{color:"windowText"}},navigator:{handles:{backgroundColor:"window",borderColor:"windowText"},outlineColor:"windowText",maskFill:"transparent",series:{color:"windowText",lineColor:"windowText"},xAxis:{gridLineColor:"windowText"}},scrollbar:{barBackgroundColor:"#444",
barBorderColor:"windowText",buttonArrowColor:"windowText",buttonBackgroundColor:"window",buttonBorderColor:"windowText",rifleColor:"windowText",trackBackgroundColor:"window",trackBorderColor:"windowText"}}});Y(M,"Accessibility/Options/Options.js",[],function(){return{accessibility:{enabled:!0,screenReaderSection:{beforeChartFormat:"\x3c{headingTagName}\x3e{chartTitle}\x3c/{headingTagName}\x3e\x3cdiv\x3e{typeDescription}\x3c/div\x3e\x3cdiv\x3e{chartSubtitle}\x3c/div\x3e\x3cdiv\x3e{chartLongdesc}\x3c/div\x3e\x3cdiv\x3e{playAsSoundButton}\x3c/div\x3e\x3cdiv\x3e{viewTableButton}\x3c/div\x3e\x3cdiv\x3e{xAxisDescription}\x3c/div\x3e\x3cdiv\x3e{yAxisDescription}\x3c/div\x3e\x3cdiv\x3e{annotationsTitle}{annotationsList}\x3c/div\x3e",
afterChartFormat:"{endOfChartMarker}",axisRangeDateFormat:"%Y-%m-%d %H:%M:%S"},series:{describeSingleSeries:!1,pointDescriptionEnabledThreshold:200},point:{valueDescriptionFormat:"{index}. {xDescription}{separator}{value}."},landmarkVerbosity:"all",linkedDescription:'*[data-highcharts-chart\x3d"{index}"] + .highcharts-description',keyboardNavigation:{enabled:!0,focusBorder:{enabled:!0,hideBrowserFocusOutline:!0,style:{color:"#335cad",lineWidth:2,borderRadius:3},margin:2},order:["series","zoom","rangeSelector",
"legend","chartMenu"],wrapAround:!0,seriesNavigation:{skipNullPoints:!0,pointNavigationEnabledThreshold:!1}},announceNewData:{enabled:!1,minAnnounceInterval:5E3,interruptUser:!1}},legend:{accessibility:{enabled:!0,keyboardNavigation:{enabled:!0}}},exporting:{accessibility:{enabled:!0}}}});Y(M,"Accessibility/Options/LangOptions.js",[],function(){return{accessibility:{defaultChartTitle:"Chart",chartContainerLabel:"{title}. Highcharts interactive chart.",svgContainerLabel:"Interactive chart",drillUpButton:"{buttonText}",
credits:"Chart credits: {creditsStr}",thousandsSep:",",svgContainerTitle:"",graphicContainerLabel:"",screenReaderSection:{beforeRegionLabel:"Chart screen reader information, {chartTitle}.",afterRegionLabel:"",annotations:{heading:"Chart annotations summary",descriptionSinglePoint:"{annotationText}. Related to {annotationPoint}",descriptionMultiplePoints:"{annotationText}. Related to {annotationPoint}{ Also related to, #each(additionalAnnotationPoints)}",descriptionNoPoints:"{annotationText}"},endOfChartMarker:"End of interactive chart."},
sonification:{playAsSoundButtonText:"Play as sound, {chartTitle}",playAsSoundClickAnnouncement:"Play"},legend:{legendLabelNoTitle:"Toggle series visibility, {chartTitle}",legendLabel:"Chart legend: {legendTitle}",legendItem:"Show {itemName}"},zoom:{mapZoomIn:"Zoom chart",mapZoomOut:"Zoom out chart",resetZoomButton:"Reset zoom"},rangeSelector:{dropdownLabel:"{rangeTitle}",minInputLabel:"Select start date.",maxInputLabel:"Select end date.",clickButtonAnnouncement:"Viewing {axisRangeDescription}"},table:{viewAsDataTableButtonText:"View as data table, {chartTitle}",
tableSummary:"Table representation of chart."},announceNewData:{newDataAnnounce:"Updated data for chart {chartTitle}",newSeriesAnnounceSingle:"New data series: {seriesDesc}",newPointAnnounceSingle:"New data point: {pointDesc}",newSeriesAnnounceMultiple:"New data series in chart {chartTitle}: {seriesDesc}",newPointAnnounceMultiple:"New data point in chart {chartTitle}: {pointDesc}"},seriesTypeDescriptions:{boxplot:"Box plot charts are typically used to display groups of statistical data. Each data point in the chart can have up to 5 values: minimum, lower quartile, median, upper quartile, and maximum.",
arearange:"Arearange charts are line charts displaying a range between a lower and higher value for each point.",areasplinerange:"These charts are line charts displaying a range between a lower and higher value for each point.",bubble:"Bubble charts are scatter charts where each data point also has a size value.",columnrange:"Columnrange charts are column charts displaying a range between a lower and higher value for each point.",errorbar:"Errorbar series are used to display the variability of the data.",
funnel:"Funnel charts are used to display reduction of data in stages.",pyramid:"Pyramid charts consist of a single pyramid with item heights corresponding to each point value.",waterfall:"A waterfall chart is a column chart where each column contributes towards a total end value."},chartTypes:{emptyChart:"Empty chart",mapTypeDescription:"Map of {mapTitle} with {numSeries} data series.",unknownMap:"Map of unspecified region with {numSeries} data series.",combinationChart:"Combination chart with {numSeries} data series.",
defaultSingle:"Chart with {numPoints} data {#plural(numPoints, points, point)}.",defaultMultiple:"Chart with {numSeries} data series.",splineSingle:"Line chart with {numPoints} data {#plural(numPoints, points, point)}.",splineMultiple:"Line chart with {numSeries} lines.",lineSingle:"Line chart with {numPoints} data {#plural(numPoints, points, point)}.",lineMultiple:"Line chart with {numSeries} lines.",columnSingle:"Bar chart with {numPoints} {#plural(numPoints, bars, bar)}.",columnMultiple:"Bar chart with {numSeries} data series.",
barSingle:"Bar chart with {numPoints} {#plural(numPoints, bars, bar)}.",barMultiple:"Bar chart with {numSeries} data series.",pieSingle:"Pie chart with {numPoints} {#plural(numPoints, slices, slice)}.",pieMultiple:"Pie chart with {numSeries} pies.",scatterSingle:"Scatter chart with {numPoints} {#plural(numPoints, points, point)}.",scatterMultiple:"Scatter chart with {numSeries} data series.",boxplotSingle:"Boxplot with {numPoints} {#plural(numPoints, boxes, box)}.",boxplotMultiple:"Boxplot with {numSeries} data series.",
bubbleSingle:"Bubble chart with {numPoints} {#plural(numPoints, bubbles, bubble)}.",bubbleMultiple:"Bubble chart with {numSeries} data series."},axis:{xAxisDescriptionSingular:"The chart has 1 X axis displaying {names[0]}. {ranges[0]}",xAxisDescriptionPlural:"The chart has {numAxes} X axes displaying {#each(names, -1) }and {names[-1]}.",yAxisDescriptionSingular:"The chart has 1 Y axis displaying {names[0]}. {ranges[0]}",yAxisDescriptionPlural:"The chart has {numAxes} Y axes displaying {#each(names, -1) }and {names[-1]}.",
timeRangeDays:"Range: {range} days.",timeRangeHours:"Range: {range} hours.",timeRangeMinutes:"Range: {range} minutes.",timeRangeSeconds:"Range: {range} seconds.",rangeFromTo:"Range: {rangeFrom} to {rangeTo}.",rangeCategories:"Range: {numCategories} categories."},exporting:{chartMenuLabel:"Chart menu",menuButtonLabel:"View chart menu, {chartTitle}"},series:{summary:{"default":"{name}, series {ix} of {numSeries} with {numPoints} data {#plural(numPoints, points, point)}.",defaultCombination:"{name}, series {ix} of {numSeries} with {numPoints} data {#plural(numPoints, points, point)}.",
line:"{name}, line {ix} of {numSeries} with {numPoints} data {#plural(numPoints, points, point)}.",lineCombination:"{name}, series {ix} of {numSeries}. Line with {numPoints} data {#plural(numPoints, points, point)}.",spline:"{name}, line {ix} of {numSeries} with {numPoints} data {#plural(numPoints, points, point)}.",splineCombination:"{name}, series {ix} of {numSeries}. Line with {numPoints} data {#plural(numPoints, points, point)}.",column:"{name}, bar series {ix} of {numSeries} with {numPoints} {#plural(numPoints, bars, bar)}.",
columnCombination:"{name}, series {ix} of {numSeries}. Bar series with {numPoints} {#plural(numPoints, bars, bar)}.",bar:"{name}, bar series {ix} of {numSeries} with {numPoints} {#plural(numPoints, bars, bar)}.",barCombination:"{name}, series {ix} of {numSeries}. Bar series with {numPoints} {#plural(numPoints, bars, bar)}.",pie:"{name}, pie {ix} of {numSeries} with {numPoints} {#plural(numPoints, slices, slice)}.",pieCombination:"{name}, series {ix} of {numSeries}. Pie with {numPoints} {#plural(numPoints, slices, slice)}.",
scatter:"{name}, scatter plot {ix} of {numSeries} with {numPoints} {#plural(numPoints, points, point)}.",scatterCombination:"{name}, series {ix} of {numSeries}, scatter plot with {numPoints} {#plural(numPoints, points, point)}.",boxplot:"{name}, boxplot {ix} of {numSeries} with {numPoints} {#plural(numPoints, boxes, box)}.",boxplotCombination:"{name}, series {ix} of {numSeries}. Boxplot with {numPoints} {#plural(numPoints, boxes, box)}.",bubble:"{name}, bubble series {ix} of {numSeries} with {numPoints} {#plural(numPoints, bubbles, bubble)}.",
bubbleCombination:"{name}, series {ix} of {numSeries}. Bubble series with {numPoints} {#plural(numPoints, bubbles, bubble)}.",map:"{name}, map {ix} of {numSeries} with {numPoints} {#plural(numPoints, areas, area)}.",mapCombination:"{name}, series {ix} of {numSeries}. Map with {numPoints} {#plural(numPoints, areas, area)}.",mapline:"{name}, line {ix} of {numSeries} with {numPoints} data {#plural(numPoints, points, point)}.",maplineCombination:"{name}, series {ix} of {numSeries}. Line with {numPoints} data {#plural(numPoints, points, point)}.",
mapbubble:"{name}, bubble series {ix} of {numSeries} with {numPoints} {#plural(numPoints, bubbles, bubble)}.",mapbubbleCombination:"{name}, series {ix} of {numSeries}. Bubble series with {numPoints} {#plural(numPoints, bubbles, bubble)}."},description:"{description}",xAxisDescription:"X axis, {name}",yAxisDescription:"Y axis, {name}",nullPointValue:"No value",pointAnnotationsDescription:"{Annotation: #each(annotations). }"}}}});Y(M,"Accessibility/Options/DeprecatedOptions.js",[M["Core/Utilities.js"]],
function(I){function z(a,b,f){for(var e,k=0;k<b.length-1;++k)e=b[k],a=a[e]=d(a[e],{});a[b[b.length-1]]=f}function m(a,b,f,e){function k(q,x){return x.reduce(function(u,r){return u[r]},q)}var h=k(a.options,b),g=k(a.options,f);Object.keys(e).forEach(function(q){var x,u=h[q];"undefined"!==typeof u&&(z(g,e[q],u),p(32,!1,a,(x={},x[b.join(".")+"."+q]=f.join(".")+"."+e[q].join("."),x)))})}function n(a){var b=a.options.chart,f=a.options.accessibility||{};["description","typeDescription"].forEach(function(e){var k;
b[e]&&(f[e]=b[e],p(32,!1,a,(k={},k["chart."+e]="use accessibility."+e,k)))})}function l(a){a.axes.forEach(function(b){(b=b.options)&&b.description&&(b.accessibility=b.accessibility||{},b.accessibility.description=b.description,p(32,!1,a,{"axis.description":"use axis.accessibility.description"}))})}function c(a){var b={description:["accessibility","description"],exposeElementToA11y:["accessibility","exposeAsGroupOnly"],pointDescriptionFormatter:["accessibility","point","descriptionFormatter"],skipKeyboardNavigation:["accessibility",
"keyboardNavigation","enabled"],"accessibility.pointDescriptionFormatter":["accessibility","point","descriptionFormatter"]};a.series.forEach(function(f){Object.keys(b).forEach(function(e){var k,h=f.options[e];"accessibility.pointDescriptionFormatter"===e&&(h=f.options.accessibility&&f.options.accessibility.pointDescriptionFormatter);"undefined"!==typeof h&&(z(f.options,b[e],"skipKeyboardNavigation"===e?!h:h),p(32,!1,a,(k={},k["series."+e]="series."+b[e].join("."),k)))})})}var p=I.error,d=I.pick;return function(a){n(a);
l(a);a.series&&c(a);m(a,["accessibility"],["accessibility"],{pointDateFormat:["point","dateFormat"],pointDateFormatter:["point","dateFormatter"],pointDescriptionFormatter:["point","descriptionFormatter"],pointDescriptionThreshold:["series","pointDescriptionEnabledThreshold"],pointNavigationThreshold:["keyboardNavigation","seriesNavigation","pointNavigationEnabledThreshold"],pointValueDecimals:["point","valueDecimals"],pointValuePrefix:["point","valuePrefix"],pointValueSuffix:["point","valueSuffix"],
screenReaderSectionFormatter:["screenReaderSection","beforeChartFormatter"],describeSingleSeries:["series","describeSingleSeries"],seriesDescriptionFormatter:["series","descriptionFormatter"],onTableAnchorClick:["screenReaderSection","onViewDataTableClick"],axisRangeDateFormat:["screenReaderSection","axisRangeDateFormat"]});m(a,["accessibility","keyboardNavigation"],["accessibility","keyboardNavigation","seriesNavigation"],{skipNullPoints:["skipNullPoints"],mode:["mode"]});m(a,["lang","accessibility"],
["lang","accessibility"],{legendItem:["legend","legendItem"],legendLabel:["legend","legendLabel"],mapZoomIn:["zoom","mapZoomIn"],mapZoomOut:["zoom","mapZoomOut"],resetZoomButton:["zoom","resetZoomButton"],screenReaderRegionLabel:["screenReaderSection","beforeRegionLabel"],rangeSelectorButton:["rangeSelector","buttonText"],rangeSelectorMaxInput:["rangeSelector","maxInputLabel"],rangeSelectorMinInput:["rangeSelector","minInputLabel"],svgContainerEnd:["screenReaderSection","endOfChartMarker"],viewAsDataTable:["table",
"viewAsDataTableButtonText"],tableSummary:["table","tableSummary"]})}});Y(M,"Accessibility/Accessibility.js",[M["Core/DefaultOptions.js"],M["Core/Globals.js"],M["Core/Utilities.js"],M["Accessibility/A11yI18n.js"],M["Accessibility/Components/ContainerComponent.js"],M["Accessibility/FocusBorder.js"],M["Accessibility/Components/InfoRegionsComponent.js"],M["Accessibility/KeyboardNavigation.js"],M["Accessibility/Components/LegendComponent.js"],M["Accessibility/Components/MenuComponent.js"],M["Accessibility/Components/SeriesComponent/NewDataAnnouncer.js"],
M["Accessibility/ProxyProvider.js"],M["Accessibility/Components/RangeSelectorComponent.js"],M["Accessibility/Components/SeriesComponent/SeriesComponent.js"],M["Accessibility/Components/ZoomComponent.js"],M["Accessibility/HighContrastMode.js"],M["Accessibility/HighContrastTheme.js"],M["Accessibility/Options/Options.js"],M["Accessibility/Options/LangOptions.js"],M["Accessibility/Options/DeprecatedOptions.js"]],function(I,z,m,n,l,c,p,d,a,b,f,e,k,h,g,q,x,u,r,t){I=I.defaultOptions;var y=z.doc,w=m.addEvent,
A=m.extend,F=m.fireEvent,C=m.merge;z=function(){function J(B){this.proxyProvider=this.keyboardNavigation=this.components=this.chart=void 0;this.init(B)}J.prototype.init=function(B){this.chart=B;y.addEventListener&&B.renderer.isSVG?(t(B),this.proxyProvider=new e(this.chart),this.initComponents(),this.keyboardNavigation=new d(B,this.components),this.update()):(this.zombie=!0,this.components={},B.renderTo.setAttribute("aria-hidden",!0))};J.prototype.initComponents=function(){var B=this.chart,G=this.proxyProvider,
E=B.options.accessibility;this.components={container:new l,infoRegions:new p,legend:new a,chartMenu:new b,rangeSelector:new k,series:new h,zoom:new g};E.customComponents&&A(this.components,E.customComponents);var v=this.components;this.getComponentOrder().forEach(function(D){v[D].initBase(B,G);v[D].init()})};J.prototype.getComponentOrder=function(){if(!this.components)return[];if(!this.components.series)return Object.keys(this.components);var B=Object.keys(this.components).filter(function(G){return"series"!==
G});return["series"].concat(B)};J.prototype.update=function(){var B=this.components,G=this.chart,E=G.options.accessibility;F(G,"beforeA11yUpdate");G.types=this.getChartTypes();E=E.keyboardNavigation.order;this.proxyProvider.updateGroupOrder(E);this.getComponentOrder().forEach(function(v){B[v].onChartUpdate();F(G,"afterA11yComponentUpdate",{name:v,component:B[v]})});this.keyboardNavigation.update(E);!G.highContrastModeActive&&q.isHighContrastModeActive()&&q.setHighContrastTheme(G);F(G,"afterA11yUpdate",
{accessibility:this})};J.prototype.destroy=function(){var B=this.chart||{},G=this.components;Object.keys(G).forEach(function(E){G[E].destroy();G[E].destroyBase()});this.proxyProvider&&this.proxyProvider.destroy();this.keyboardNavigation&&this.keyboardNavigation.destroy();B.renderTo&&B.renderTo.setAttribute("aria-hidden",!0);B.focusElement&&B.focusElement.removeFocusBorder()};J.prototype.getChartTypes=function(){var B={};this.chart.series.forEach(function(G){B[G.type]=1});return Object.keys(B)};return J}();
(function(J){function B(){this.accessibility&&this.accessibility.destroy()}function G(){this.a11yDirty&&this.renderTo&&(delete this.a11yDirty,this.updateA11yEnabled());var P=this.accessibility;P&&!P.zombie&&(P.proxyProvider.updateProxyElementPositions(),P.getComponentOrder().forEach(function(Q){P.components[Q].onChartRender()}))}function E(P){if(P=P.options.accessibility)P.customComponents&&(this.options.accessibility.customComponents=P.customComponents,delete P.customComponents),C(!0,this.options.accessibility,
P),this.accessibility&&this.accessibility.destroy&&(this.accessibility.destroy(),delete this.accessibility);this.a11yDirty=!0}function v(){var P=this.accessibility,Q=this.options.accessibility;Q&&Q.enabled?P&&!P.zombie?P.update():this.accessibility=new J(this):P?(P.destroy&&P.destroy(),delete this.accessibility):this.renderTo.setAttribute("aria-hidden",!0)}function D(){this.series.chart.accessibility&&(this.series.chart.a11yDirty=!0)}var K=[];J.i18nFormat=n.i18nFormat;J.compose=function(P,Q,N,T,H){n.compose(P);
c.compose(P,T);d.compose(P);b.compose(P);f.compose(N);h.compose(P,Q,N);H&&k.compose(P,H);-1===K.indexOf(P)&&(K.push(P),P.prototype.updateA11yEnabled=v,w(P,"destroy",B),w(P,"render",G),w(P,"update",E),["addSeries","init"].forEach(function(L){w(P,L,function(){this.a11yDirty=!0})}),["afterDrilldown","drillupall"].forEach(function(L){w(P,L,function(){var R=this.accessibility;R&&!R.zombie&&R.update()})}));-1===K.indexOf(Q)&&(K.push(Q),w(Q,"update",D));-1===K.indexOf(N)&&(K.push(N),["update","updatedData",
"remove"].forEach(function(L){w(N,L,function(){this.chart.accessibility&&(this.chart.a11yDirty=!0)})}))}})(z||(z={}));C(!0,I,u,{accessibility:{highContrastTheme:x},lang:r});return z});Y(M,"masters/modules/accessibility.src.js",[M["Core/Globals.js"],M["Accessibility/Accessibility.js"],M["Accessibility/AccessibilityComponent.js"],M["Accessibility/Utils/ChartUtilities.js"],M["Accessibility/Utils/HTMLUtilities.js"],M["Accessibility/KeyboardNavigationHandler.js"],M["Accessibility/Components/SeriesComponent/SeriesDescriber.js"]],
function(I,z,m,n,l,c,p){I.i18nFormat=z.i18nFormat;I.A11yChartUtilities=n;I.A11yHTMLUtilities=l;I.AccessibilityComponent=m;I.KeyboardNavigationHandler=c;I.SeriesAccessibilityDescriber=p;z.compose(I.Chart,I.Point,I.Series,I.SVGElement,I.RangeSelector)})});
(function(M){function Y(z){if(I[z])return I[z].exports;var m=I[z]={i:z,l:!1,exports:{}};M[z].call(m.exports,m,m.exports,Y);m.l=!0;return m.exports}var I={};Y.m=M;Y.c=I;Y.i=function(z){return z};Y.d=function(z,m,n){Y.o(z,m)||Object.defineProperty(z,m,{configurable:!1,enumerable:!0,get:n})};Y.n=function(z){var m=z&&z.__esModule?function(){return z["default"]}:function(){return z};Y.d(m,"a",m);return m};Y.o=function(z,m){return Object.prototype.hasOwnProperty.call(z,m)};Y.p="";return Y(Y.s=95)})([function(M,
Y,I){Y.__esModule=!0;Y.ToolsBase=void 0;Y.bindLink=function(f,e){p(f).on("click keydown",function(k){if("keydown"!=k.type||k.which==d.ENTER)!1!==e&&k.preventDefault(),p(k.target).trigger("action",k)})};Y.bindButton=function(f,e){p(f).on("click keydown",function(k){if("keydown"!=k.type||k.which==d.ENTER||k.which==d.SPACE)!1!==e&&k.preventDefault(),p(k.target).trigger("action",k)})};var z=I(20),m=I(17),n=I(2),l=I(16),c=I(1),p=Bootstrap.jQuery,d={ENTER:13,SPACE:32},a=p(window),b=p(".header");Y.ToolsBase=
function(){function f(e,k,h,g,q){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this.$elem=e;this.form=p("form",this.$elem)[0];this.model=k;this.scopeDep=h||{};this.scopeFn=g||{};this.scopeResults=q||{};this.blurTimer={};this.inputs=[];this.scope=new z.Scope;this.$tealiumConfig=p("[data-tealium-config]",this.$elem);this.tealiumConfig=this.$tealiumConfig.data("tealium-config");this.tealiumScope=this.$tealiumConfig.data("tealium-scope");this.TMS=(0,n.Tealium)(this.tealiumScope);
this.a11yMessage=new l.A11yMessage(p(".a11y-message",this.$elem));this.$toolsEndpoint=p("#tools-endpoint");0<this.$toolsEndpoint.length&&this.$toolsEndpoint.data("config")&&(e=this.$toolsEndpoint.data("config").endpointConfig)&&(this.endPointConfig=e)}f.prototype.bindUiElements=function(){var e=this;this.form.reset();var k=function(r,t,y,w){var A=t.closest("[data-validation-status]").data("validation-status")||"error";y.validity.valid?this.removeStatus(t):("blur"!=r.type&&y.validity.tooShort||(w.showTooShortMessage=
!0),y.validity.valueMissing?this.setStatus(t,A,w.requiredError||"Required"):y.validity.patternMismatch?this.setStatus(t,A,w.patternMismatchError||"Invalid pattern"):y.validity.pattern2Mismatch?this.setStatus(t,A,w.pattern2MismatchError||"Invalid pattern2"):y.validity.tooLong?this.setStatus(t,A,w.tooLongError||"Length too long"):y.validity.tooShort&&w.showTooShortMessage?this.setStatus(t,A,w.tooShortError||"Length too short"):y.validity.badInput?this.setStatus(t,A,w.badInputError||"Invalid input"):
y.validity.typeMismatch?this.setStatus(t,A,w.typeMismatchError||"Invalid input"):y.validity.tooMin?this.setStatus(t,A,w.tooMinError||"Value too min"):y.validity.tooMax?this.setStatus(t,A,w.tooMaxError||"Value too max"):this.removeStatus(t))}.bind(this),h=function(r,t,y){var w=this;r.on("keydown input change blur",function(F){if(!F.target.suppressInvalidEvent){var C=F.target.control;if(C){var J=p("[name\x3d"+F.target.name+"]",w.form);setTimeout(function(){C.checkValidity();k(F,J,C,y)},50)}}});r.on("click",
function(F){var C=p(F.target);C.is(":input")&&C.is(":visible")&&F.target.focus()});var A=function(F){F[0].selectize.on("blur",function(){F.trigger("blur")})};if(r[0].selectize)A(r);else if(r.is("select"))r.on("init-selectize-finish",function(F){return A(r)});r.on("invalid",function(F){if(!F.target.suppressInvalidEvent){var C=p("[name\x3d"+F.target.name+"]",w.form);k(F,C,F.target.control,y)}});r.on("keyup",function(F){"function"==typeof y.inputAction&&y.inputAction.call(w,F,w.getValue(r)).call(w,F,
w.getValue(r))});r.on("focus",function(F){w.blurTimer[t]&&(clearTimeout(w.blurTimer[t]),w.blurTimer[t]=null)});r.on("blur",function(F){var C=r.attr("type");"radio"==C||"checkbox"==C?w.blurTimer[t]=setTimeout(function(){r.trigger("customBlur")},100):r.trigger("customBlur");"function"==typeof y.format&&(F=y.format.call(w,F,w.getValue(r)),r.val(F))});r.on("change customBlur",function(F){w.scope.set(t,F.target.validity.valid?w.getValue(t):"");w.scope.set(t+"/label",F.target.validity.valid?w.getLabel(t):
"")});r.on("change",function(F){"selection"==y.type&&w.TMS.trackEvent({event_category:"content",event_action:"radio",event_content:w.getTealiumValue(t)})})}.bind(this),g;for(g in this.model){for(var q=p("[name\x3d"+g+"]",this.$elem),x=this.getValidateName(g),u=0;u<q.length;u++)q[u].control||this.registerInput(new c.FormControl(q[u],this.form.control));u=this.model[g];this.initUiElement(q,g,u);q[0]&&(this.scope.set(x+"/valid",q[0].control.checkValidity()),h(q,g,u))}this.inputs.sort(function(r,t){return r.elem.compareDocumentPosition(t.elem)&
Node.DOCUMENT_POSITION_FOLLOWING?-1:1});a.on("tools:contentUpdated",function(r,t){for(var y in e.scopeDep)"undefined"!=typeof t[y]&&e.scopeDep[y].forEach(function(w){e.scopeResults[w]=e.scopeFn[w].call(e.scope,t[y]);a.trigger("tools:conditionUpdated",{fn:w,result:e.scopeResults[w]})})});a.on("tools:conditionUpdated",function(r,t){p("[data-enable-condition]",e.$elem).each(function(y,w){y=p(w);y.data("enable-condition")==t.fn&&(w=t.result,y.toggleClass("hidden",!w),w?y.find(".form-control-initialized").each(function(A,
F){A=e.getValidateName(F.name);F.control.setDisabled(!1);F.suppressInvalidEvent=!0;var C=F.control.checkValidity();setTimeout(function(){F.suppressInvalidEvent=!1});e.scope.set(A+"/valid",C);C&&(e.scope.set(A,e.getValue(F.name)),e.scope.set(A+"/label",e.getLabel(A)))}):y.find(".form-control-initialized").each(function(A,F){A=e.getValidateName(F.name);e.scope.set(A,null);e.scope.set(A+"/label",null);F.control.setDisabled(!0);e.scope.set(A+"/valid",!0)}))})});new m.DynamicContent(this.$elem)};f.prototype.initUiElement=
function(e,k,h){var g=this;if(h.required)if(e.attr("required","required"),"selection"==h.type){var q=e.parents('[role*\x3d"group"]');q.attr("required","required");q.attr("aria-required","true")}else"group"!=e.attr("role")&&e.attr("aria-required","true");h.maxLength&&e.attr("maxlength",h.maxLength);h.minLength&&e.attr("minlength",h.minLength);"integer"==h.type&&e.attr("pattern","[0-9]+");h.pattern&&e.attr("pattern",h.pattern);h.pattern2&&e.attr("pattern2",h.pattern2);"selection"==h.type&&"undefined"!=
typeof h.selected&&this.getValue(k)!=h.selected&&(this.setValue(k,h.selected),e[0].control.setValue(h.selected),setTimeout(function(){g.scope.set(k,g.getValue(k));g.scope.set(k+"/label",g.getLabel(k));g.TMS.trackEvent({event_category:"content",event_action:"radio",event_content:g.getTealiumValue(k)})},100))};f.prototype.registerInput=function(e){this.inputs.push(e)};f.prototype.setValue=function(e,k){"string"==typeof e&&(e=p("[name\x3d"+e+"]",this.$elem));"radio"==e.attr("type")||"checkbox"==e.attr("type")?
e.each(function(h,g){h=p(g);h.val()==k&&(h[0].checked=!0,h.attr("checked","checked"))}):e[0].selectize?e[0].selectize.setValue(k):e.val(k)};f.prototype.getValue=function(e){return this.form.control.getValue(e)};f.prototype.getLabel=function(e){return this.form.control.getLabel(e)};f.prototype.getTealiumValue=function(e){return this.form.control.getTealiumValue(e)};f.prototype.setStatus=function(e,k,h){var g=this;if("string"==typeof e){var q=this.getValidateName(e);e=null}else q=this.getValidateName(e.attr("name"));
this.scope.set(q+"/message",h);this.scope.set(q+"/status",k);this.a11yMessage.addMessage(h);setTimeout(function(){g.a11yMessage.announceFirst()},300);if(e){for(var x=!1,u=0;u<e.length;u++)e[u].control.setCustomValidity(h),e[u].control.validity.update(),x|=e[u].control.validity.valid;this.scope.set(q+"/valid",x);e.addClass(k);e.next(".button").addClass(k);e.next(".selectize-control").addClass("droplist-error")}};f.prototype.removeStatus=function(e){if("string"==typeof e){var k=this.getValidateName(e);
e=null}else k=this.getValidateName(e.attr("name"));if(e){for(var h=!1,g=0;g<e.length;g++)e[g].control.setCustomValidity(""),e[g].control.validity.update(),h|=e[g].control.validity.valid;this.scope.set(k+"/message","");this.scope.set(k+"/status","");this.scope.set(k+"/valid",h);e.removeClass("warning").removeClass("error");e.next(".button").removeClass("warning").removeClass("error");e.next(".selectize-control").removeClass("droplist-error")}};f.prototype.resetInput=function(e,k){var h=this,g=k.type,
q=this.getValidateName(e.attr("name")),x=e[0].control;x.reset();x.setDisabled(!1);if("selection"==g){g="";if(k.selected)g=k.selected;else if(isSelector&&!e.data("placeholder")){k=e[0].selectize.options;for(var u in k)if(1==k[u].$order){g=u;break}}else e.prop("checked",!1);this.setValue(q,g)}e[0].suppressInvalidEvent=!0;this.scope.set(q,this.getValue(q));this.scope.set(q+"/label",this.getLabel(q));this.scope.set(q+"/valid",x.checkValidity());x.setValue(this.getValue(q));e[0].suppressInvalidEvent=!1;
setTimeout(function(){h.scope.get(q+"/valid")||h.removeStatus(e)},100)};f.prototype.validate=function(){var e=this,k=!1,h=!1;this.inputs.forEach(function(g){(k|=!g.checkValidity())&&!h&&(h=!0,g.$elem.is("select")?(g=g.$elem.parent().find("[tabindex\x3d0]"),e.scrollTo(g[0],50),g[0].focus()):(e.scrollTo(g.elem,50),g.focus()))});this.fileInputs&&this.fileInputs.forEach(function(g){k|=!g.checkValidity()});k?setTimeout(function(){e.a11yMessage.announceFirst()},300):this.a11yMessage.clear();return!k};f.prototype.scrollTo=
function(e,k){e=e.getBoundingClientRect().top;var h=0;0<b.length&&(h=b.position().top+b.outerHeight());"undefined"==typeof k&&(k=20);e<h+k&&window.scrollBy(0,e-(h+k))};f.prototype.ajax=function(e){var k=this;return new Promise(function(h,g){var q=new XMLHttpRequest;if(k.endPointConfig){var x=k.endPointConfig.headers;x&&(e=p.extend({},{headers:x},e))}q.open(e.method,e.url);q.addEventListener("load",function(){200==q.status||201==q.status?h(q.responseText):g(q)},!1);q.addEventListener("error",g,!1);
q.addEventListener("abort",g,!1);e.headers&&e.headers.forEach(function(u){q.setRequestHeader(u.name,u.value)});e.formData||q.setRequestHeader("Content-Type","application/json");e.json?q.send(e.json):e.formData?q.send(e.formData):q.send()})};f.prototype.getValidateName=function(e){var k=p("[name\x3d"+e+"]",this.$elem);return k.is("select")?k.attr("id")+"_"+e:e};return f}()},function(M,Y,I){function z(p,d){if(!(p instanceof d))throw new TypeError("Cannot call a class as a function");}Y.__esModule=!0;
Y.FormControl=void 0;var m=I(2);(function(p){var d=function(){function a(b){z(this,a);this.elem=b;this.bindUiElement()}a.prototype.bindUiElement=function(){this.elem.control=this};a.prototype.getValue=function(b){b="string"==typeof b?p("[name\x3d"+b+"]",this.elem):p(b);var f=b.attr("type");if("radio"==f||"checkbox"==f){b=b.attr("name");var e=[];p("[name\x3d"+b+"]:checked",this.$elem).each(function(k,h){e.push(h.value)});return e.toString()}return b.is("select")?b[0].options[0].value||"":0<b.filter(":input").length?
b.filter(":input").val():b[0].value};a.prototype.getLabel=function(b){b="string"==typeof b?p("[name\x3d"+b+"]",this.elem):p(b);var f=b.attr("type");return"radio"==f||"checkbox"==f?(b=b.attr("name"),p("[name\x3d"+b+"]:checked",this.$elem).attr("aria-label")):b.is("select")?b.find("option").text():null};a.prototype.getTealiumValue=function(b){b="string"==typeof b?p("[name\x3d"+b+"]",this.elem):p(b);var f=b.attr("type");return"radio"==f||"checkbox"==f?(b=b.attr("name"),p("[name\x3d"+b+"]:checked",this.$elem).data("tealium-value")):
null};a.prototype.submit=function(){};return a}();TOOLS_utils.registerComponent({name:"form",selector:"form",init:function(a){return new d(a)}})})(Bootstrap.jQuery);var n=Bootstrap.jQuery,l=[8,9,13,16,17,18,20,27,33,34,35,36,37,38,39,40,45,46,91],c=function(){function p(){z(this,p);this.reset()}p.prototype.update=function(){var d=!0,a;for(a in this)if("valid"!=a&&"boolean"==typeof this[a]&&(d=d&&!this[a],!d))break;this.valid=d};p.prototype.reset=function(){this.typeMismatch=this.tooMax=this.tooMin=
this.tooShort=this.tooLong=this.stepMismatch=this.rangeUnderflow=this.rangeOverflow=this.pattern2Mismatch=this.patternMismatch=this.customError=this.badInput=!1;this.valid=!0;this.valueMissing=!1};return p}();Y.FormControl=function(){function p(d,a){z(this,p);this.init(d,a)}p.prototype.init=function(d,a){this.elem=d;this.form=a;this.$elem=n(d);this.validationMessage="";this.validity=new c;this.disabled=!1;this.reset();this.$tealiumScopeConfig=this.$elem.closest("[data-tealium-scope]");this.tealiumScope=
this.$tealiumScopeConfig.data("tealium-scope");this.TMS=(0,m.Tealium)(this.tealiumScope);this.bindUiElement();this.bindUiEvents();this.$elem.addClass("form-control-initialized")};p.prototype.bindUiElement=function(){this.bindFormControl(this.elem)};p.prototype.bindFormControl=function(d){var a=this;d.control=this;["checkValidity","checkCustomValidity","reset"].forEach(function(b){a[b]&&(d[b]=a[b].bind(a))});"undefined"==typeof d.validity?d.validity=this.validity:d.validity.reset=this.validity.reset};
p.prototype.bindUiEvents=function(){var d=this;this.$elem.on("keydown input change blur",function(a){var b=a.which;b&&(-1!=l.indexOf(b)||a.ctrlKey||a.altKey||a.metaKey)||((b=d.$elem.attr("maxlength"))&&d.$elem[0].selectionStart!=d.$elem[0].selectionEnd&&d._getFormValue().length>=b&&("input"==a.type||"keydown"==a.type)?d.tooLongValidityState=0:!b||d._getFormValue().length!=b||"input"!=a.type&&"keydown"!=a.type?b&&d._getFormValue().length>b?d.tooLongValidityState=2:d.tooLongValidityState=0:(clearTimeout(d.tooLongValidityEventTimer),
d.tooLongValidityEvent=a.type,d.tooLongValidityEventTimer=setTimeout(function(){d.tooLongValidityEvent=null},200),d.tooLongValidityState=0==d.tooLongValidityState?1:2),1<d.tooLongValidityState&&"blur"!=a.type?(a.preventDefault(),d.validity.tooLong=!0):d.validity.tooLong=!1,d.validity.update())});this.$elem.on("focus",function(){var a=d.$elem.attr("maxlength");a&&d._getFormValue().length==a&&(d.tooLongValidityState=1)});this.$elem.on("input change blur",function(a){d.setValue(d.elem.value);var b=d.$elem.attr("maxlength"),
f=d.$elem.attr("minLength"),e=!!d.$elem.attr("required"),k=d.$elem.attr("pattern"),h=d.$elem.attr("pattern2"),g=d.$elem.attr("minvalue"),q=d.$elem.attr("maxvalue");!e||"div"!=d.$elem[0].nodeName.toLowerCase()||d._getFormValue()&&0!=d._getFormValue().length?!e||"div"==d.$elem[0].nodeName.toLowerCase()||d._getFormValue()&&0!=d._getFormValue().trim().length?e&&d.$elem.is("select")?d.validity.valueMissing=!d.elem.value:d.validity.valueMissing=!1:d.validity.valueMissing=!0:d.validity.valueMissing=!0;b&&
d._getFormValue().length<=b&&"input"!=a.type&&(d.validity.tooLong=!1);f&&0<d._getFormValue().length&&d._getFormValue().length<f?d.validity.tooShort=!0:d.validity.tooShort=!1;k&&0<d._getFormValue().length&&!(new RegExp("^"+k+"$")).test(d._getFormValue())?d.validity.patternMismatch=!0:d.validity.patternMismatch=!1;h&&0<d._getFormValue().length&&!(new RegExp("^"+h+"$")).test(d._getFormValue())?d.validity.pattern2Mismatch=!0:d.validity.pattern2Mismatch=!1;if(g||q)a=Number(d._getFormValue().replace(/,/g,
"")),d.validity.tooMin=a<g?!0:!1,d.validity.tooMax=a>q?!0:!1;d.$elem.hasClass("calendar-trigger")&&((g=d.$elem.attr("calendar-error"))?(d.validity.tooMin="min"==g?!0:!1,d.validity.tooMax="max"==g?!0:!1,d.validity.badInput="bad"==g?!0:!1):(d.validity.tooMin=!1,d.validity.tooMax=!1,d.validity.badInput=!1));d.validity.update()})};p.prototype.setValue=function(d){this._value=d};p.prototype.getValue=function(){return this._value};p.prototype._getFormValue=function(){return this.form?this.form.getValue(this.elem):
this.getValue()};p.prototype.reset=function(){var d=this;this.pristine=!0;this.$elem.one("focus",function(){d.pristine=!1});this.value=null;this.validity.reset();this.$elem.removeAttr("aria-invalid")};p.prototype.validate=function(){var d=!!this.$elem.attr("required");!d||"div"!=this.$elem[0].nodeName.toLowerCase()||this._getFormValue()&&0!=this._getFormValue().length?!d||"div"==this.$elem[0].nodeName.toLowerCase()||this._getFormValue()&&0!=this._getFormValue().trim().length?d&&this.$elem.is("select")?
this.validity.valueMissing=!this.elem.value:this.validity.valueMissing=!1:this.validity.valueMissing=!0:this.validity.valueMissing=!0;(d=this.$elem.attr("pattern"))&&0<this._getFormValue().length&&!(new RegExp("^"+d+"$")).test(this._getFormValue())?this.validity.patternMismatch=!0:this.validity.patternMismatch=!1;(d=this.$elem.attr("maxlength"))&&this._getFormValue()&&this._getFormValue().length>d?this.validity.tooLong=!0:"input"!=this.tooLongValidityEvent&&"keydown"!=this.tooLongValidityEvent&&(this.validity.tooLong=
!1);this.validity.update()};p.prototype.checkValidity=function(){if(this.disabled)return this.validity.valid=!0;this.validate();this.validity.update();var d=this.validity.valid;this.$elem.attr("aria-invalid",(!d).toString());d||this.$elem.trigger("invalid");return d};p.prototype.setCustomValidity=function(d){this.validity.customError=!!d;this.validationMessage=d};p.prototype.setDisabled=function(d){this.disabled=d};p.prototype.focus=function(){this.$elem.focus()};return p}()},function(M,Y,I){function z(c){l[c]||
(l[c]=new n(c));return l[c]}Y.__esModule=!0;var m=new Promise(function(c){if("undefined"!=typeof window.TMS)c(window.TMS);else var p=setInterval(function(){"undefined"!=typeof window.TMS&&(clearInterval(p),c(window.TMS))},200)}),n=function(){function c(p){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.scope=p;this.scopeUtagData={site_section:"pws",page_business_line:"rbwm",page_security_level:"0",page_language:TOOLS_utils.getLocale().toLocaleLowerCase()};"undefined"!=
typeof utag_data&&"single_page"!=utag_data.site_type&&(this.scopeUtagData.site_section=utag_data.site_section||"pws",this.scopeUtagData.page_business_line=utag_data.page_business_line||"rbwm",this.scopeUtagData.page_security_level=utag_data.page_security_level||"0",this.scopeUtagData.page_language=utag_data.page_language||TOOLS_utils.getLocale().toLocaleLowerCase(),this.scopeUtagData.page_customer_group=utag_data.page_customer_group||"general",utag_data.page_type&&(this.scopeUtagData.page_type=utag_data.page_type),
utag_data.page_url&&(this.scopeUtagData.page_url=utag_data.page_url),utag_data.page_name&&(this.scopeUtagData.page_name=utag_data.page_name),utag_data.page_category&&(this.scopeUtagData.page_category=utag_data.page_category),utag_data.page_subcategory&&(this.scopeUtagData.page_subcategory=utag_data.page_subcategory),utag_data.product_category&&(this.scopeUtagData.product_category=utag_data.product_category),utag_data.product_subcategory&&(this.scopeUtagData.product_subcategory=utag_data.product_subcategory),
utag_data.product_id&&(this.scopeUtagData.product_id=utag_data.product_id))}c.prototype.trackView=function(p){var d=this;p&&0!=Object.getOwnPropertyNames(p).length&&(m=m.then(function(a){var b={};if(d.scope){if(p.page_url&&!p.page_name){var f=p.page_url;f.endsWith("/")&&(f=f.substring(0,f.length-1));p.page_name="pws"+f.replace(/\//g,":").replace(/\-/g," ").replace(".html","")}p.page_name&&!p.page_category&&2<=p.page_name.split(":").length&&(p.page_category=p.page_name.split(":")[1]);p.page_name&&
!p.page_subcategory&&3<=p.page_name.split(":").length&&(p.page_subcategory=p.page_name.split(":")[2]);delete d.scopeUtagData.event_action;delete d.scopeUtagData.event_category;delete d.scopeUtagData.event_subcategory;delete d.scopeUtagData.event_content;delete d.scopeUtagData.form_field_1;delete d.scopeUtagData.form_field_2;delete d.scopeUtagData.form_field_3;delete d.scopeUtagData.form_field_4;Object.assign(d.scopeUtagData,p);Object.assign(b,d.scopeUtagData)}a.trackView(b);return a}))};c.prototype.trackEvent=
function(p){var d=this;p&&0!=Object.getOwnPropertyNames(p).length&&(m=m.then(function(a){var b={};if(d.scope){if(p.page_url&&!p.page_name){var f=p.page_url;f.endsWith("/")&&(f=f.substring(0,f.length-1));p.page_name="pws"+f.replace(/\//g,":").replace(/\-/g," ").replace(".html","")}Object.assign(b,d.scopeUtagData);Object.assign(b,p)}a.trackEvent(b);return a}))};return c}(),l={};Y.TMS=z();Y.Tealium=function(c){return z(c)}},function(M,Y,I){function z(l,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+
typeof c);l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(l,c):l.__proto__=c)}Y.__esModule=!0;Y.HKID=void 0;M=I(1);var m=Bootstrap.jQuery,n=[8,9,13,16,17,18,20,27,33,34,35,36,37,38,39,40,45,46,91];Y.HKID=function(l){function c(p){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");p=l.call(this,p);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!p||"object"!==typeof p&&"function"!==typeof p?this:p}z(c,l);c.prototype.bindUiElement=function(){l.prototype.bindUiElement.call(this);this.bindFormControl(this.$input[0])};c.prototype.init=function(p){this.$elem=m(p);p.name=this.$elem.attr("name");this.$input=m("input[type\x3dhidden]",this.$elem);this.$hkid=m(".hkid-hkid input",this.$elem);this.$checkDigit=m(".hkid-checkdigit input",this.$elem);this.hkid=this.$hkid[0];this.checkDigit=this.$checkDigit[0];l.prototype.init.call(this,p)};c.prototype.bindUiEvents=
function(){var p=this;this.$hkid.on("input keydown",function(d){-1!=n.indexOf(d.which)||d.ctrlKey||d.altKey||d.metaKey||(d=p.$hkid.val(),/[a-z]{1,2}[0-9]{6}/i.test(d)&&p.$hkid[0].selectionStart==p.$hkid[0].selectionEnd&&p.$hkid[0].selectionEnd==d.length&&p.$checkDigit.focus())});this.$checkDigit.on("input keydown",function(d){var a=d.which;0==p.$checkDigit.val().length&&8==a&&(d.preventDefault(),p.$hkid.focus())});this.$hkid.on("blur",function(){p.$hkid.val(p.$hkid.val().toUpperCase());p.setValue();
p.$elem.trigger("change")});this.$checkDigit.on("blur",function(){p.$checkDigit.val(p.$checkDigit.val().toUpperCase());p.setValue();p.$elem.trigger("change")});l.prototype.bindUiEvents.call(this)};c.prototype.setValue=function(){var p=this.$hkid.val(),d=this.$checkDigit.val();this._value=p||d?p+"("+d+")":"";this.$input.val(this._value)};c.prototype.checkValidity=function(){if(this.disabled)return this.validity.valid=!0;this.validity.reset();var p=this.$hkid.val(),d=this.$checkDigit.val();p||d?this.validity.badInput=
!this.hkid.validity.valid||!this.checkDigit.validity.valid||!this._validate(p,d):this.validity.valueMissing=!0;this.validity.update();p=this.validity.valid;this.$elem.attr("aria-invalid",(!p).toString());p||this.$elem.trigger("invalid");return p};c.prototype._validate=function(p,d){if(/^[A-Z]{1,2}[0-9]{6}$/i.exec(p)&&/^[A0-9]$/i.test(d)){p=(" "+p+d).toLowerCase().substr(-9);for(var a=d=0;9>a;a++){var b=p.charCodeAt(a);b=48<=b&&57>=b?b-48:97<=b&&122>=b?b-87:36;d+=b*(9-a)}return 0==d%11}return!1};c.prototype.focus=
function(){this.$hkid.focus()};return c}(M.FormControl)},function(M,Y,I){Y.__esModule=!0;var z=Bootstrap.jQuery;Y.StepTracker=function(){function m(n){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.elem=n;this.$elem=z(n);this.$steps=z("li",this.elem);this.$headings=z(".heading \x3e *:not(.step-notes)",this.elem);this.stepsConfig=this.$elem.data("config");this.$stepNotes=z(".step-notes",this.elem);this.bindUiEvents();this.reset()}m.prototype.bindUiEvents=function(){this.$elem.on("change",
function(){})};m.prototype.reset=function(){this.step=1;this.setStep(1)};m.prototype.prev=function(){this.setStep(this.step-1)};m.prototype.next=function(){this.setStep(this.step+1)};m.prototype.setStep=function(n){var l=this.step;this.step=n;this.step>this.$steps.length?this.step=this.$steps.length:1>this.step&&(this.step=1);this.step>l?this.$steps.eq(l-1).addClass("completed"):this.step==l&&(this.$steps.removeClass("current completed"),this.$headings.removeClass("current"));this.$steps.eq(l-1).removeClass("current");
this.$steps.eq(this.step-1).addClass("current");this.$headings.eq(l-1).removeClass("current");this.$headings.eq(this.step-1).addClass("current");this.$stepNotes.attr("aria-hidden","true");this.$stepNotes.eq(this.step-1).attr("aria-hidden","false");document.title=this.stepsConfig[this.step-1].pageTitle;this.step!=l&&this.$elem.trigger("change",this.step)};return m}()},function(M,Y,I){function z(n,l){if("function"!==typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+
typeof l);n.prototype=Object.create(l&&l.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});l&&(Object.setPrototypeOf?Object.setPrototypeOf(n,l):n.__proto__=l)}Y.__esModule=!0;Y.Dateselector=void 0;M=I(1);var m=Bootstrap.jQuery;Y.Dateselector=function(n){function l(c){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");c=n.call(this,c);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||"object"!==
typeof c&&"function"!==typeof c?this:c}z(l,n);l.prototype.init=function(c){this.$elem=m(c);this.$dateselector=m("select.dateselector-hidden",c);this.$dateselectorDD=m(".dateselector-dd select",c);this.$dateselectorMM=m(".dateselector-mm select",c);this.$dateselectorYYYY=m(".dateselector-yyyy select",c);n.prototype.init.call(this,c)};l.prototype.bindUiEvents=function(){var c=this;this.$dateselectorDD.on("change",function(){c.setValue();c.$dateselector.trigger("change")});this.$dateselectorMM.on("change",
function(){c.setValue();c.$dateselector.trigger("change")});this.$dateselectorYYYY.on("change",function(){c.setValue();c.$dateselector.trigger("change")});n.prototype.bindUiEvents.call(this)};l.prototype.setValue=function(){var c=this.$dateselectorDD.val(),p=this.$dateselectorMM.val(),d=this.$dateselectorYYYY.val();this._value=c||p||d?d+"-"+p+"-"+c:"";this.$dateselector[0].options[0].value=this._value;this.$dateselector[0].options[0].text=this._value};l.prototype.clearAllOptions=function(){this.clearYearOption();
this.clearMonthOption();this.clearDayOption()};l.prototype.clearYearOption=function(){this.$dateselectorYYYY[0].selectize.clearOptions()};l.prototype.clearMonthOption=function(){this.$dateselectorMM[0].selectize.clearOptions()};l.prototype.clearDayOption=function(){this.$dateselectorDD[0].selectize.clearOptions()};l.prototype.addAllOptions=function(c,p,d){this.addYearOption(c);this.addMonthOption(p);this.addDayOption(d)};l.prototype.addYearOption=function(c){this.$dateselectorYYYY[0].selectize.addOption(c)};
l.prototype.addMonthOption=function(c){this.$dateselectorMM[0].selectize.addOption(c)};l.prototype.addDayOption=function(c){this.$dateselectorDD[0].selectize.addOption(c)};l.prototype.setSelectedValue=function(c){if(c=/^([0-9]{4})-(0?[1-9]|1[0-2])-(0?[1-9]|[1-2][0-9]|3[0-1])$/.exec(c.split(" ")[0]))this.setYearValue(c[1]),this.setMonthValue(c[2]),this.setDayValue(c[3])};l.prototype.setYearValue=function(c){this.$dateselectorYYYY[0].selectize.setValue(c)};l.prototype.setMonthValue=function(c){this.$dateselectorMM[0].selectize.setValue(c)};
l.prototype.setDayValue=function(c){this.$dateselectorDD[0].selectize.setValue(c)};l.prototype.disable=function(){this.$dateselectorYYYY[0].selectize.disable();this.$dateselectorMM[0].selectize.disable();this.$dateselectorDD[0].selectize.disable()};l.prototype.enable=function(){this.$dateselectorYYYY[0].selectize.enable();this.$dateselectorMM[0].selectize.enable();this.$dateselectorDD[0].selectize.enable()};l.prototype.disableFocus=function(){this.$dateselectorYYYY[0].selectize.disableFocus();this.$dateselectorMM[0].selectize.disableFocus();
this.$dateselectorDD[0].selectize.disableFocus()};l.prototype.enableFocus=function(){this.$dateselectorYYYY[0].selectize.enableFocus();this.$dateselectorMM[0].selectize.enableFocus();this.$dateselectorDD[0].selectize.enableFocus()};l.prototype.addError=function(){this.$dateselectorYYYY.next(".selectize-control").addClass("droplist-error");this.$dateselectorMM.next(".selectize-control").addClass("droplist-error");this.$dateselectorDD.next(".selectize-control").addClass("droplist-error");this.$dateselectorYYYY.next(".selectize-control").find(".selectize-input").attr("aria-invalid",
"true");this.$dateselectorMM.next(".selectize-control").find(".selectize-input").attr("aria-invalid","true");this.$dateselectorDD.next(".selectize-control").find(".selectize-input").attr("aria-invalid","true")};l.prototype.removeError=function(){this.$dateselectorYYYY.next(".selectize-control").removeClass("droplist-error");this.$dateselectorMM.next(".selectize-control").removeClass("droplist-error");this.$dateselectorDD.next(".selectize-control").removeClass("droplist-error");this.$dateselectorYYYY.next(".selectize-control").find(".selectize-input").attr("aria-invalid",
"false");this.$dateselectorMM.next(".selectize-control").find(".selectize-input").attr("aria-invalid","false");this.$dateselectorDD.next(".selectize-control").find(".selectize-input").attr("aria-invalid","false")};return l}(M.FormControl)},function(M,Y,I){Y.__esModule=!0;Y.Cacl1=function(){function z(){if(!(this instanceof z))throw new TypeError("Cannot call a class as a function");this.G_INT_PF_MONTHLY=1;this.G_INT_PF_NONCALMONTH=2;this.G_INT_PF_SEMIMONTH=3;this.G_INT_PF_FORTNIGHTLY=4;this.G_INT_PF_WEEKLY=
5;this.G_INT_AGE_BELOW18=1;this.G_INT_AGE_BETWEEN1865=2;this.G_INT_AGE_ABOVE65=3;this.G_INT_WC_MON_SUN=this.G_INT_AGE_DEPENDS=0;this.G_INT_WC_TUE_MON=1;this.G_INT_WC_WED_TUE=2;this.G_INT_WC_THU_WED=3;this.G_INT_WC_FRI_THU=4;this.G_INT_WC_SAT_FRI=5;this.G_INT_WC_SUN_SAT=6;this.G_INT_MIN_MONTH_1=4E3;this.G_INT_MIN_SMONTH_1=2E3;this.G_INT_MIN_FNIGHT_1=1820;this.G_INT_MIN_WEEK_1=910;this.G_INT_MIN_DAY_1=130;this.G_INT_MAX_MONTH_1=2E4;this.G_INT_MAX_SMONTH_1=1E4;this.G_INT_MAX_FNIGHT_1=9100;this.G_INT_MAX_WEEK_1=
4550;this.G_INT_MAX_DAY_1=650;this.G_INT_MIN_MONTH_2=5E3;this.G_INT_MIN_DAY_2=160;this.G_INT_MAX_MONTH_2=2E4;this.G_INT_MAX_DAY_2=650;this.G_EFF_DATE=new Date(2003,1,1);this.G_NO_SAT_DEADLINE_DATE=new Date(2008,11,1);this.G_CALCULATOR_ABS_PATH="/hk/mpf/calculator/";this.G_HOLIDAY_FILE_NAME="pubholiday.txt";this.G_STR_FORM_GENERAL_FIELDS="pr_freq noncal_start_day prfnight_start_year prfnight_start_month prfnight_start_date prweekly_cycle".split(" ");this.G_STR_FORM_FIELDS_DOE=["doe_year","doe_month",
"doe_date"];this.G_STR_FORM_FIELDS_DOB=["dob_year","dob_month","dob_date"];this.G_STR_FORM_FIELDS_RI="ri";this.G_LANG_ENG="eng";this.G_LANG_CHI="chi";this.intNonCalStartDay=this.intPyrllFrequency=0;this.datePryllFnightStartDate;this.intWeeklyCycle;this.dateDOB;this.dateDOE;this.bAge65Within1stPeriod;this.dateContPeriods;this.dblFormRI;this.dateTodate=new Date;this.bIsThe1stPeriodStartDate;this.strLang="";this.dateLastDOE;this.bBeforeEffDate=!1;this.selectToPF={noncal_start_day:this.G_INT_PF_NONCALMONTH,
prfnight_start_date:this.G_INT_PF_FORTNIGHTLY,prfnight_start_month:this.G_INT_PF_FORTNIGHTLY,prfnight_start_year:this.G_INT_PF_FORTNIGHTLY,prweekly_cycle:this.G_INT_PF_WEEKLY}}z.prototype.getDisplayDate=function(m){return m.getFullYear()+"/"+this.getNumMonth(m.getMonth()+1+"")+"/"+this.getNumMonth(m.getDate()+"")};z.prototype.getNumMonth=function(m){return 2>m.length?"0"+m:m};z.prototype.getShortMonth=function(m){var n=Array(12);n[0]="Jan";n[1]="Feb";n[2]="Mar";n[3]="Apr";n[4]="May";n[5]="Jun";n[6]=
"Jul";n[7]="Aug";n[8]="Sep";n[9]="Oct";n[10]="Nov";n[11]="Dec";return n[m]};z.prototype.getAge=function(m,n){return m.getFullYear()!=n.getFullYear()?m.getMonth()==n.getMonth()?m.getDate()>n.getDate()?n.getFullYear()-m.getFullYear()-1:n.getFullYear()-m.getFullYear():m.getMonth()>n.getMonth()?n.getFullYear()-m.getFullYear()-1:n.getFullYear()-m.getFullYear():0};z.prototype.getCommingDateByDay=function(m,n){for(var l=m,c=0;8>c&&(l=this.getDateAfter(c,m),l.getDay()!=n);c++);return l};z.prototype.getDateCount=
function(m,n){return Math.abs(m-n)/36E5/24+1};z.prototype.getDateDiff=function(m,n){return Math.abs(m-n)/36E5/24};z.prototype.getDateAfter=function(m,n){return new Date(n.getFullYear(),n.getMonth(),parseInt(n.getDate())+parseInt(m))};z.prototype.isSameDate=function(m,n){return m.toUTCString()==n.toUTCString()?!0:!1};z.prototype.getLastDateOfMonth=function(m){if(1!=m.getMonth()){var n=new Date(m.getFullYear(),m.getMonth(),31);return n.getMonth()==m.getMonth()?n:new Date(m.getFullYear(),m.getMonth(),
30)}return this.isLeapYear(m)?new Date(m.getFullYear(),1,29):new Date(m.getFullYear(),1,28)};z.prototype.isLeapYear=function(m){return 29==(new Date(m.getFullYear(),1,29)).getDate()?!0:!1};z.prototype.getDisplayNum=function(m){var n=m.lastIndexOf(".");return this.returnComma(0>n?m+".00":n==m.length-1?m+"00":n==m.length-2?m+"0":m)};z.prototype.returnComma=function(m){for(var n=m.substring(m.lastIndexOf("."),m.length),l=m.substring(0,m.lastIndexOf(".")),c=0,p=1;c<l.length&&3<m.length;)3==p&&c<l.length-
1&&(l=l.substring(0,l.length-c-1)+","+l.substring(l.length-c-1,l.length),p=0,c++),p++,c++;return l+n};z.prototype.getTheNumTail=function(m,n){var l=parseInt(m.substring(m.length-1,m.length));return"11"!=m&&"12"!=m&&"13"!=m?1==l?void 0!=n.numTailFirst?n.numTailFirst:"":2==l?void 0!=n.numTailSecond?n.numTailSecond:"":3==l?void 0!=n.numTailThird?n.numTailThird:"":void 0!=n.numTailOther?n.numTailOther:"":void 0!=n.numTailOther?n.numTailOther:""};z.prototype.getTheLastDateByDay=function(m,n){for(var l=
-1;this.getDateAfter(l,m).getDay()!=n;)l--;return this.getDateAfter(l,m)};z.prototype.isFormValid=function(m){for(var n,l=0;l<m.length;l++)if(n=Request.Form(m[l]),null==n)return!1;return!0};z.prototype.setPryllFrequency=function(m){this.intPyrllFrequency=parseInt(m)};z.prototype.setNonCalStartDay=function(m){this.intNonCalStartDay=parseInt(m)};z.prototype.setPryllFnightStartDate=function(m,n,l){this.datePryllFnightStartDate=new Date(parseInt(m),parseInt(n),parseInt(l))};z.prototype.setWeeklyCycle=
function(m){this.intWeeklyCycle=parseInt(m)};z.prototype.setDOE=function(m,n,l){this.dateDOE=new Date(parseInt(m),parseInt(n),parseInt(l))};z.prototype.setDOB=function(m,n,l){this.dateDOB=new Date(parseInt(m),parseInt(n),parseInt(l))};z.prototype.setRelevantIncome=function(m,n){this.dblFormRI=Array(n);for(var l=0;l<n;l++)dblFormRI[l]=Request.Form(m+l)};z.prototype.setContPeriods=function(m){this.dateContPeriods=m};z.prototype.setAge65Within1stPeriod=function(m){null==this.bAge65Within1stPeriod&&(this.bAge65Within1stPeriod=
m)};z.prototype.setThe1stPeriodStartDate=function(m){this.bIsThe1stPeriodStartDate=m};z.prototype.setLang=function(m){this.strLang=m};z.prototype.getTodate=function(){return this.dateTodate};z.prototype.getPryllFrequency=function(){return this.intPyrllFrequency};z.prototype.getNonCalStartDay=function(){return this.intNonCalStartDay};z.prototype.getPryllFnightStartDate=function(){return this.datePryllFnightStartDate};z.prototype.getWeeklyCycle=function(){return this.intWeeklyCycle};z.prototype.getDOE=
function(){return this.dateDOE};z.prototype.getDOB=function(){return this.dateDOB};z.prototype.getThe60thDOE=function(){return this.getDateAfter(59,this.dateDOE)};z.prototype.getThe30thDOE=function(){return this.getDateAfter(29,this.dateDOE)};z.prototype.getThe31stDOE=function(){return this.getDateAfter(30,this.dateDOE)};z.prototype.getThe18thAgeDate=function(){var m=this.getEEAge()-18;m=this.getDOE().getFullYear()-m;return 18<this.getAge(this.getDOB(),new Date(m,this.getDOB().getMonth(),this.getDOB().getDate()))?
new Date(m-1,this.getDOB().getMonth(),this.getDOB().getDate()):new Date(m,this.getDOB().getMonth(),this.getDOB().getDate())};z.prototype.is18thBdayAfter31stDOE=function(){return this.getThe18thAgeDate()>this.getThe31stDOE()||this.isSameDate(this.getThe18thAgeDate(),this.getThe31stDOE())};z.prototype.getThe65thAgeDate=function(){var m=this.getEEAge()-65;m=this.getDOE().getFullYear()-m;return 65<this.getAge(this.getDOB(),new Date(m,this.getDOB().getMonth(),this.getDOB().getDate()))?new Date(m-1,this.getDOB().getMonth(),
this.getDOB().getDate()):new Date(m,this.getDOB().getMonth(),this.getDOB().getDate())};z.prototype.getRelevantIncome=function(){return this.dblFormRI};z.prototype.getEEAge=function(){return this.getAge(this.getDOB(),this.getDOE())};z.prototype.getContPeriods=function(){return this.dateContPeriods};z.prototype.isAge65Within1stPeriod=function(){return this.bAge65Within1stPeriod};z.prototype.getContPeriod=function(m,n){return this.dateContPeriods[m][n]};z.prototype.getLang=function(){return this.strLang};
z.prototype.isBeforeEffDate=function(){return this.getDOE()<this.G_EFF_DATE};z.prototype.isThe1stPeriodStartDate=function(){return this.bIsThe1stPeriodStartDate};z.prototype.isAge65WithinContPeriods=function(){var m=this.getThe65thAgeDate(),n=this.getContPeriods()[0][0],l=this.getContPeriods()[this.getContPeriods().length-1][1];return(n<m||this.isSameDate(n,m))&&(l>m||this.isSameDate(l,m))};z.prototype.setLastDOE=function(m,n,l){this.dateLastDOE=new Date(parseInt(m),parseInt(n),parseInt(l))};z.prototype.getLastDOE=
function(){return this.dateLastDOE};z.prototype.isLCStartBeforeEffDate=function(){return this.getContPeriods()[0]<this.G_EFF_DATE};z.prototype.getDateSelectionHtml=function(m){var n,l="";var c="\x3cselect name\x3d'"+m+"_date' onclick\x3d\"setPrFreq(document.forms['emp_details'], 3);\"\x3e";for(n=0;31>n;n++)c+="\x3coption value\x3d'"+(n+1)+"'\x3e"+(n+1)+"\x3c/option\x3e";c+="\x3c/select\x3e\x26nbsp;";n="\x3cselect name\x3d'"+m+"_month' onclick\x3d\"setPrFreq(document.forms['emp_details'], 3);\"\x3e";
for(var p=0;12>p;p++)n+="\x3coption value\x3d'"+p+"'\x3e"+getShortMonth(p)+"\x3c/option\x3e";n+="\x3c/select\x3e\x26nbsp;";l+="\x3cselect name\x3d'"+m+"_year' onclick\x3d\"setPrFreq(document.forms['emp_details'], 3);\"\x3e";for(m=this.getTodate().getFullYear()-1;m<this.getTodate().getFullYear()+5;m++)l=2003==m?l+("\x3coption value\x3d'"+m+"' selected\x3e"+m+"\x3c/option\x3e"):l+("\x3coption value\x3d'"+m+"'\x3e"+m+"\x3c/option\x3e");return c+n+(l+"\x3c/select\x3e\x26nbsp;")};z.prototype.getDateSelectionHtmlDOE=
function(m){var n,l="";var c="\x3cselect name\x3d'"+m+"_date'\x3e";for(n=0;31>n;n++)c+="\x3coption value\x3d'"+(n+1)+"'\x3e"+(n+1)+"\x3c/option\x3e";c+="\x3c/select\x3e\x26nbsp;";n="\x3cselect name\x3d'"+m+"_month'\x3e";for(var p=0;12>p;p++)n+="\x3coption value\x3d'"+p+"'\x3e"+this.getShortMonth(p)+"\x3c/option\x3e";n+="\x3c/select\x3e\x26nbsp;";l+="\x3cselect name\x3d'"+m+"_year'\x3e";for(m=getTodate().getFullYear()+1;1999<m;m--)l=2003==m?l+("\x3coption value\x3d'"+m+"' selected\x3e"+m+"\x3c/option\x3e"):
l+("\x3coption value\x3d'"+m+"'\x3e"+m+"\x3c/option\x3e");return c+n+(l+"\x3c/select\x3e\x26nbsp;")};z.prototype.getDateSelectionHtmlLDOE=function(m){var n,l="";var c="\x3cselect name\x3d'"+m+"_date'\x3e";for(n=0;31>n;n++)c+="\x3coption value\x3d'"+(n+1)+"'\x3e"+(n+1)+"\x3c/option\x3e";c+="\x3c/select\x3e\x26nbsp;";n="\x3cselect name\x3d'"+m+"_month'\x3e";for(var p=0;12>p;p++)n+="\x3coption value\x3d'"+p+"'\x3e"+this.getShortMonth(p)+"\x3c/option\x3e";n+="\x3c/select\x3e\x26nbsp;";l+="\x3cselect name\x3d'"+
m+"_year'\x3e";for(m=this.getTodate().getFullYear()+1;2E3<m;m--)l=2003==m?l+("\x3coption value\x3d'"+m+"' selected\x3e"+m+"\x3c/option\x3e"):l+("\x3coption value\x3d'"+m+"'\x3e"+m+"\x3c/option\x3e");return c+n+(l+"\x3c/select\x3e\x26nbsp;")};z.prototype.getDateSelectionHtmlAge=function(m){var n,l="";var c="\x3cselect name\x3d'"+m+"_date' onclick\x3d\"setAgeGroup(document.forms['emp_details'], 0);\"\x3e";for(n=0;31>n;n++)c+="\x3coption value\x3d'"+(n+1)+"'\x3e"+(n+1)+"\x3c/option\x3e";c+="\x3c/select\x3e\x26nbsp;";
n="\x3cselect name\x3d'"+m+"_month' onclick\x3d\"setAgeGroup(document.forms['emp_details'], 0);\"\x3e";for(var p=0;12>p;p++)n+="\x3coption value\x3d'"+p+"'\x3e"+this.getShortMonth(p)+"\x3c/option\x3e";n+="\x3c/select\x3e\x26nbsp;";l+="\x3cselect name\x3d'"+m+"_year' onclick\x3d\"setAgeGroup(document.forms['emp_details'], 0);\"\x3e";for(m=getTodate().getFullYear()+1;m>getTodate().getFullYear()+1-70;m--)l=m==getTodate().getFullYear()-20?l+("\x3coption value\x3d'"+m+"' selected\x3e"+m+"\x3c/option\x3e"):
l+("\x3coption value\x3d'"+m+"'\x3e"+m+"\x3c/option\x3e");return c+n+(l+"\x3c/select\x3e\x26nbsp;")};z.prototype.getNonCalStartDayHtml=function(m){m="\x26nbsp;\x3cselect name\x3d'"+(m+"' onclick\x3d'setPrFreq(document.forms[\"emp_details\"], 1);//'\x3e");for(var n=1;31>n;n++){var l=31==n?1:n+1;m+="\x3coption value\x3d'"+(n+1)+"'\x3e"+l+this.getTheNumTail(l+"")+" to "+n+this.getTheNumTail(n+"")+"\x3c/option\x3e"}return m+"\x3c/select\x3e"};z.prototype.getDisplayPryllFeqDesc=function(m,n){var l="";
switch(m){case this.G_INT_PF_MONTHLY:l=n.calendarMonth;break;case this.G_INT_PF_NONCALMONTH:l=n.nonCalendarMonthPre+this.getNonCalStartDay()+this.getTheNumTail(this.getNonCalStartDay()+"",n)+n.nonCalendarMonthPost;break;case this.G_INT_PF_SEMIMONTH:l=n.semiMonthly;break;case this.G_INT_PF_FORTNIGHTLY:l=n.fortnightlyPre+this.getDisplayDate(this.getPryllFnightStartDate())+n.fortnightlyPost;break;case this.G_INT_PF_WEEKLY:l=n.weekly}return l};z.prototype.getDisplayWeeklyDesc=function(m,n){var l="";switch(m){case this.G_INT_WC_MON_SUN:l=
n.weeklyMonSun;break;case this.G_INT_WC_TUE_MON:l=n.weeklyTueMon;break;case this.G_INT_WC_WED_TUE:l=n.weeklyWedTue;break;case this.G_INT_WC_THU_WED:l=n.weeklyThuWed;break;case this.G_INT_WC_FRI_THU:l=n.weeklyFriThu;break;case this.G_INT_WC_SAT_FRI:l=n.weeklySatFri;break;case this.G_INT_WC_SUN_SAT:l=n.weeklySunSat}return l};z.prototype.getDisplayAgeDesc=function(m,n){m=n.ages18to65;18>this.intAge?m=n.below18:65<=this.intAge&&(m=n.above65);return m};z.prototype.isValidDate=function(m,n,l){return(new Date(m,
n,l)).getDate()==l?!0:!1};z.prototype.getSelectionBoxValue=function(m,n){return m.elements[n].options[m.elements[n].selectedIndex].value};z.prototype.checkFormDate=function(m,n,l){l=this.getSelectionBoxValue(m,n+"_year");var c=this.getSelectionBoxValue(m,n+"_month");m=this.getSelectionBoxValue(m,n+"_date");return this.isValidDate(l,c,m)?!0:!1};z.prototype.checkNum=function(m,n,l){for(var c,p=0;p<l;p++){c=m.elements[n+"_"+p].value;""==c&&(m.elements[n+"_"+p].value="0.00");if(isNaN(m.elements[n+"_"+
p].value))return alert(messages.invalidNumberPre+(p+1)+this.getTheNumTail(p+1+"")+messages.invalidNumberPost),m.elements[n+"_"+p].focus(),!1;m.elements[n+"_"+p].value=parseFloat(m.elements[n+"_"+p].value);if(0>parseFloat(m.elements[n+"_"+p].value))return alert(messages.negativeNumberPre+(p+1)+this.getTheNumTail(p+1+"")+messages.negativeNumberPost),m.elements[n+"_"+p].focus(),!1;if(-1<c.indexOf(".")&&c.indexOf(".")<c.length-3)return alert(messages.tooManyDecimalsPre+(p+1)+this.getTheNumTail(p+1+"")+
messages.tooManyDecimalsPost),m.elements[n+"_"+p].focus(),!1}return!0};z.prototype.assignPFRadios=function(m){var n={},l;for(l=m.pr_freq.length-1;0<=l;l--)n[m.pr_freq[l].value]=m.pr_freq[l];for(l in this.selectToPF)m[l]&&(m[l].radio=n[this.selectToPF[l]]);m.prfnightRadio=n[this.G_INT_PF_FORTNIGHTLY]};z.prototype.checkPFRadio=function(m){m&&(m.radio||assignPFRadios(m.form),m.radio&&(m.radio.checked=!0))};return z}()},function(M,Y,I){function z(n,l){if("function"!==typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+
typeof l);n.prototype=Object.create(l&&l.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});l&&(Object.setPrototypeOf?Object.setPrototypeOf(n,l):n.__proto__=l)}Y.__esModule=!0;Y.ExpiryDate=void 0;M=I(1);var m=Bootstrap.jQuery;Y.ExpiryDate=function(n){function l(c){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");c=n.call(this,c);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||"object"!==
typeof c&&"function"!==typeof c?this:c}z(l,n);l.prototype.init=function(c){this.$elem=m(c);this.$input=m('input[type\x3d"hidden"]',c);c.name=this.$elem.attr("name");this.notForCreditCard=this.$elem.data("not-for-credit-card");this.systemDate=this.$elem.data("system-date");this.currentMonth=this.$elem.data("current-month")||(new Date).getMonth()+1;this.currentYear=this.$elem.data("current-year")||(new Date).getFullYear();this.$dateselectorMM=m(".dateselector-mm select",c);this.$dateselectorYYYY=m(".dateselector-yyyy select",
c);n.prototype.init.call(this,c)};l.prototype.initSelector=function(c,p){if(c[0].selectize)p&&p(c[0].selectize);else c.on("init-selectize-finish",function(){p&&p(c[0].selectize)})};l.prototype.bindUiElement=function(){n.prototype.bindUiElement.call(this);this.bindFormControl(this.$input[0])};l.prototype.bindUiEvents=function(){var c=this;this.initSelector(this.$dateselectorMM,function(p){for(var d=c.currentMonth||c.getSystemDateObject().getMonth()+1,a=1;12>=a;a++)p.addOption({text:10>a?"0"+a:a,value:a});
p.setValue(d)});this.initSelector(this.$dateselectorYYYY,function(p){var d=c.currentYear||c.getSystemDateObject().getFullYear(),a=c.$elem.data("min-year")||c.currentYear||c.getSystemDateObject().getFullYear(),b=c.$elem.data("max-year")||(c.currentYear?c.currentYear+5:c.getSystemDateObject().getFullYear()+5);"string"===typeof c.$elem.data("min-year")&&0===c.$elem.data("min-year").toLowerCase().indexOf("c")&&(a=d+Number(c.$elem.data("min-year").slice(1)));"string"===typeof c.$elem.data("max-year")&&
0===c.$elem.data("max-year").toLowerCase().indexOf("c")&&(b=d+Number(c.$elem.data("max-year").slice(1)));b=Number(b)-Number(a);if(0<=b){for(var f=0;f<=b;f++)p.addOption({text:Number(a)+f,value:Number(a)+f});p.setValue(d)}});this.$dateselectorMM.on("change",function(){c.setValue();c.$input.trigger("change")});this.$dateselectorYYYY.on("change",function(){c.setValue();c.$input.trigger("change")});n.prototype.bindUiEvents.call(this)};l.prototype.setValue=function(){var c=this.$dateselectorMM.val(),p=
this.$dateselectorYYYY.val();10>c&&(c="0"+c);this._value=c&&p?c+"/"+p:"";this.$input.val(this._value)};l.prototype.getSystemDateObject=function(){return new Date(this.systemDate.split("/").reverse().join("-"))};l.prototype.checkValidity=function(){if(this.disabled)return this.validity.valid=!0;this.validity.reset();if(!this.notForCreditCard){var c=this.$dateselectorMM.val(),p=this.$dateselectorYYYY.val(),d=this.getSystemDateObject(),a=d.getFullYear();d=d.getMonth()+1;this.validity.tooMin=p<=a&&c<
d}this.validity.update();c=this.validity.valid;this.$elem.attr("aria-invalid",(!c).toString());c||this.$elem.trigger("invalid");c?this.removeError():this.addError();return c};l.prototype.addError=function(){this.$dateselectorYYYY.next(".selectize-control").addClass("droplist-error");this.$dateselectorMM.next(".selectize-control").addClass("droplist-error");this.$dateselectorYYYY.next(".selectize-control").find(".selectize-input").attr("aria-invalid","true");this.$dateselectorMM.next(".selectize-control").find(".selectize-input").attr("aria-invalid",
"true")};l.prototype.removeError=function(){this.$dateselectorYYYY.next(".selectize-control").removeClass("droplist-error");this.$dateselectorMM.next(".selectize-control").removeClass("droplist-error");this.$dateselectorYYYY.next(".selectize-control").find(".selectize-input").attr("aria-invalid","false");this.$dateselectorMM.next(".selectize-control").find(".selectize-input").attr("aria-invalid","false")};return l}(M.FormControl)},function(M,Y,I){Y.__esModule=!0;var z={arrow:"pagination-arrow",number:"pagination-number",
dots:"pagination-dots",texts:"pagination-texts"},m=Bootstrap.jQuery,n=2;Y.Pagination=function(){function l(c,p,d){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.$el=m(c);this.$wrapper=this.$el.find(".pws-tools-pagination");this.style=this.$wrapper.data("atom");this.allyTexts=this.getAccessibilityTexts();this.setMustacheTemplates();void 0!==p&&void 0!==d&&(this.elNum=p,this.currentEl=d,this.initElements(),this.bindUIEvents())}l.prototype.set=function(c,p){this.elNum=
c;this.currentEl=p;this.initElements();this.bindUIEvents()};l.prototype.destroy=function(){this.$wrapper.empty()};l.prototype.getAccessibilityTexts=function(){var c=this.$el.data("current-page-text")||"",p=this.$el.data("page-text")||"";return{currentPage:c,page:p}};l.prototype.setMustacheTemplates=function(){var c=this;Object.keys(z).forEach(function(p){p=z[p];var d=c.$el.find("."+p);m.Mustache.add(p,d.html())})};l.prototype.bindUIEvents=function(){var c=this,p=m(window).width();m(window).on("resize",
function(){m(window).width()!=p&&(p=m(window).width(),c.initElements())})};l.prototype.initElements=function(){0<this.elNum&&(this.setVisibleElCount(),this.render(this.getPaginationMap()),this.bindPaginationUIEvents())};l.prototype.bindPaginationUIEvents=function(){var c=this;this.$pageSwitchers=this.$wrapper.find("li[tabindex]");this.$pageSwitchers.on("click keydown",function(p){if("keydown"!=p.type||13==p.which)p=m(p.target),c.currentEl=p.data("page")||p.closest("[data-page]").data("page"),c.pageWillChange?
c.pageWillChange(c.currentEl,c.initElements.bind(c)):c.initElements()})};l.prototype.setVisibleElCount=function(){n=TOOLS_utils.matchMedia.mobile?1:2};l.prototype.render=function(c){var p=this;this.destroy();c.forEach(function(d){return p.$wrapper.mustache(d.template,d.data)})};l.prototype.getPaginationMap=function(){var c=[];c.push(this.getArrowElement("left"));switch(this.style){case "A-PAGFEW-RW-ALL":c.push(this.getTextElement(this.currentEl,this.elNum));break;default:for(var p=1;p<=this.elNum;p++){var d=
1===p,a=p===this.elNum,b=this.getElementVisibilityCondition(p),f=this.getDotElement(a,p,-1),e=this.getDotElement(d,p,1);null!==f&&c.push(f);(b||d||a)&&c.push(this.getNumberElement(p,p===this.currentEl?"active":""));null!==e&&c.push(e)}}c.push(this.getArrowElement("right"));return c};l.prototype.getDotVisibilityCondition=function(c){return Math.abs(this.currentEl-c)>n+1};l.prototype.getElementVisibilityCondition=function(c){return Math.abs(this.currentEl-c)<=n};l.prototype.getArrowElement=function(c){var p=
1===this.currentEl&&"left"===c||this.currentEl===this.elNum&&"right"===c;return{template:z.arrow,data:{direction:c,page:this.currentEl+("left"===c?-1:1),isDisabled:p,state:p?"disabled":"",isRight:"right"===c}}};l.prototype.getDotElement=function(c,p,d){return c&&this.getDotVisibilityCondition(p)?(c=p+d,{template:this.getElementVisibilityCondition(2*c)?z.number:z.dots,data:{page:c,accessibilityText:this.allyTexts.page}}):null};l.prototype.getNumberElement=function(c,p){return{template:z.number,data:{page:c,
state:p,accessibilityText:"active"===p?this.allyTexts.currentPage:this.allyTexts.page}}};l.prototype.getTextElement=function(c,p){return{template:z.texts,data:{page:c,total:p}}};return l}()},function(M,Y,I){Y.__esModule=!0;Y.Modal=void 0;var z=I(19),m=I(0),n=I(2),l=Bootstrap.jQuery,c=TOOLS_utils.keyCodes;l("body");Y.Modal=function(){function p(d,a){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");this.$link=l(d);this.$modal=l(a);this.$closeTriggers=this.$modal.find(".close-trigger");
this.$closeButton=l(".close-trigger.close",this.$modal);this.$cancelButton=l(".close-trigger.options",this.$modal);this.$continueButton=l(".continue",this.$modal);this.$tealiumConfig=this.$modal;this.tealiumConfig=this.$tealiumConfig.data("tealium-config");this.$tealiumScopeConfig=this.$modal.closest("[data-tealium-scope]");this.tealiumScope=this.$tealiumScopeConfig.data("tealium-scope");this.TMS=(0,n.Tealium)(this.tealiumScope);this.a11yModule=new z.ModalA11y(this);this.bindUIEvents()}p.prototype.bindUIEvents=
function(){var d=this;(0,m.bindButton)(this.$closeButton);(0,m.bindButton)(this.$cancelButton);(0,m.bindButton)(this.$continueButton,!1);this.$closeButton.on("action",function(a,b){d.close(b)});this.$cancelButton.on("action",function(a,b){d.cancel(b)});this.$continueButton.on("action",function(a,b){d["continue"](b)});this.$modal.on("keydown",function(a){a.keyCode===c.ESC&&d.$modal.hasClass("is-visible")&&(a.preventDefault(),d.close(a))});this.$modal.on("click",function(a){var b=l(a.target);b.parents(".A-MOD-RW-ALL").length||
b.hasClass("A-MOD-RW-ALL")||(a.preventDefault(),d.close(a))});this.$modal.on("transitionend webkitTransitionEnd oTransitionEnd",function(){d.$modal.hasClass("is-visible")?d.$closeTriggers.first().focus():d.$link.focus()});this.a11yModule.bindUIEvents()};p.prototype.open=function(d){d&&(this.$link=d);this.$modal.addClass("is-visible").parent().siblings().attr("aria-hidden","true")};p.prototype.hide=function(){this.$modal&&(this.$modal.find(".modal-announcement-sr-text").removeClass("hidden"),this.$modal.removeClass("is-visible").parent().siblings().removeAttr("aria-hidden"))};
p.prototype.close=function(d){this.TMS.trackEvent(this.tealiumConfig.closeButton);this.$modal.trigger("close",d);this.hide()};p.prototype.cancel=function(d){this.TMS.trackEvent(this.tealiumConfig.cancelButton);this.$modal.trigger("cancel",d);this.hide()};p.prototype["continue"]=function(d){this.TMS.trackEvent(this.tealiumConfig.continueButton);this.$modal.trigger("continue",d)};return p}()},function(M,Y,I){function z(c,p){if("function"!==typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+
typeof p);c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});p&&(Object.setPrototypeOf?Object.setPrototypeOf(c,p):c.__proto__=p)}Y.__esModule=!0;Y.CalendarBase=void 0;M=I(1);var m=Bootstrap.jQuery,n=m(window),l=[37,38,39,40];Y.CalendarBase=function(c){function p(d){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");d=c.call(this,d);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!d||"object"!==typeof d&&"function"!==typeof d?this:d}z(p,c);p.prototype.init=function(d){this.$elem=d;this.$selectDate=m(".selectDate",this.$elem);this.$selectDateCalendar=m("input.calendar-trigger",this.$elem);d.name=this.$selectDateCalendar.attr("name");this.$selectDateIcon=m(".icon-right",this.$elem);this.$placeholder=m(".text-placeholder",this.$elem);this.language=TOOLS_utils.getLocale();this.$yearSelector=m(".yearSelector",this.$elem);this.$monthSelector=m(".monthSelector",this.$elem);
this.minAge=this.$selectDateCalendar.data("min-age")?this.$selectDateCalendar.data("min-age"):0;this.maxAge=this.$selectDateCalendar.data("max-age")?this.$selectDateCalendar.data("max-age"):0;this.currentDate=this.$selectDateCalendar.data("currentDate");this.$calendarId="#"+this.$selectDateCalendar.attr("id");this.datePickerActive=!1;c.prototype.init.call(this,d)};p.prototype.getDatePicker=function(){if(!this.$datePicker){var d=m(".ui-datepicker");d.length&&(this.$datePicker=d)}return this.$datePicker};
p.prototype.initCalendarEvents=function(){var d=this,a=this.$selectDate.offset().top,b=this.$selectDate.outerHeight(!0),f=parseFloat(a+b).toFixed(2)+"px",e=window.scrollY;setTimeout(function(){d.getDatePicker().css("top",f).removeClass("hidden");d.datePickerActive=!0;var k=d.getDatePicker().find("td:not(.ui-datepicker-unselectable)"),h=d.getDatePicker().find("td.ui-datepicker-current-day"),g=k.first(),q=k.last(),x=d.getDatePicker().find(".ui-datepicker-prev:not(.ui-state-disabled):visible"),u=0<x.length,
r=d.getDatePicker().find(".ui-datepicker-next:not(.ui-state-disabled):visible"),t=0<r.length;0<h.length?h.first().find("a").focus():k.first().find("a").focus();u&&x.attr("tabindex",0);t&&r.attr("tabindex",0);d.adjustWindowScroll(d.getDatePicker(),e);k.find("a").on("keydown",function(y){if(9==y.which){var w=m(y.target).parent(),A=w[0]==q[0];w[0]==g[0]&&y.shiftKey?(y.preventDefault(),t?r.focus():u?x.focus():q.find("a").focus()):A&&!y.shiftKey&&(y.preventDefault(),u?x.focus():t?r.focus():g.find("a").focus())}else d.bindKeyboardControl(y)});
if(u)x.on("keydown",function(y){d.isInValidKey(y)?9==y.which&&(y.shiftKey?(y.preventDefault(),q.find("a").focus()):t&&(y.preventDefault(),r.focus())):x.click()});if(t)r.on("keydown",function(y){d.isInValidKey(y)?9==y.which&&y.shiftKey&&(y.preventDefault(),u?x.focus():q.find("a").focus()):r.click()})},0)};p.prototype.bindUiEvents=function(){var d=this;this.setDefaultDate();this.language.includes("zh")?(m.datepicker.regional.zh={monthNames:"1\u6708 2\u6708 3\u6708 4\u6708 5\u6708 6\u6708 7\u6708 8\u6708 9\u6708 10\u6708 11\u6708 12\u6708".split(" "),
dayNamesMin:"\u65e5\u4e00\u4e8c\u4e09\u56db\u4e94\u516d".split(""),showMonthAfterYear:!0,yearSuffix:"\u5e74"},m.datepicker.setDefaults(m.datepicker.regional.zh)):(m.datepicker.regional.en={prevText:"previous month",nextText:"next month"},m.datepicker.setDefaults(m.datepicker.regional.en));this.$selectDateCalendar.on("keydown input change blur",function(a){"change"!=a.type&&d.isCalendarShow()?(a.stopImmediatePropagation(),a.preventDefault()):d.$selectDateCalendar.val()?(d.$placeholder.addClass("visuallyhidden"),
(a=d.getFormatCalendarDate())?(d.$selectDateCalendar.attr("format-date",a),d.validateDate(a),d.validateAge(a)):d.$selectDateCalendar.attr("format-date","").attr("age","")):(d.$selectDateCalendar.attr("format-date","").attr("age",""),d.$placeholder.removeClass("visuallyhidden"))});n.on("tools:contentUpdated",function(a,b){a=d.$selectDateCalendar.attr("name");for(var f in b)a==f&&d.$placeholder.toggleClass("visuallyhidden",!!d.$selectDateCalendar.val())});this.$placeholder.on("mousedown click",function(a){a.preventDefault();
d.$selectDateCalendar.trigger("focus")});c.prototype.bindUiEvents.call(this)};p.prototype.setDefaultDate=function(){var d=this.$selectDateCalendar.attr("defaultDate");if(d){var a=this.formatDate(d);a?this.$selectDateCalendar.attr("value",d):(a=this.formatDate(this.currentDate),this.$selectDateCalendar.attr("value",this.currentDate));this.$selectDateCalendar.datepicker("option","defaultDate",new Date(a));this.$selectDateCalendar.attr("age",this.calculateAge(this.getFormatCalendarDate()));this.$selectDateCalendar.attr("format-date",
a);this.$placeholder.addClass("visuallyhidden")}};p.prototype.formatDate=function(d){d=/^(0?[1-9]|[1-2][0-9]|3[0-1])\/(0?[1-9]|1[0-2])\/([0-9]{4})$/.exec(d);var a=null;d&&(a=d[3]+"-"+d[2]+"-"+d[1]);return a};p.prototype.adjustWindowScroll=function(d){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:window.scrollY,b=this.$selectDate.offset().top,f=this.$selectDate.outerHeight(!0),e=d.outerHeight(!0);b=b+f+e;window.innerHeight+a<b&&window.scrollTo(0,b-window.innerHeight)};p.prototype.isCalendarShow=
function(){return this.datePickerActive||0<m(".ex-container",this.$elem).length};p.prototype.isInValidKey=function(d){return 13!=d.which&&32!=d.which};p.prototype.getFormatCalendarDate=function(){return this.formatDate(this.$selectDateCalendar.val())};p.prototype.validateAge=function(d){d=this.calculateAge(d);this.$selectDateCalendar.attr("age",d);0<this.maxAge&&d>this.maxAge?this.$selectDateCalendar.attr("calendar-error","max"):0<this.minAge&&d<this.minAge?this.$selectDateCalendar.attr("calendar-error",
"min"):(0<this.maxAge||0<this.minAge)&&"bad"!=this.$selectDateCalendar.attr("calendar-error")&&this.$selectDateCalendar.removeAttr("calendar-error")};p.prototype.validateDate=function(d){var a=this.getMinMaxDate("min"),b=this.getMinMaxDate("max");d=(new Date(d)).setHours(0);b&&d>b.getTime()?this.$selectDateCalendar.attr("calendar-error","max"):a&&d<a.getTime()?this.$selectDateCalendar.attr("calendar-error","min"):(a||b)&&"bad"!=this.$selectDateCalendar.attr("calendar-error")&&this.$selectDateCalendar.removeAttr("calendar-error")};
p.prototype.getMinMaxDate=function(d){return m.datepicker._getMinMaxDate(m.datepicker._getInst(this.$selectDateCalendar[0]),d)};p.prototype.calculateAge=function(d){var a=this.currentDate.split("/"),b=a[0],f=a[1];a=a[2];var e=d.split("-");d=parseInt(e[2]);var k=parseInt(e[1]);e=parseInt(e[0]);a-=e;0>f-k?a--:0==f-k&&0>b-d&&a--;return Math.max(a,0)};p.prototype.updateMonthYear=function(){this.$yearSelector.length&&this.$monthSelector.length&&(m.datepicker._selectMonthYear(this.$calendarId,this.$yearSelector[0],
"Y"),m.datepicker._selectMonthYear(this.$calendarId,this.$monthSelector[0],"M"))};p.prototype.bindKeyboardControl=function(d){if(l.includes(d.which)){var a=m(d.target).parent(),b=a.index(),f=void 0;switch(d.which){case 38:(a=a.parent().prev())&&(f=a.find("td").eq(b));break;case 39:f=a.next();break;case 40:(a=a.parent().next())&&(f=a.find("td").eq(b));break;case 37:f=a.prev()}f&&(d.preventDefault(),f.find("a").focus())}};return p}(M.FormControl)},function(M,Y,I){Y.__esModule=!0;var z=Bootstrap.jQuery;
M=function(){function m(n){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.$elem=z(".advanceTable",n);this.$error=z(".error",this.$elem);this.$spinner=z(".spin",this.$elem);this.$table=z("table",this.$elem);this.$header=z("thead",this.$elem);this.$caption=z("caption",this.$elem);this.data=this.$elem.data("data");this.i18n=this.$elem.data("i18n");this.tableName=this.$elem.data("id")||"";this.$bodyTmpl=z("script[data-tmplName\x3dtemplate"+this.tableName+"]",this.$elem);
this.head=null;this.init()}m.prototype.init=function(){z.Mustache.add("template"+this.tableName,this.$bodyTmpl.html());var n={};this.$header.find("tr").each(function(l,c){z(c).find("[data-desc]").each(function(p,d){n["tr"+l+"th"+p]=z(d).data("desc")})});this.head=n;this.data&&this.load(this.data,this.i18n)};m.prototype.load=function(n,l){n=z.Mustache.render("template"+this.tableName,{data:n||this.data,i18n:l||this.i18n,head:this.head});this.$table.find("tbody").remove();this.$table.append(n);this.$error.hide();
this.$table.show()};m.prototype.spin=function(){this.$table.hide();this.$error.hide()};m.prototype.err=function(n){this.$error.find("span").html(n);this.$table.hide();this.$error.show()};m.prototype.hideTable=function(){this.$table.hide()};m.prototype.bind=function(n,l){this.$table.on("click keydown",n,function(c){if("keydown"!=c.type||13==c.which){c.stopPropagation();var p=z(c.target),d=p.closest("tbody");l(d,p,c)}})};m.prototype.chang=function(n,l){this.$table.on("input",n,function(c){c.stopPropagation();
var p=z(c.target),d=p.closest("tbody");l(d,p,c)})};m.prototype.mode=function(n){this.$table.attr("mode",n)};return m}();Y.AdvanceTable=M},function(M,Y,I){Y.__esModule=!0;Y.RequestHelper=function(){function z(m,n,l,c){if(!(this instanceof z))throw new TypeError("Cannot call a class as a function");m instanceof Array||(m=[m]);this.functionList=m;this.maxRetries="number"==typeof n?n:0;this.retryDelay="number"==typeof l?l:0;this.threshold="number"==typeof c?c:1}z.prototype.start=function(){var m=this;
this.retryCount=0;this.promiseQueue=this.functionList.map(function(n){return m._defer(n)});return this._results(this._runQueue()["catch"](this._failedRetry.bind(this)))};z.prototype.retry=function(){var m=this;return this._waitPromiseStatus()["catch"](function(n){n.forEach(function(l,c){l||(l=m._defer(m.functionList[c]),m.promiseQueue[c]=l)});return m._runQueue()})};z.prototype._defer=function(m){var n,l=(new Promise(function(c){n=c})).then(function(){return m.apply()});l.start=function(){delete l.start;
n();return l};return l};z.prototype._runQueue=function(){var m=this,n=0,l=0;this.promiseQueue.forEach(function p(){for(;n<m.threshold&&l<m.promiseQueue.length;)"function"==typeof m.promiseQueue[l].start&&(n++,m.promiseQueue[l].start()["catch"](function(){}).then(function(){n--;p()})),l++});return this._waitPromiseQueue()};z.prototype._delay=function(m){return new Promise(function(n){return setTimeout(n,m)})};z.prototype._failedRetry=function(){var m=this;return this.retryCount<this.maxRetries?(this.retryCount++,
this._delay(this.retryDelay).then(function(){return m.retry()["catch"](m._failedRetry.bind(m))})):Promise.reject(this.promiseQueue)};z.prototype._results=function(m){var n=function(l){return Promise.all(l.map(function(c){return c.then(function(p){return p})["catch"](function(p){return p})}))};return m.then(n)["catch"](function(l){return n(l).then(function(c){return Promise.reject(c)})})};z.prototype._waitPromiseStatus=function(){return Promise.all(this.promiseQueue.map(function(m){return m.then(function(){return!0})["catch"](function(){return!1})})).then(function(m){var n=
m,l=Array.isArray(n),c=0;for(n=l?n:n[Symbol.iterator]();;){if(l){if(c>=n.length)break;var p=n[c++]}else{c=n.next();if(c.done)break;p=c.value}if(!p)return Promise.reject(m)}return m})};z.prototype._waitPromiseQueue=function(){var m=this;return this._waitPromiseStatus().then(function(){return m.promiseQueue})["catch"](function(){return Promise.reject(m.promiseQueue)})};return z}()},function(M,Y,I){function z(m,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+
typeof n);m.prototype=Object.create(n&&n.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}});n&&(Object.setPrototypeOf?Object.setPrototypeOf(m,n):m.__proto__=n)}Y.__esModule=!0;Y.Calc2=void 0;M=I(6);Y.Calc2=function(m){function n(l){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");var c=m.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!==typeof c&&"function"!==typeof c?
this:c;c.intCommenceDayEE=Array(10);c.intCommenceDayER=Array(10);c.intEEPayDay=Array(10);c.intERPayDay=Array(10);c.isCompleteCycleEE=Array(10);c.isCompleteCycleER=Array(10);c.isEEinFirst=Array(10);c.isERinFirst=Array(10);c.dateHoliday=[];c.publicHolidays=l.get("publicHolidays");c.initiateHolidays(c.publicHolidays);return c}z(n,m);n.prototype.getCommenceDayEE=function(l,c){return this.getEeContrDateDiff(l,c)};n.prototype.getCommenceDayER=function(l,c){return this.getErContrDateDiff(l,c)};n.prototype.getEeContrDateDiff=
function(l,c){startDate=Math.round(Math.abs(l)/36E5/24+1);eContrDate=Math.round(Math.abs(this.getThe60thDOE())/36E5/24+1);endDate=Math.round(Math.abs(c)/36E5/24+1);firstContrDate=Math.round(Math.abs(this.getEeContCommenceDate(l,c))/36E5/24+1);return c>this.getThe65thAgeDate()||l<=this.getThe65thAgeDate()&&this.getThe65thAgeDate()<=c?0:endDate>=firstContrDate&&firstContrDate>=startDate?this.getPryllFrequency()==this.G_INT_PF_SEMIMONTH?this.getContPeriods()[0][0]==l&&15>=this.getContPeriods()[0][0].getDate()?
15:endDate-firstContrDate+1:endDate-firstContrDate+1:endDate<firstContrDate?0:endDate-startDate+1};n.prototype.getErContrDateDiff=function(l,c){startDate=Math.round(Math.abs(l)/36E5/24+1);eContrDate=Math.round(Math.abs(getThe60thDOE())/36E5/24+1);endDate=Math.round(Math.abs(c)/36E5/24+1);firstContrDate=Math.round(Math.abs(this.getErContCommenceDate(l,c))/36E5/24+1);return c>this.getThe65thAgeDate()||l<=this.getThe65thAgeDate()&&this.getThe65thAgeDate()<=c?0:endDate>=firstContrDate&&firstContrDate>=
startDate?endDate-firstContrDate+1:endDate-startDate+1};n.prototype.getEEPayDateDiff=function(l,c){startDate=Math.round(Math.abs(l)/36E5/24+1);endDate=Math.round(Math.abs(c)/36E5/24+1);eContrDate=Math.round(Math.abs(getThe60thDOE())/36E5/24+1);firstContrDate=Math.round(Math.abs(this.getEeContCommenceDate(l,c))/36E5/24+1);return endDate-startDate+1};n.prototype.getERPayDateDiff=function(l,c){startDate=Math.round(Math.abs(l)/36E5/24+1);endDate=Math.round(Math.abs(c)/36E5/24+1);eContrDate=Math.round(Math.abs(this.getThe60thDOE())/
36E5/24+1);firstContrDate=Math.round(Math.abs(this.getErContCommenceDate(l,c))/36E5/24+1);return endDate-startDate+1};n.prototype.isERChkInFirst=function(l,c){sContrDate=Math.round(Math.abs(this.getErContCommenceDate())/36E5/24+1);endDate=Math.round(Math.abs(c)/36E5/24+1);startDate=Math.round(Math.abs(l)/36E5/24+1);return sContrDate==startDate?!0:!1};n.prototype.isEEChkInFirst=function(l,c){sContrDate=this.getEeContCommenceDate(l,c);endDate=Math.round(Math.abs(c)/36E5/24+1);startDate=Math.round(Math.abs(l)/
36E5/24+1);SCommenDate=Math.round(Math.abs(this.getEeContCommenceDate(l,c))/36E5/24+1);return sContrDate==startDate?!0:!1};n.prototype.isEECompleteCycle=function(l,c){sContrDate=Math.round(Math.abs(this.getEeContCommenceDate(l,c))/36E5/24+1);e60thDOEwHoliday=this.getDateAfterPubHoliday(this.getThe60thDOE());startDate=Math.round(Math.abs(l)/36E5/24+1);endDate=Math.round(Math.abs(c)/36E5/24+1);return e60thDOEwHoliday>=l&&c>=e60thDOEwHoliday?sContrDate>startDate?!1:!0:sContrDate==startDate?!0:this.getEEPayDateDiff(l,
c)==this.getEeContrDateDiff(l,c)?!0:this.getPryllFrequency()==this.G_INT_PF_SEMIMONTH?this.getContPeriods()[0][0]==l?!0:!1:!1};n.prototype.isERCompleteCycle=function(l,c){sContrDate=Math.round(Math.abs(this.getErContCommenceDate(l,c))/36E5/24+1);e60thDOEwHoliday=this.getDateAfterPubHoliday(this.getThe60thDOE());startDate=Math.round(Math.abs(l)/36E5/24+1);endDate=Math.round(Math.abs(c)/36E5/24+1);return e60thDOEwHoliday>=l&&c>=e60thDOEwHoliday?!0:this.getPryllFrequency()==this.G_INT_PF_SEMIMONTH?15>=
l.getDate()?!0:!1:sContrDate==startDate?!0:getDateCount(l,c)==this.getErContrDateDiff(l,c)?!0:!1};n.prototype.getFileDate=function(l){return l.substring(0,l.indexOf("/"))};n.prototype.getFileYear=function(l){return l.substring(l.lastIndexOf("/")+1,l.length)};n.prototype.getFileMonth=function(l){return l.substring(l.indexOf("/")+1,l.lastIndexOf("/"))-1};n.prototype.initiateHolidays=function(l){for(l=0;l<this.publicHolidays.length;l++){var c=this.publicHolidays[l];c=new Date(this.getFileYear(c),this.getFileMonth(c),
this.getFileDate(c));isNaN(c.getDate())||isNaN(c.getMonth())||isNaN(c.getFullYear())||this.dateHoliday.push(c)}};n.prototype.isPubHoliday=function(l){return this.isAbsPubHoliday(l)?!0:this.isSunday(l)};n.prototype.isSunday=function(l){return 0==l.getDay()?!0:!1};n.prototype.isAbsPubHoliday=function(l){for(var c=0;c<this.dateHoliday.length;c++)if(this.isSameDate(l,this.dateHoliday[c]))return!0;return!1};n.prototype.getDateAfterPubHoliday=function(l){for(;this.isPubHoliday(l);)l=this.getDateAfter(1,
l);return l};n.prototype.getDateAfterPubHolidayOrSat=function(l){for(;this.isPubHoliday(l)||6==l.getDay();)l=this.getDateAfter(1,l);return l};n.prototype.getThe18thAgePeriodsStartForWeekly=function(l,c,p){l=this.getCommingDateByDay(getDateAfter(-7,l),p+1);return c>l?c:l};n.prototype.getWeeklyContPeriods=function(l){var c=!0,p=0,d=0,a=[],b=this.getDOE(),f=b;this.getThe18thAgeDate()>f&&(f=this.getThe18thAgePeriodsStartForWeekly(this.getThe18thAgeDate(),b,l),f>b&&(p+=this.getDateCount(f,b)));var e=this.getDateCount(f,
this.getDeadlineForEnrol());for(f.getDay()!=l+1?this.setThe1stPeriodStartDate(!1):this.setThe1stPeriodStartDate(!0);c;)a[d]=Array(2),b=this.getCommingDateByDay(f,l),a[d][0]=f,a[d][1]=b,this.setAge65WithinPeriod(a[d][0],a[d][1]),p+=this.getDateCount(f,b),d++,f=this.getDateAfter(1,b),p>=e&&(c=!1);return a};n.prototype.getFortNightlyContPeriods=function(l){var c=this.getDOE(),p=[],d=l,a=0,b=0;var f=this.getThe18thAgeDate();var e=this.getThe60thDOE(),k=this.getThe65thAgeDate();this.getDateCount(l,this.getDeadlineForEnrol());
l=c;f>c&&(l=f);if(d>l||this.isSameDate(d,l))for(;d>l;)d=this.getDateAfter(-14,d);else{for(;d<l||this.isSameDate(d,l);)d=this.getDateAfter(14,d);d=this.getDateAfter(-14,d)}var h=d;if(f>e||f.toUTCString()==e.toUTCString())l=d,p[a]=Array(2),f=this.getDateAfter(13,l),p[a][0]=l,p[a][1]=f;else for(this.bContinue=!0,l=d,this.getDateCount(c,k),e=1;this.bContinue;){p[a]=Array(2);f=this.getDateAfter(13,l);p[a][0]=l;p[a][1]=f;this.setAge65WithinPeriod(p[a][0],p[a][1]);if(1==e){if(c>d||c.toUTCString()==d.toUTCString())p[0][0]=
c,b+=this.getDateCount(p[0][0],f);e=0}else b+=this.getDateCount(l,f);a++;l=this.getDateAfter(1,f);if(f>this.getDeadlineForEnrol()||f.toUTCString()==this.getDeadlineForEnrol().toUTCString())this.isPubHoliday(this.getDeadlineForEnrol())&&this.isSameDate(f,this.getDeadlineForEnrol())&&(p[a]=Array(2),f=this.getDateAfter(13,l),p[a][0]=l,p[a][1]=f),this.bContinue=!1}p[0][0].toUTCString()==h.toUTCString()?this.setThe1stPeriodStartDate(!0):this.setThe1stPeriodStartDate(!1);c>d&&(p[0][0]=c);return p};n.prototype.getThe18thAgePeriodsStartForSemiMonth=
function(l,c){l=16>l.getDate()?new Date(l.getFullYear(),l.getMonth(),1):new Date(l.getFullYear(),l.getMonth(),16);return c>l?c:l};n.prototype.getSemiMonthlyContPeriods=function(){var l=!0,c=0,p=0,d=[],a=this.getDOE(),b=a;this.getThe18thAgeDate()>b&&(b=this.getThe18thAgePeriodsStartForSemiMonth(this.getThe18thAgeDate(),a),b>a&&(c+=this.getDateCount(b,a)));this.getDateCount(b,this.getDeadlineForEnrol());var f=this.getDateCount(b,this.getDeadlineForEnrol());for(1!=b.getDate()&&16!=b.getDate()?this.setThe1stPeriodStartDate(!1):
this.setThe1stPeriodStartDate(!0);l;)d[p]=Array(2),a=this.getCycleEndForSemiMonth(b),d[p][0]=b,d[p][1]=a,this.setAge65WithinPeriod(d[p][0],d[p][1]),c+=this.getDateCount(b,a),p++,b=this.getDateAfter(1,a),c>=f&&(l=!1);return d};n.prototype.getCycleEndForSemiMonth=function(l){return 16>l.getDate()?new Date(l.getFullYear(),l.getMonth(),15):this.getLastDateOfMonth(l)};n.prototype.getThe18thAgePeriodsStartForCalMonth=function(l,c){l=new Date(l.getFullYear(),l.getMonth(),1);return c>l?c:l};n.prototype.getCalMonthContPeriods=
function(){var l=!0,c=0,p=0,d=[],a=this.getDOE(),b=a;this.getThe18thAgeDate()>b&&(b=this.getThe18thAgePeriodsStartForCalMonth(this.getThe18thAgeDate(),a),b>a&&(c+=this.getDateCount(b,a)));var f=this.getDateCount(b,this.getDeadlineForEnrol());for(1!=b.getDate()?this.setThe1stPeriodStartDate(!1):this.setThe1stPeriodStartDate(!0);l;)d[p]=Array(2),a=this.getLastDateOfMonth(b),d[p][0]=b,d[p][1]=a,this.setAge65WithinPeriod(d[p][0],d[p][1]),c+=this.getDateCount(b,a),p++,b=this.getDateAfter(1,a),c>=f&&(l=
!1);return d};n.prototype.getThe18thAgePeriodsStartForNonCal=function(l,c,p){l=l.getDate()<p?new Date(l.getFullYear(),l.getMonth()-1,p):new Date(l.getFullYear(),l.getMonth(),p);return c>l?c:l};n.prototype.getNonCalMonthContPeriods=function(l){var c=!0,p=0,d=0,a=[],b=this.getDOE(),f=b;this.getThe18thAgeDate()>f&&(f=this.getThe18thAgePeriodsStartForNonCal(this.getThe18thAgeDate(),b,this.intStartDate),f>b&&(p+=getDateCount(f,b)));b=this.getDateCount(f,this.getDeadlineForEnrol());var e=this.getDateAfter(1,
this.getLastCycleDateForNonCal(f,l));for(f.getDate()!=e.getDate()?this.setThe1stPeriodStartDate(!1):this.setThe1stPeriodStartDate(!0);c;)a[d]=Array(2),e=this.getLastCycleDateForNonCal(f,l),a[d][0]=f,a[d][1]=e,this.setAge65WithinPeriod(a[d][0],a[d][1]),p+=this.getDateCount(f,e),d++,f=this.getDateAfter(1,e),p>=b&&(c=!1);return a};n.prototype.getLastCycleDateForNonCal=function(l,c){if(l.getDate()==c-1)return l;if(l.getMonth()!=(new Date(l.getFullYear(),l.getMonth(),c)).getMonth())return this.getLastDateOfMonth(l);
var p=11==l.getMonth()?new Date(l.getFullYear()+1,0,1):new Date(l.getFullYear(),l.getMonth()+1,1);var d=c>this.getLastDateOfMonth(p).getDate()?this.getLastDateOfMonth(p).getDate():c-1;d=new Date(p.getFullYear(),p.getMonth(),d);p=0==d.getMonth()?new Date(d.getFullYear()-1,11,1):new Date(d.getFullYear(),d.getMonth()-1,1);c=c>this.getLastDateOfMonth(p).getDate()?new Date(p.getFullYear(),p.getMonth(),this.getLastDateOfMonth(p).getDate()):new Date(p.getFullYear(),p.getMonth(),c-1);return l<c?c:d};n.prototype.isAgeWithinPeriod=
function(l,c,p){if(this.isSameDate(c,l)||this.isSameDate(p,l)||l>c&&l<p)return!0};n.prototype.setAge65WithinPeriod=function(l,c){this.isAgeWithinPeriod(this.getThe65thAgeDate(),l,c)?this.setAge65Within1stPeriod(!0):this.setAge65Within1stPeriod(!1)};n.prototype.get1stDateAfter30thDatePeriod=function(l){for(var c=this.getThe30thDOE(),p=0;p<l.length;p++)if(this.isDateWithin(c,l[p][0],l[p][1]))return this.getDateAfter(1,l[p][1]);return this.getThe31stDOE()};n.prototype.isDateWithin=function(l,c,p){return(l>
c||this.isSameDate(l,c))&&(l<p||this.isSameDate(l,p))?!0:!1};n.prototype.isDateBefore=function(l,c,p){return l<c&&l<p};n.prototype.isDateAfter=function(l,c,p){return l>c&&l>p};n.prototype.getCycleBeginBeforeEffDate=function(){for(var l=this.getContPeriods(),c=Array(l.length),p=0;p<l.length;p++)c[p]=l[p][0]<this.G_EFF_DATE?!0:!1;return c};n.prototype.getPeriodInWhichTheDateFalls=function(l,c){var p=Array(2);p[0]=l;p[1]=l;for(var d=0;d<c.length;d++)if(l>c[d][0]||this.isSameDate(l,c[d][0])&&l<c[d][1]||
this.isSameDate(l,c[d][1])){p[0]=c[d][0];p[1]=c[d][1];break}return p};n.prototype.is18thAgeAfter30thDOEPeriod=function(l){l=this.getPeriodInWhichTheDateFalls(this.getThe30thDOE(),l);return this.getThe18thAgeDate()>l[1]};n.prototype.getEeContCommenceDate=function(){var l=this.getEEAge(),c=this.getThe18thAgeDate(),p=this.getThe30thDOE();if(18>l)return this.isBeforeEffDate()?c<p||this.isSameDate(c,p)?this.getThe31stDOE():c:this.is18thAgeAfter30thDOEPeriod(this.getContPeriods())?c:this.get1stDateAfter30thDatePeriod(this.getContPeriods());
if(65>l&&18<=l)return this.isBeforeEffDate()?this.getThe31stDOE():this.get1stDateAfter30thDatePeriod(this.getContPeriods())};n.prototype.getErContCommenceDate=function(){var l=this.getEEAge(),c=this.getThe18thAgeDate();if(18>l)return c;if(65>l&&18<=l)return this.getDOE()};n.prototype.getDeadlineForEnrol=function(){var l=this.getEEAge(),c=this.getThe18thAgeDate(),p=this.getThe60thDOE();if(18>l)return c>p?this.getDateAfterPubHoliday(c):this.getDateAfterPubHoliday(p);if(65>l&&18<=l)return this.getDateAfterPubHoliday(p)};
n.prototype.getDeadlineFor1stCont=function(){var l=this.getContPeriods()[this.getContPeriods().length-1][1],c=new Date(l.getFullYear(),l.getMonth()+1,10);return l<this.G_EFF_DATE?this.getDateAfterPubHoliday(this.getDateAfter(10,l)):c<this.G_NO_SAT_DEADLINE_DATE?this.getDateAfterPubHoliday(c):this.getDateAfterPubHolidayOrSat(c)};n.prototype.getLCWeeklyContPeriods=function(l){var c=Array(2);this.getLastDOE().getDay()==l?c[0]=this.getLastDOE():c[0]=this.getTheLastDateByDay(this.getLastDOE(),l);c[1]=
this.getLastDOE();return c};n.prototype.getLCFortNightlyContPeriods=function(l){var c=Array(2),p=this.getLastDOE();if(0==(this.getDateCount(p,l)-1)%14)return c[0]=p,c[1]=p,c;if(this.isSameDate(p,l))l=p;else if(p>l){for(;p>l;)l=this.getDateAfter(14,l);l=this.getDateAfter(-14,l)}else for(;p<l;)l=this.getDateAfter(-14,l);c[0]=l;c[1]=p;return c};n.prototype.getLCSemiMonthContPeriods=function(){var l=Array(2);16==this.getLastDOE().getDate()||1==this.getLastDOE().getDate()?l[0]=this.getLastDOE():16>this.getLastDOE().getDate()?
l[0]=new Date(this.getLastDOE().getFullYear(),this.getLastDOE().getMonth(),1):l[0]=new Date(this.getLastDOE().getFullYear(),this.getLastDOE().getMonth(),16);l[1]=this.getLastDOE();return l};n.prototype.getLCCalMonthContPeriods=function(){var l=Array(2);l[0]=new Date(this.getLastDOE().getFullYear(),this.getLastDOE().getMonth(),1);l[1]=this.getLastDOE();return l};n.prototype.getLCNonCalMonthContPeriods=function(l){var c=Array(2),p=l;if(this.getLastDOE().getDate()==l)return c[0]=this.getLastDOE(),c[1]=
this.getLastDOE(),c;var d=0==this.getLastDOE().getMonth()?new Date(this.getLastDOE().getFullYear()-1,11,1):new Date(this.getLastDOE().getFullYear(),this.getLastDOE().getMonth()-1,1);l>this.getLastDateOfMonth(d).getDate()&&(p=this.getLastDateOfMonth(d).getDate()+1);p=new Date(d.getFullYear(),d.getMonth(),p);l=l>this.getLastDateOfMonth(d).getDate()?new Date(this.getLastDOE().getFullYear(),this.getLastDOE().getMonth(),this.getLastDateOfMonth(d).getDate()+1):new Date(this.getLastDOE().getFullYear(),this.getLastDOE().getMonth(),
l);l<this.getLastDOE()?c[0]=l:c[0]=p;c[1]=this.getLastDOE();return c};n.prototype.getSemiMonthDay=function(){if(16>this.getContPeriods()[0].getDate())return 15;var l=new Date(this.getContPeriods()[0].getFullYear(),this.getContPeriods()[0].getMonth(),16);return this.getDateCount(l,this.getLastDateOfMonth(this.getContPeriods()[0]))};n.prototype.getDeadlineForLastCont=function(){var l=this.getLastDOE(),c=new Date(l.getFullYear(),l.getMonth()+1,10);return l<this.G_EFF_DATE?this.getDateAfter(10,l):c<this.G_NO_SAT_DEADLINE_DATE?
this.getDateAfterPubHoliday(c):this.getDateAfterPubHolidayOrSat(c)};n.prototype.getStartDayForWCByEndDay=function(l){return 6==l?0:l+1};return n}(M.Cacl1)},function(M,Y,I){Y.__esModule=!0;M={numTailFirst:"st",numTailSecond:"nd",numTailThird:"rd",numTailOther:"th",invalidPayrollCycleStartDate:"Invalid start date of payroll cycle; please re-enter.",invalidDateOfEmployment:"Invalid date of employment; please re-enter.",invalidLastDateOfEmployment:"Invalid last date of employment; please re-enter.",dateOfEmploymentTooEarly:"The calculator is only applicable for employees who commence employment on or after 1 December 2000.",
invalidNumberPre:"The relevant income in the ",invalidNumberPost:" row is invalid; please re-enter.",negativeNumberPre:"The relevant income in the ",negativeNumberPost:" row cannot be negative; please re-enter.",tooManyDecimalsPre:"The relevant income in the ",tooManyDecimalsPost:" row is invalid; please round the amount to two decimal points.",age65Pre:" (within the first payroll period ",age65Post:")",publicHoliday:"(Public holiday)",saturday:"(Saturday)",sunday:"(Sunday)",calendarMonth:"Calendar month",
nonCalendarMonthPre:"Non-calendar month (start from ",nonCalendarMonthPost:")",semiMonthly:"Semi-monthly",fortnightlyPre:"Fortnightly (start date ",fortnightlyPost:")",weekly:"Weekly",weeklyMonSun:"Monday to Sunday",weeklyTueMon:"Tuesday to Monday",weeklyWedTue:"Wednesday to Tuesday",weeklyThuWed:"Thursday to Wednesday",weeklyFriThu:"Friday to Thursday",weeklySatFri:"Saturday to Friday",weeklySunSat:"Sunday to Saturday",below18:"Below age 18",above65:"Turns age 65",ages18to65:"Ages 18 to 65",payrollPeriods:"Payroll periods",
relevantIncome:"Relevant income (HKD)",firstMandatoryContributions:"First mandatory contributions",lastMandatoryContributions:"Last mandatory contributions",contributionInstructions:"Simply copy the following information to your Remittance Statement",contributionPeriods:"Contribution periods",mandatoryContributions:"Mandatory contributions (HKD)",employer:"Employer",employee:"Employee"};window.messages=M;Y.messages=M},function(M,Y,I){function z(n,l){if("function"!==typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+
typeof l);n.prototype=Object.create(l&&l.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});l&&(Object.setPrototypeOf?Object.setPrototypeOf(n,l):n.__proto__=l)}Y.__esModule=!0;Y.RoomFloorBlock=void 0;M=I(1);var m=Bootstrap.jQuery;Y.RoomFloorBlock=function(n){function l(c){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");c=n.call(this,c);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||
"object"!==typeof c&&"function"!==typeof c?this:c}z(l,n);l.prototype.init=function(c){this.$elem=m(c);c.name=this.$elem.attr("name");this.$input=m('input[type\x3d"hidden"]',this.$elem);this.$rfbInputs=m('input:not([type\x3d"hidden"])',this.$elem);this.$room=m('[name\x3d"room"]',this.$elem);this.$floor=m('[name\x3d"floor"]',this.$elem);this.$block=m('[name\x3d"block"]',this.$elem);n.prototype.init.call(this,c)};l.prototype.bindUiElement=function(){n.prototype.bindUiElement.call(this);this.bindFormControl(this.$input[0])};
l.prototype.bindUiEvents=function(){n.prototype.bindUiEvents.call(this)};l.prototype.bindUiEvents=function(){var c=this;this.$rfbInputs.on("input blur",function(p){c.$elem.trigger("change")});n.prototype.bindUiEvents.call(this)};l.prototype.setValue=function(){var c=this.$room.val()||"-",p=this.$room.attr("id"),d=this.$floor.val()||"-",a=this.$floor.attr("id"),b=this.$block.val()||"-",f=this.$block.attr("id");c||d||b?(p=m('[for\x3d"'+p+'"]',this.$elem).text(),a=m('[for\x3d"'+a+'"]',this.$elem).text(),
f=m('[for\x3d"'+f+'"]',this.$elem).text(),this._value=p+" "+c+" "+a+" "+d+" "+f+" "+b):this._value="";this.$input.val(this._value)};l.prototype.checkValidity=function(){if(this.disabled)return this.validity.valid=!0;this.validity.reset();var c=this.$room.val(),p=this.$floor.val(),d=this.$block.val();this.validity.valueMissing=!c&&!p&&!d;this.validity.update();c=this.validity.valid;this.$elem.attr("aria-invalid",(!c).toString());c||this.$elem.trigger("invalid");c?this.$rfbInputs.removeClass("error"):
this.$rfbInputs.addClass("error");return c};return l}(M.FormControl)},function(M,Y,I){Y.__esModule=!0;var z=Bootstrap.jQuery;Y.A11yMessage=function(){function m(n){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.$elem=n;this.$alertLiveRegion=z("[role\x3dalert]",this.$elem);this.messages=[]}m.prototype.announce=function(n){var l=this;n&&(this.$alertLiveRegion.css("display","none"),this.$alertLiveRegion.text(n),setTimeout(function(){l.$alertLiveRegion.css("display",
"inline-block")},100))};m.prototype.addMessage=function(n){n&&this.messages.push(n)};m.prototype.announceFirst=function(){var n=this.messages.shift();this.messages=[];this.announce(n)};m.prototype.announceAll=function(){var n=this.messages.join(" ");this.messages=[];this.announce(n)};m.prototype.clear=function(){this.$alertLiveRegion.css("display","none");this.$alertLiveRegion.text("")};return m}()},function(M,Y,I){Y.__esModule=!0;var z=Bootstrap.jQuery,m=z(window),n=["formWrapper"];Y.DynamicContent=
function(){function l(c){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.$el=z(c);this.parse(this.$el)}l.prototype.isExclude=function(c){return c.is("iframe")||n.find(function(p){return c.hasClass(p)})||n.find(function(p){return 0<c.parents("."+p).length})};l.prototype.parse=function(c){var p=this;this.isExclude(c)||c.contents().each(function(d,a){d=z(a);switch(a.nodeType){case document.TEXT_NODE:a=d.text();a=p.parseText(a);1<a.length&&(d.after(a),d.remove());
break;case document.ELEMENT_NODE:p.parse(d)}})};l.prototype.parseText=function(c,p){"undefined"==typeof p&&(p=[]);var d=/([\s\S]*?){{(.*?)}}([\s\S]*)/;d.test(c)?(c=d.exec(c),p.push(document.createTextNode(c[1])),p.push(this.subscribe(c[2])),this.parseText(c[3],p)):p.push(document.createTextNode(c));return p};l.prototype.subscribe=function(c){var p=document.createTextNode("");p.currentValue="";m.on("tools:contentUpdated",function(d,a){"undefined"!=typeof a&&"undefined"!=typeof a[c]&&p.currentValue!==
a[c]&&(p.currentValue=a[c],p.textContent="number"==typeof a[c]?a[c].toLocaleString("en"):a[c])});return p};return l}()},function(M,Y,I){Y.__esModule=!0;var z=Bootstrap.jQuery,m=z(window);Y.InteractiveBase=function(){function n(l){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this.$el=z(l);this.parse(this.$el)}n.prototype.parse=function(l){var c=this;l.contents().each(function(p,d){p=z(d);switch(d.nodeType){case document.TEXT_NODE:d=p.text();d=c.parseText(d);1<d.length&&
(p.after(d),p.remove());break;case document.ELEMENT_NODE:c.parse(p)}})};n.prototype.parseText=function(l,c){"undefined"==typeof c&&(c=[]);var p=/([\s\S]*?){{(.*?)}}([\s\S]*)/;p.test(l)?(l=p.exec(l),c.push(document.createTextNode(l[1])),c.push(this.subscribe(l[2])),this.parseText(l[3],c)):c.push(document.createTextNode(l));return c};n.prototype.subscribe=function(l){var c=document.createTextNode("");c.currentValue="";m.on("tools:contentUpdated",function(p,d){"undefined"!=typeof d&&"undefined"!=typeof d[l]&&
c.currentValue!==d[l]&&(c.currentValue=d[l],c.textContent="number"==typeof d[l]?d[l].toLocaleString("en"):d[l])});return c};return n}()},function(M,Y,I){Y.__esModule=!0;var z=TOOLS_utils.keyCodes;Y.ModalA11y=function(){function m(n){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.$el=n.$el;this.context=n}m.prototype.bindUIEvents=function(){var n=this,l=this.context;this.$focusables=l.$modal.find(TOOLS_utils.focusables.join());l.$modal.on("keydown",function(c){c.keyCode===
z.TAB&&n.handleKeyPress(c)})};m.prototype.handleKeyPress=function(n){var l=this.context,c=document.activeElement,p=this.$focusables.first()[0],d=this.$focusables.last()[0];l.$modal.find(".modal-announcement-sr-text").addClass("hidden");c!=d||n.shiftKey?c==p&&n.shiftKey&&(d.focus(),n.preventDefault()):(p.focus(),n.preventDefault())};return m}()},function(M,Y,I){Y.__esModule=!0;var z="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"===
typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};M=Bootstrap.jQuery;var m=M(window);Y.Scope=function(){function n(l){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this.id=l||"tools";this.reset()}n.prototype.reset=function(){this.data={}};n.prototype.set=function(l,c){var p={};p[l+"/previous"]=this.data[l];p[l]=c;this.equals(this.data[l],c)||(this.data[l+"/previous"]=this.data[l],this.data[l]=c,m.trigger("tools:contentUpdated",p))};n.prototype.get=
function(l){return this.data[l]};n.prototype.equals=function(l,c){var p=this,d=!1;"object"==("undefined"===typeof l?"undefined":z(l))&&"object"==("undefined"===typeof c?"undefined":z(c))?l instanceof Array&&c instanceof Array?l.length==c.length&&(d=!0,l.some(function(a,b){if(!p.equals(a,c[b]))return d=!1,!0})):l instanceof Date&&c instanceof Date&&(d=l.getTime()==c.getTime()):d="number"==typeof l&&"number"==typeof c?l===c||isNaN(l)&&isNaN(c):l===c;return d};return n}()},function(M,Y,I){Y.__esModule=
!0;Y.Calculator=void 0;I(6);Y.Calculator=function(){function z(m){if(!(this instanceof z))throw new TypeError("Cannot call a class as a function");this.const_first_days=60;this.grace_periods=10;this.sundayFlag=this.saturdayFlag=!0;this.turnDate=[2008,12,1];this.employDate=[0,0,0];this.firstEndDate=[0,0,0];this.days60ofEmployment=[0,0,0];this.deadlineofEnrolment=[0,0,0];this.deadlineofPayingFirstCont=[0,0,0];this.paymentType=1;this.nonCalStartDay;this.const_semi_halfday=15;this.const_fortnightly=14;
this.fortnightly_cycle=null;this.const_weekday_num=7;this.weekly_cycle=0;this.firstPaymentDate=null;m.get("flag")?(this.monthly_data=m.get("monthly_data"),this.non_calendar_month_data=m.get("non_calendar_month_data"),this.semi_month_13th_data=m.get("semi_month_13th_data"),this.semi_month_14th_data=m.get("semi_month_14th_data"),this.semi_month_15th_data=m.get("semi_month_15th_data"),this.semi_month_16th_data=m.get("semi_month_16th_data"),this.fortnightly_data=m.get("fortnightly_data"),this.weekly_data=
m.get("weekly_data")):(this.monthly_data=[],this.non_calendar_month_data=[],this.semi_month_13th_data=[],this.semi_month_14th_data=[],this.semi_month_15th_data=[],this.semi_month_16th_data=[],this.fortnightly_data=[],this.weekly_data=[],this.monthly_data[0]=["2003-02-01","5000","20000","5","5"],this.monthly_data[1]=["2011-11-01","6500","20000","5","5"],this.monthly_data[2]=["2012-06-01","6500","25000","5","5"],this.monthly_data[3]=["2013-11-01","7100","25000","5","5"],this.monthly_data[4]=["2014-06-01",
"7100","30000","5","5"],this.non_calendar_month_data[0]=["2003-02-01","5000","20000","5","5"],this.non_calendar_month_data[1]=["2011-11-01","6500","20000","5","5"],this.non_calendar_month_data[2]=["2012-06-01","6500","25000","5","5"],this.non_calendar_month_data[3]=["2013-11-01","7100","25000","5","5"],this.non_calendar_month_data[4]=["2014-06-01","7100","30000","5","5"],this.semi_month_13th_data[0]=["2003-02-01","2080","8450","5","5"],this.semi_month_13th_data[1]=["2011-11-01","3250","8450","5",
"5"],this.semi_month_13th_data[2]=["2012-06-01","3250","10790","5","5"],this.semi_month_13th_data[3]=["2013-11-01","3640","10790","5","5"],this.semi_month_13th_data[4]=["2014-06-01","3640","13000","5","5"],this.semi_month_14th_data[0]=["2003-02-01","2240","9100","5","5"],this.semi_month_14th_data[1]=["2011-11-01","3500","9100","5","5"],this.semi_month_14th_data[2]=["2012-06-01","3500","11620","5","5"],this.semi_month_14th_data[3]=["2013-11-01","3920","11620","5","5"],this.semi_month_14th_data[4]=
["2014-06-01","3920","14000","5","5"],this.semi_month_15th_data[0]=["2003-02-01","2400","9750","5","5"],this.semi_month_15th_data[1]=["2011-11-01","3750","9750","5","5"],this.semi_month_15th_data[2]=["2012-06-01","3750","12450","5","5"],this.semi_month_15th_data[3]=["2013-11-01","4200","12450","5","5"],this.semi_month_15th_data[4]=["2014-06-01","4200","15000","5","5"],this.semi_month_16th_data[0]=["2003-02-01","2560","10400","5","5"],this.semi_month_16th_data[1]=["2011-11-01","4000","10400","5","5"],
this.semi_month_16th_data[2]=["2012-06-01","4000","13280","5","5"],this.semi_month_16th_data[3]=["2013-11-01","4480","13280","5","5"],this.semi_month_16th_data[4]=["2014-06-01","4480","16000","5","5"],this.fortnightly_data[0]=["2003-02-01","2240","9100","5","5"],this.fortnightly_data[1]=["2011-11-01","3500","9100","5","5"],this.fortnightly_data[2]=["2012-06-01","3500","11620","5","5"],this.fortnightly_data[3]=["2013-11-01","3920","11620","5","5"],this.fortnightly_data[4]=["2014-06-01","3920","14000",
"5","5"],this.weekly_data[0]=["2003-02-01","1120","4550","5","5"],this.weekly_data[1]=["2011-11-01","1750","4550","5","5"],this.weekly_data[2]=["2012-06-01","1750","5810","5","5"],this.weekly_data[3]=["2013-11-01","1960","5810","5","5"],this.weekly_data[4]=["2014-06-01","1960","7000","5","5"]);this.ContributionPeriods=[];this.publicHolidays=m.get("publicHolidays");this.main(m);this.scope=m}z.prototype.effectiveDateCalc=function(m,n,l){switch(n){case 1:this.monthly_data.sort();this.monthly_data.reverse();
for(n=0;n<this.monthly_data.length;n++)if(m>=this.monthly_data[n][0])return this.monthly_data[n];break;case 2:this.non_calendar_month_data.sort();this.non_calendar_month_data.reverse();for(n=0;n<this.non_calendar_month_data.length;n++)if(m>=this.non_calendar_month_data[n][0])return this.non_calendar_month_data[n];break;case 3:switch(l){case 31:this.semi_month_16th_data.sort();this.semi_month_16th_data.reverse();for(n=0;n<this.semi_month_16th_data.length;n++)if(m>=this.semi_month_16th_data[n][0])return this.semi_month_16th_data[n];
break;case 30:this.semi_month_15th_data.sort();this.semi_month_15th_data.reverse();for(n=0;n<this.semi_month_15th_data.length;n++)if(m>=this.semi_month_15th_data[n][0])return this.semi_month_15th_data[n];break;case 15:this.semi_month_15th_data.sort();this.semi_month_15th_data.reverse();for(n=0;n<this.semi_month_15th_data.length;n++)if(m>=this.semi_month_15th_data[n][0])return this.semi_month_15th_data[n];break;case 29:this.semi_month_14th_data.sort();this.semi_month_14th_data.reverse();for(n=0;n<
this.semi_month_14th_data.length;n++)if(m>=this.semi_month_14th_data[n][0])return this.semi_month_14th_data[n];break;case 28:for(this.semi_month_13th_data.sort(),this.semi_month_13th_data.reverse(),n=0;n<this.semi_month_13th_data.length;n++)if(m>=this.semi_month_13th_data[n][0])return this.semi_month_13th_data[n]}break;case 4:this.fortnightly_data.sort();this.fortnightly_data.reverse();for(n=0;n<this.fortnightly_data.length;n++)if(m>=this.fortnightly_data[n][0])return this.fortnightly_data[n];break;
case 5:for(this.weekly_data.sort(),this.weekly_data.reverse(),n=0;n<this.weekly_data.length;n++)if(m>=this.weekly_data[n][0])return this.weekly_data[n]}};z.prototype.datetostring=function(m){var n=m.getFullYear();var l=this.getMonth(m);m=m.getDate();10>l&&(l="0"+l);10>m&&(m="0"+m);return n+"-"+l+"-"+m};z.prototype.returnDateString=function(m){return m.getDate()+"/"+this.getMonth(m)+"/"+m.getFullYear()};z.prototype.checkPublicHolidays=function(m){m=this.returnDateString(m);for(var n=0;n<this.publicHolidays.length;n++)if(m==
this.publicHolidays[n])return!0;return!1};z.prototype.boolSunday=function(m){return 0==this.returnDate(m).getDay()?!0:!1};z.prototype.boolSaturday=function(m){return 6==this.returnDate(m).getDay()?!0:!1};z.prototype.boolHoliday=function(m){m=this.returnDate(m);return this.checkPublicHolidays(m)};z.prototype.getValidEndDate=function(m){if(this.checkPublicHolidays(m))return this.getValidEndDate(Date.DateAdd("d",1,m));if(this.saturdayFlag||this.sundayFlag){if(this.saturdayFlag&&6==m.getDay()&&0<Date.DateDiff("d",
this.returnDate(this.turnDate),m))return this.getValidEndDate(Date.DateAdd("d",2,m));if(this.sundayFlag&&0==m.getDay())return this.getValidEndDate(Date.DateAdd("d",1,m))}return m};z.prototype.getMonth=function(m){return m.getMonth()+1};z.prototype.returnDate=function(m){return new Date(m[0],m[1]-1,m[2])};z.prototype.returnDate_ShiftToValid=function(m){var n=new Date;n.setFullYear(m[0],m[1]-1,m[2]);var l=1,c=m[1]-1;for(12<=c&&(c=0);n.getMonth()!=c;)n.setFullYear(m[0],m[1]-1,m[2]-l),l++;return n};z.prototype.toArray=
function(m){return[m.getFullYear(),this.getMonth(m),m.getDate()]};z.prototype.label=function(m){return 10>m?"0"+m:m};z.prototype.displayDate=function(m){return m[0]+"/"+this.label(m[1])+"/"+this.label(m[2])};z.prototype.setFortnightlyCycle=function(m){this.fortnightly_cycle=m};z.prototype.setWeeklyCycle=function(m){this.weekly_cycle=m};z.prototype.setNonCalStartDay=function(m){this.nonCalStartDay=m};z.prototype.setEmployemployDate=function(m,n,l){this.employDate[0]=m;this.employDate[1]=n;this.employDate[2]=
l};z.prototype.calFirstEndDate=function(){this.employdateobj=this.returnDate(this.employDate);this.After60Days=Date.DateAdd("d",this.const_first_days-1,this.employdateobj);this.days60ofEmployment=this.toArray(this.After60Days);this.deadlineofEnrolment=this.toArray(this.getValidEndDate(this.After60Days));this.tmpfirstEndDate=Date.DateAdd("d",-1,new Date(this.days60ofEmployment[0],this.days60ofEmployment[1],1));this.firstEndDate=this.toArray(this.tmpfirstEndDate);this.tmpfirstEndDate=Date.DateAdd("d",
this.grace_periods,this.tmpfirstEndDate);this.saturdayFlag=!0;this.tmpfirstEndDate=this.getValidEndDate(this.tmpfirstEndDate);this.deadlineofPayingFirstCont=this.toArray(this.tmpfirstEndDate);delete this.employdateobj;delete this.After60Days;delete this.tmpfirstEndDate};z.prototype.nextPaymentDate=function(m){switch(this.paymentType){case 2:m.getDate()>this.nonCalStartDay-1?m=this.returnDate_ShiftToValid([m.getFullYear(),this.getMonth(m)+1,this.nonCalStartDay-1]):null==this.firstPaymentDate?this.firstPaymentDate=
m=this.returnDate_ShiftToValid([m.getFullYear(),this.getMonth(m),this.nonCalStartDay-1]):m=this.returnDate_ShiftToValid([m.getFullYear(),this.getMonth(m)+1,this.nonCalStartDay-1]);null==this.firstPaymentDate&&(this.firstPaymentDate=m);break;case 3:null==this.firstPaymentDate?(m.getDate()>this.const_semi_halfday?(m=Date.DateAdd("m",1,this.returnDate([m.getFullYear(),this.getMonth(m),1])),m=Date.DateAdd("d",-1,m)):m=m.getDate()==this.const_semi_halfday?m:this.returnDate([m.getFullYear(),this.getMonth(m),
this.const_semi_halfday]),this.firstPaymentDate=m):m.getDate()<this.const_semi_halfday+1?(m=Date.DateAdd("m",1,this.returnDate([m.getFullYear(),this.getMonth(m),1])),m=Date.DateAdd("d",-1,m)):m=Date.DateAdd("m",1,this.returnDate([m.getFullYear(),this.getMonth(m),this.const_semi_halfday]));break;case 4:if(null==this.firstPaymentDate){var n=Date.DateDiff("d",m,this.returnDate(this.fortnightly_cycle));var l=n%14;0==l?n=13:0<n?n=l-1:n=14-Math.abs(l)-1;this.firstPaymentDate=m=Date.DateAdd("d",n,m)}else m=
Date.DateAdd("d",this.const_fortnightly,m);break;case 5:null==this.firstPaymentDate?(n=m.getDay()==this.weekly_cycle?0:0>m.getDay()-this.weekly_cycle?Math.abs(m.getDay()-this.weekly_cycle):this.const_weekday_num-Math.abs(m.getDay()-this.weekly_cycle),this.firstPaymentDate=m=Date.DateAdd("d",n,m)):m=Date.DateAdd("d",this.const_weekday_num,m);break;default:null==this.firstPaymentDate?(m=this.returnDate([m.getFullYear(),this.getMonth(m),1]),m=Date.DateAdd("m",1,m),this.firstPaymentDate=m=Date.DateAdd("d",
-1,m)):(m=Date.DateAdd("m",2,this.returnDate([m.getFullYear(),this.getMonth(m),1])),m=Date.DateAdd("d",-1,m))}return m};z.prototype.calPeriod=function(m,n){var l=[],c=this.ContributionPeriods.length;return 0<=Date.DateDiff("d",n,this.returnDate(this.firstEndDate),"")?(l[0]=this.toArray(m),l[1]=this.toArray(n),this.ContributionPeriods[c]=l,this.nextPaymentDate(n)):!1};z.prototype.getAllPeriods=function(m,n){m=this.calPeriod(m,n);if(0!=m)return this.getAllPeriods(Date.DateAdd("d",1,n),m)};z.prototype.getVal=
function(m,n){m=m.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");m=(new RegExp("[\\?\x26]"+m+"\x3d([^\x26#]*)")).exec(n);return null==m?"":m[1]};z.prototype.main=function(m){this.paymentType=m.get("prFreq");this.paymentType=parseInt(this.paymentType);this.setEmployemployDate(parseInt(m.get("doeYear")),parseInt(m.get("doeMonth"))+1,parseInt(m.get("doeDate")));switch(this.paymentType){case 2:this.setNonCalStartDay(parseInt(m.get("noncalStartDay")));break;case 4:this.setFortnightlyCycle([parseInt(m.get("prfnightStartYear")),
parseInt(m.get("prfnightStartMonth"))+1,parseInt(m.get("prfnightStartDate"))]);break;case 5:this.setWeeklyCycle(parseInt(m.get("prweeklyCycle")))}this.calFirstEndDate();this.getAllPeriods(this.returnDate(this.employDate),this.nextPaymentDate(this.returnDate(this.employDate)))};z.prototype.printf=function(m){document.write(m)};z.prototype.printTable=function(m,n,l){var c='\x3ctable class\x3d"non-desktop"\x3e\x3ccaption\x3e\x3cdiv class\x3d"A-PAR16R-RW-ALL text-container"\x3e\x3cstrong\x3e'+n.firstMandatoryContributions+
"\x3c/strong\x3e\x26nbsp;\x26nbsp;\x26nbsp;"+n.contributionInstructions+"\x3c/div\x3e\x3c/caption\x3e";var p='\x3ctable class\x3d"desktop"\x3e\x3ccaption\x3e\x3cdiv class\x3d"A-PAR16R-RW-ALL text-container"\x3e\x3cstrong\x3e'+n.firstMandatoryContributions+"\x3c/strong\x3e\x26nbsp;\x26nbsp;\x26nbsp;"+n.contributionInstructions+'\x3c/div\x3e\x3c/caption\x3e\x3ctr class\x3d"grey"\x3e\x3cth scope\x3d"col" width\x3d"30%"  class\x3d"middlealign"\x3e'+n.contributionPeriods+'\x3c/th\x3e\x3cth scope\x3d"col" width\x3d"23%"  class\x3d"middlealign"\x3e'+
n.relevantIncome+'\x3c/th\x3e\x3cth scope\x3d"col" width\x3d"23%"\x3e'+n.employer+'\x3c/th\x3e\x3cth  scope\x3d"col" width\x3d"23%"\x3e'+n.employee+"\x3c/th\x3e\x3c/tr\x3e";for(var d=0;d<this.ContributionPeriods.length;d++){location.href.split("?");var a=this.ContributionPeriods[d],b=a[0];a=a[1];var f=10>b[1]?"0"+b[1]:b[1],e=10>b[2]?"0"+b[2]:b[2],k=10>a[1]?"0"+a[1]:a[1],h=10>a[2]?"0"+a[2]:a[2],g=this.effectiveDateCalc(b[0]+"-"+f+"-"+e,this.paymentType,a[2]),q=g[1],x=g[2],u=g[3];g=g[4];var r=this.scope.get("ri_"+
d);parseFloat(r)>parseFloat(x)?t=x:x=t=r;parseFloat(r)<parseFloat(q)&&(x=0);var t=Math.round(parseFloat(t)*parseFloat(u))/100;x=Math.round(parseFloat(x)*parseFloat(g))/100;t=m.getDisplayNum(""+t);x=m.getDisplayNum(""+x);b[0]+"/"+f+"/"+e<=m.getDisplayDate(m.getThe30thDOE())&&(x=m.getDisplayNum("0"));p+='\x3ctr class\x3d"lightgrey"\x3e\x3ctd\x3e';p+=b[0]+"/"+f+"/"+e+" - "+a[0]+"/"+k+"/"+h;p+="\x3c/td\x3e\x3ctd \x3e"+m.getDisplayNum(r);p+="\x3c/td\x3e\x3ctd \x3e";p+=""+t;p+="\x3c/td\x3e\x3ctd\x3e";p+=
""+x;p+="\x3c/td\x3e\x3c/tr\x3e";c+="\x3ctr\x3e\x3cth scope\x3d'row' \x3e"+n.contributionPeriods+"\x3c/th\x3e\x3ctd\x3e"+b[0]+"/"+f+"/"+e+" - "+a[0]+"/"+k+"/"+h+"\x3c/td\x3e\x3c/tr\x3e";c+="\x3ctr\x3e\x3cth scope\x3d'row' \x3e"+n.relevantIncome+"\x3c/th\x3e\x3ctd\x3e"+m.getDisplayNum(r)+"\x3c/td\x3e\x3c/tr\x3e";c+="\x3ctr\x3e\x3cth scope\x3d'row' \x3e"+n.employer+"\x3c/th\x3e\x3ctd\x3e"+t+"\x3c/td\x3e\x3c/tr\x3e";c+="\x3ctr\x3e\x3cth scope\x3d'row' \x3e"+n.employee+"\x3c/th\x3e\x3ctd\x3e"+x+"\x3c/td\x3e\x3c/tr\x3e";
d!=this.ContributionPeriods.length-1&&(c+="\x3ctr aria-hidden\x3d'true' tabindex\x3d'-1' class\x3d'hidden-row'\x3e\x3cth\x3e\x3c/th\x3e\x3ctd\x3e\x3c/td\x3e\x3c/tr\x3e")}return l?c+"\x3c/table\x3e":p+"\x3c/table\x3e"};z.prototype.formTable=function(m){var n='\x3ctable\x3e\x3ccaption\x3e\x3cdiv class\x3d"A-PAR16R-RW-ALL"\x3e'+(m.thirdTableCaption+"\x3c/div\x3e\x3c/caption\x3e");n=n+'\x3ctr class\x3d"grey"\x3e\x3cth scope\x3d"col" width\x3d"50%"\x3e'+(m.payrollPeriods+"\x3c/th\x3e");n+='\x3cth scope\x3d"col" width\x3d"50%"\x3e'+
m.relevantIncome+"\x3c/th\x3e";n+="\x3c/tr\x3e";for(var l=0;l<this.ContributionPeriods.length;l++){var c=this.ContributionPeriods[l];m=c[0];c=c[1];var p=10>m[1]?"0"+m[1]:m[1],d=10>m[2]?"0"+m[2]:m[2],a=10>c[1]?"0"+c[1]:c[1],b=10>c[2]?"0"+c[2]:c[2];n+='\x3ctr class\x3d"lightgrey"\x3e';n+='\x3ctd\x3e\x3clabel for\x3d"ri_'+l+'"\x3e';n+=m[0]+"/"+p+"/"+d+" - "+c[0]+"/"+a+"/"+b;n+="\x3c/label\x3e\x3c/td\x3e";n+='\x3ctd\x3e\x3cinput type\x3d"text" id\x3d"ri_'+l+'" name\x3d"ri_'+l+'" value\x3d"0.00" maxlength\x3d"12" /\x3e\x3c/td\x3e';
n+="\x3c/tr\x3e"}return n+"\x3c/table\x3e"};z.prototype._print=function(m){document.write(m+"\x3cbr /\x3e")};return z}()},function(M,Y,I){Y.__esModule=!0;Y.Firstcont2=void 0;var z=I(13),m=I(14);Y.Firstcont2=function(){function n(l){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this.cacl2=new z.Calc2(l);this.initDate(l)}n.prototype.initDate=function(l){this.cacl2.setPryllFrequency(l.get("prFreq"));this.cacl2.setNonCalStartDay(l.get("noncalStartDay"));this.cacl2.setPryllFnightStartDate(l.get("prfnightStartYear"),
l.get("prfnightStartMonth"),l.get("prfnightStartDate"));this.cacl2.setWeeklyCycle(l.get("prweeklyCycle"));this.cacl2.setDOE(l.get("doeYear"),l.get("doeMonth"),l.get("doeDate"));this.strFormAgeGroup="2";this.cacl2.setDOB(this.cacl2.getDOE().getFullYear()-18,this.cacl2.getDOE().getMonth(),this.cacl2.getDOE().getDate()-1);switch(this.cacl2.getPryllFrequency()){case this.cacl2.G_INT_PF_MONTHLY:this.cacl2.setContPeriods(this.cacl2.getCalMonthContPeriods());break;case this.cacl2.G_INT_PF_NONCALMONTH:this.cacl2.setContPeriods(this.cacl2.getNonCalMonthContPeriods(this.cacl2.getNonCalStartDay()));
break;case this.cacl2.G_INT_PF_SEMIMONTH:this.cacl2.setContPeriods(this.cacl2.getSemiMonthlyContPeriods());break;case this.cacl2.G_INT_PF_FORTNIGHTLY:this.cacl2.setContPeriods(this.cacl2.getFortNightlyContPeriods(this.cacl2.getPryllFnightStartDate()));break;case this.cacl2.G_INT_PF_WEEKLY:this.cacl2.setContPeriods(this.cacl2.getWeeklyContPeriods(this.cacl2.getWeeklyCycle()))}this.cacl2.getDisplayDate(this.cacl2.getContPeriod(0,0));this.cacl2.getDisplayDate(this.cacl2.getContPeriod(0,1))};n.prototype.getRelevantIncomeTableHTML=
function(){var l=this.cacl2.getContPeriods(),c=['\x3ctable class\x3d"hsbcTableStyle02"\x3e','\x3ctr class\x3d"grey"\x3e','\x3cth width\x3d"50%"\x3e',m.messages.payrollPeriods,"\x3c/th\x3e",'\x3cth width\x3d"50%"\x3e',m.messages.relevantIncome,"\x3c/th\x3e","\x3c/tr\x3e"],p;for(p=0;p<l.length;p++)null!=l[p][0]&&(c.push('\x3ctr class\x3d"lightgrey"\x3e'),c.push("\x3ctd\x3e"),c.push(this.cacl2.getDisplayDate(l[p][0])," - ",this.cacl2.getDisplayDate(l[p][1])),c.push("\x3c/td\x3e"),c.push("\x3ctd\x3e"),
c.push('\x3cinput type\x3d"text" name\x3d"ri_',p,'" value\x3d"0.00" /\x3e'),c.push("\x3c/td\x3e"),c.push("\x3c/tr\x3e"));c.push("\x3c/table\x3e");return c.join("")};return n}()},function(M,Y,I){Y.__esModule=!0;Y.Calculator1=function(){function z(m){if(!(this instanceof z))throw new TypeError("Cannot call a class as a function");this.const_first_days=60;this.grace_periods=10;this.sundayFlag=this.saturdayFlag=!0;this.turnDate=[2008,12,1];this.employDate=[0,0,0];this.firstEndDate=[0,0,0];this.days60ofEmployment=
[0,0,0];this.deadlineofEnrolment=[0,0,0];this.deadlineofPayingFirstCont=[0,0,0];this.paymentType=1;this.nonCalStartDay;this.const_semi_halfday=15;this.const_fortnightly=14;this.fortnightly_cycle=null;this.const_weekday_num=7;this.weekly_cycle=0;this.firstPaymentDate=null;m.get("flag")?(this.monthly_data=m.get("monthly_data"),this.non_calendar_month_data=m.get("non_calendar_month_data"),this.semi_month_13th_data=m.get("semi_month_13th_data"),this.semi_month_14th_data=m.get("semi_month_14th_data"),
this.semi_month_15th_data=m.get("semi_month_15th_data"),this.semi_month_16th_data=m.get("semi_month_16th_data"),this.fortnightly_data=m.get("fortnightly_data"),this.weekly_data=m.get("weekly_data")):(this.monthly_data=[],this.non_calendar_month_data=[],this.semi_month_13th_data=[],this.semi_month_14th_data=[],this.semi_month_15th_data=[],this.semi_month_16th_data=[],this.fortnightly_data=[],this.weekly_data=[],this.monthly_data[0]=["2003-02-01","5000","20000","5","5"],this.monthly_data[1]=["2011-11-01",
"6500","20000","5","5"],this.monthly_data[2]=["2012-06-01","6500","25000","5","5"],this.monthly_data[3]=["2013-11-01","7100","25000","5","5"],this.monthly_data[4]=["2014-06-01","7100","30000","5","5"],this.non_calendar_month_data[0]=["2003-02-01","5000","20000","5","5"],this.non_calendar_month_data[1]=["2011-11-01","6500","20000","5","5"],this.non_calendar_month_data[2]=["2012-06-01","6500","25000","5","5"],this.non_calendar_month_data[3]=["2013-11-01","7100","25000","5","5"],this.non_calendar_month_data[4]=
["2014-06-01","7100","30000","5","5"],this.semi_month_13th_data[0]=["2003-02-01","2080","8450","5","5"],this.semi_month_13th_data[1]=["2011-11-01","3250","8450","5","5"],this.semi_month_13th_data[2]=["2012-06-01","3250","10790","5","5"],this.semi_month_13th_data[3]=["2013-11-01","3640","10790","5","5"],this.semi_month_13th_data[4]=["2014-06-01","3640","13000","5","5"],this.semi_month_14th_data[0]=["2003-02-01","2240","9100","5","5"],this.semi_month_14th_data[1]=["2011-11-01","3500","9100","5","5"],
this.semi_month_14th_data[2]=["2012-06-01","3500","11620","5","5"],this.semi_month_14th_data[3]=["2013-11-01","3920","11620","5","5"],this.semi_month_14th_data[4]=["2014-06-01","3920","14000","5","5"],this.semi_month_15th_data[0]=["2003-02-01","2400","9750","5","5"],this.semi_month_15th_data[1]=["2011-11-01","3750","9750","5","5"],this.semi_month_15th_data[2]=["2012-06-01","3750","12450","5","5"],this.semi_month_15th_data[3]=["2013-11-01","4200","12450","5","5"],this.semi_month_15th_data[4]=["2014-06-01",
"4200","15000","5","5"],this.semi_month_16th_data[0]=["2003-02-01","2560","10400","5","5"],this.semi_month_16th_data[1]=["2011-11-01","4000","10400","5","5"],this.semi_month_16th_data[2]=["2012-06-01","4000","13280","5","5"],this.semi_month_16th_data[3]=["2013-11-01","4480","13280","5","5"],this.semi_month_16th_data[4]=["2014-06-01","4480","16000","5","5"],this.fortnightly_data[0]=["2003-02-01","2240","9100","5","5"],this.fortnightly_data[1]=["2011-11-01","3500","9100","5","5"],this.fortnightly_data[2]=
["2012-06-01","3500","11620","5","5"],this.fortnightly_data[3]=["2013-11-01","3920","11620","5","5"],this.fortnightly_data[4]=["2014-06-01","3920","14000","5","5"],this.weekly_data[0]=["2003-02-01","1120","4550","5","5"],this.weekly_data[1]=["2011-11-01","1750","4550","5","5"],this.weekly_data[2]=["2012-06-01","1750","5810","5","5"],this.weekly_data[3]=["2013-11-01","1960","5810","5","5"],this.weekly_data[4]=["2014-06-01","1960","7000","5","5"]);this.ContributionPeriods=[];this.publicHolidays=m.get("publicHolidays");
this.main(m);this.scope=m}z.prototype.effectiveDateCalcLast=function(m,n,l,c){var p=c.getDisplayDate(m);p=p.replace(/\//i,"-");p=p.replace(/\//i,"-");n=c.getDisplayDate(n);n=n.replace(/\//i,"-");n.replace(/\//i,"-");switch(l){case 1:this.monthly_data.sort();this.monthly_data.reverse();for(m=0;m<this.monthly_data.length;m++)if(p>=this.monthly_data[m][0])return this.monthly_data[m];break;case 2:this.non_calendar_month_data.sort();this.non_calendar_month_data.reverse();for(m=0;m<this.non_calendar_month_data.length;m++)if(p>=
this.non_calendar_month_data[m][0])return this.non_calendar_month_data[m];break;case 3:l=15;15<m.getDate()&&(m=Date.DateAdd("m",1,this.returnDate([m.getFullYear(),this.getMonth(m),1])),m=Date.DateAdd("d",-1,m),l=m.getDate());switch(l){case 31:this.semi_month_16th_data.sort();this.semi_month_16th_data.reverse();for(m=0;m<this.semi_month_16th_data.length;m++)if(p>=this.semi_month_16th_data[m][0])return this.semi_month_16th_data[m];break;case 30:this.semi_month_15th_data.sort();this.semi_month_15th_data.reverse();
for(m=0;m<this.semi_month_15th_data.length;m++)if(p>=this.semi_month_15th_data[m][0])return this.semi_month_15th_data[m];break;case 29:this.semi_month_14th_data.sort();this.semi_month_14th_data.reverse();for(m=0;m<this.semi_month_14th_data.length;m++)if(p>=this.semi_month_14th_data[m][0])return this.semi_month_14th_data[m];break;case 28:this.semi_month_13th_data.sort();this.semi_month_13th_data.reverse();for(m=0;m<this.semi_month_13th_data.length;m++)if(p>=this.semi_month_13th_data[m][0])return this.semi_month_13th_data[m];
break;default:for(this.semi_month_15th_data.sort(),this.semi_month_15th_data.reverse(),m=0;m<this.semi_month_15th_data.length;m++)if(p>=this.semi_month_15th_data[m][0])return this.semi_month_15th_data[m]}break;case 4:this.fortnightly_data.sort();this.fortnightly_data.reverse();for(m=0;m<this.fortnightly_data.length;m++)if(p>=this.fortnightly_data[m][0])return this.fortnightly_data[m];break;case 5:for(this.weekly_data.sort(),this.weekly_data.reverse(),m=0;m<this.weekly_data.length;m++)if(p>=this.weekly_data[m][0])return this.weekly_data[m]}};
z.prototype.datetostring=function(m){var n=m.getFullYear();var l=this.getMonth(m);m=m.getDate();10>l&&(l="0"+l);10>m&&(m="0"+m);return n+"-"+l+"-"+m};z.prototype.returnDateString=function(m){return m.getDate()+"/"+this.getMonth(m)+"/"+m.getFullYear()};z.prototype.checkPublicHolidays=function(m){m=this.returnDateString(m);for(var n=0;n<this.publicHolidays.length;n++)if(m==this.publicHolidays[n])return!0;return!1};z.prototype.boolSunday=function(m){return 0==this.returnDate(m).getDay()?!0:!1};z.prototype.boolSaturday=
function(m){return 6==this.returnDate(m).getDay()?!0:!1};z.prototype.boolHoliday=function(m){m=this.returnDate(m);return this.checkPublicHolidays(m)};z.prototype.getValidEndDate=function(m){if(this.checkPublicHolidays(m))return this.getValidEndDate(Date.DateAdd("d",1,m));if(this.saturdayFlag||this.sundayFlag){if(this.saturdayFlag&&6==m.getDay()&&0<Date.DateDiff("d",this.returnDate(this.turnDate),m))return this.getValidEndDate(Date.DateAdd("d",2,m));if(this.sundayFlag&&0==m.getDay())return this.getValidEndDate(Date.DateAdd("d",
1,m))}return m};z.prototype.getMonth=function(m){return m.getMonth()+1};z.prototype.returnDate=function(m){return new Date(m[0],m[1]-1,m[2])};z.prototype.returnDate_ShiftToValid=function(m){var n=new Date;n.setFullYear(m[0],m[1]-1,m[2]);var l=1,c=m[1]-1;for(12<=c&&(c=0);n.getMonth()!=c;)n.setFullYear(m[0],m[1]-1,m[2]-l),l++;return n};z.prototype.toArray=function(m){return[m.getFullYear(),this.getMonth(m),m.getDate()]};z.prototype.label=function(m){return 10>m?"0"+m:m};z.prototype.displayDate=function(m){return m[0]+
"/"+this.label(m[1])+"/"+this.label(m[2])};z.prototype.setFortnightlyCycle=function(m){this.fortnightly_cycle=m};z.prototype.setWeeklyCycle=function(m){this.weekly_cycle=m};z.prototype.setNonCalStartDay=function(m){this.nonCalStartDay=m};z.prototype.setEmployemployDate=function(m,n,l){this.employDate[0]=m;this.employDate[1]=n;this.employDate[2]=l};z.prototype.calFirstEndDate=function(){this.employdateobj=this.returnDate(this.employDate);this.After60Days=Date.DateAdd("d",this.const_first_days-1,this.employdateobj);
this.days60ofEmployment=this.toArray(this.After60Days);this.deadlineofEnrolment=this.toArray(this.getValidEndDate(this.After60Days));this.tmpfirstEndDate=Date.DateAdd("d",-1,new Date(this.days60ofEmployment[0],this.days60ofEmployment[1],1));this.firstEndDate=this.toArray(this.tmpfirstEndDate);this.tmpfirstEndDate=Date.DateAdd("d",this.grace_periods,this.tmpfirstEndDate);this.saturdayFlag=!0;this.tmpfirstEndDate=this.getValidEndDate(this.tmpfirstEndDate);this.deadlineofPayingFirstCont=this.toArray(this.tmpfirstEndDate);
delete this.employdateobj;delete this.After60Days;delete this.tmpfirstEndDate};z.prototype.nextPaymentDate=function(m){switch(this.paymentType){case 2:m.getDate()>this.nonCalStartDay-1?m=this.returnDate_ShiftToValid([m.getFullYear(),this.getMonth(m)+1,this.nonCalStartDay-1]):null==this.firstPaymentDate?this.firstPaymentDate=m=this.returnDate_ShiftToValid([m.getFullYear(),this.getMonth(m),this.nonCalStartDay-1]):m=this.returnDate_ShiftToValid([m.getFullYear(),this.getMonth(m)+1,this.nonCalStartDay-
1]);null==this.firstPaymentDate&&(this.firstPaymentDate=m);break;case 3:null==this.firstPaymentDate?(m.getDate()>this.const_semi_halfday?(m=Date.DateAdd("m",1,this.returnDate([m.getFullYear(),this.getMonth(m),1])),m=Date.DateAdd("d",-1,m)):m=m.getDate()==this.const_semi_halfday?m:this.returnDate([m.getFullYear(),this.getMonth(m),this.const_semi_halfday]),this.firstPaymentDate=m):m.getDate()<this.const_semi_halfday+1?(m=Date.DateAdd("m",1,this.returnDate([m.getFullYear(),this.getMonth(m),1])),m=Date.DateAdd("d",
-1,m)):m=Date.DateAdd("m",1,this.returnDate([m.getFullYear(),this.getMonth(m),this.const_semi_halfday]));break;case 4:if(null==this.firstPaymentDate){var n=Date.DateDiff("d",m,this.returnDate(this.fortnightly_cycle));var l=n%14;0==l?n=13:0<n?n=l-1:n=14-Math.abs(l)-1;this.firstPaymentDate=m=Date.DateAdd("d",n,m)}else m=Date.DateAdd("d",this.const_fortnightly,m);break;case 5:null==this.firstPaymentDate?(n=m.getDay()==this.weekly_cycle?0:0>m.getDay()-this.weekly_cycle?Math.abs(m.getDay()-this.weekly_cycle):
this.const_weekday_num-Math.abs(m.getDay()-this.weekly_cycle),this.firstPaymentDate=m=Date.DateAdd("d",n,m)):m=Date.DateAdd("d",this.const_weekday_num,m);break;default:null==this.firstPaymentDate?(m=this.returnDate([m.getFullYear(),this.getMonth(m),1]),m=Date.DateAdd("m",1,m),this.firstPaymentDate=m=Date.DateAdd("d",-1,m)):(m=Date.DateAdd("m",2,this.returnDate([m.getFullYear(),this.getMonth(m),1])),m=Date.DateAdd("d",-1,m))}return m};z.prototype.calPeriod=function(m,n){var l=[],c=this.ContributionPeriods.length;
return 0<=Date.DateDiff("d",n,this.returnDate(this.firstEndDate),"")?(l[0]=this.toArray(m),l[1]=this.toArray(n),this.ContributionPeriods[c]=l,this.nextPaymentDate(n)):!1};z.prototype.getAllPeriods=function(m,n){m=this.calPeriod(m,n);if(0!=m)return this.getAllPeriods(Date.DateAdd("d",1,n),m)};z.prototype.getVal=function(m,n){m=m.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");m=(new RegExp("[\\?\x26]"+m+"\x3d([^\x26#]*)")).exec(n);return null==m?"":m[1]};z.prototype.main=function(m){this.paymentType=m.get("prFreq");
this.paymentType=parseInt(this.paymentType);this.setEmployemployDate(parseInt(m.get("doeYear")),parseInt(m.get("doeMonth"))+1,parseInt(m.get("doeDate")));switch(this.paymentType){case 2:this.setNonCalStartDay(parseInt(m.get("noncalStartDay")));break;case 4:this.setFortnightlyCycle([parseInt(m.get("prfnightStartYear")),parseInt(m.get("prfnightStartMonth"))+1,parseInt(m.get("prfnightStartDate"))]);break;case 5:this.setWeeklyCycle(parseInt(m.get("prweeklyCycle")))}this.calFirstEndDate();this.getAllPeriods(this.returnDate(this.employDate),
this.nextPaymentDate(this.returnDate(this.employDate)))};z.prototype.printf=function(m){document.write(m)};z.prototype.formTable=function(){var m='\x3ctable\x3e\x3ctr class\x3d"grey"\x3e\x3cth width\x3d"50%"\x3e'+(messages.payrollPeriods+"\x3c/th\x3e");m+='\x3cth width\x3d"50%"\x3e'+messages.relevantIncome+"\x3c/th\x3e";m+="\x3c/tr\x3e";for(var n=0;n<this.ContributionPeriods.length;n++){var l=this.ContributionPeriods[n];var c=l[0];l=l[1];var p=10>c[1]?"0"+c[1]:c[1],d=10>c[2]?"0"+c[2]:c[2],a=10>l[1]?
"0"+l[1]:l[1],b=10>l[2]?"0"+l[2]:l[2];m+='\x3ctr class\x3d"lightgrey"\x3e';m+="\x3ctd\x3e";m+=c[0]+"/"+p+"/"+d+" - "+l[0]+"/"+a+"/"+b;m+="\x3c/td\x3e";m+='\x3ctd\x3e\x3cinput type\x3d"text" name\x3d"ri_'+n+'"  value\x3d"0.00" onblur\x3d"clearNoNum(this)"  maxlength\x3d"12"  /\x3e\x3c/td\x3e';m+="\x3c/tr\x3e"}return m+"\x3c/table\x3e"};z.prototype.getContributionTableHTML=function(m,n,l,c){var p=m.getContPeriods(),d=this.effectiveDateCalcLast(p[0],p[1],m.getPryllFrequency(),m),a=d[1],b=d[2],f=d[3],
e=d[4];parseFloat(n)>parseFloat(b)?d=b:b=d=n;parseFloat(n)<parseFloat(a)&&(b=0);d=Math.round(parseFloat(d)*parseFloat(f))/100;b=Math.round(parseFloat(b)*parseFloat(e))/100;d=m.getDisplayNum(""+d);b=m.getDisplayNum(""+b);a=['\x3ctable class\x3d"desktop"\x3e',"\x3ccaption\x3e",'\x3cdiv class\x3d"A-PAR16R-RW-ALL text-container" \x3e\x3cstrong\x3e',l.lastMandatoryContributions,"\x3c/strong\x3e\x26nbsp;\x26nbsp;\x26nbsp;",l.contributionInstructions,"\x3c/div\x3e\x3c/caption\x3e",'\x3ctr class\x3d"grey"\x3e',
'\x3cth width\x3d"30%"  scope\x3d"col" \x3e',l.contributionPeriods,"\x3c/th\x3e",'\x3cth width\x3d"23%"  scope\x3d"col" \x3e',l.relevantIncome,"\x3c/th\x3e",'\x3cth width\x3d"23%"  scope\x3d"col"\x3e',l.employer,"\x3c/th\x3e",'\x3cth width\x3d"23%"  scope\x3d"col" \x3e',l.employee,"\x3c/th\x3e","\x3c/tr\x3e"];p=m.getDisplayDate(p[0])+" - "+m.getDisplayDate(p[1]);f='\x3ctable class\x3d"non-desktop"\x3e\x3ccaption\x3e\x3cdiv class\x3d"A-PAR16R-RW-ALL text-container"\x3e\x3cstrong\x3e'+l.lastMandatoryContributions+
"\x3c/strong\x3e\x26nbsp;\x26nbsp;\x26nbsp;"+l.contributionInstructions+"\x3c/div\x3e\x3c/caption\x3e";f+="\x3ctr\x3e\x3cth scope\x3d'row' \x3e"+l.contributionPeriods+"\x3c/th\x3e\x3ctd\x3e"+p+"\x3c/td\x3e\x3c/tr\x3e";f+="\x3ctr\x3e\x3cth scope\x3d'row' \x3e"+l.relevantIncome+"\x3c/th\x3e\x3ctd\x3e"+m.getDisplayNum(n+"")+"\x3c/td\x3e\x3c/tr\x3e";f+="\x3ctr\x3e\x3cth scope\x3d'row' \x3e"+l.employer+"\x3c/th\x3e\x3ctd\x3e"+d+"\x3c/td\x3e\x3c/tr\x3e";f+="\x3ctr\x3e\x3cth scope\x3d'row' \x3e"+l.employee+
"\x3c/th\x3e\x3ctd\x3e"+b+"\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e";a.push('\x3ctr class\x3d"lightgrey"\x3e');a.push("\x3ctd\x3e");a.push(p);a.push("\x3c/td\x3e");a.push("\x3ctd\x3e");a.push(m.getDisplayNum(n+""));a.push("\x3c/td\x3e");a.push("\x3ctd\x3e");a.push(d);a.push("\x3c/td\x3e");a.push("\x3ctd\x3e");a.push(b);a.push("\x3c/td\x3e");a.push("\x3c/tr\x3e");a.push("\x3c/table\x3e");return c?f:a.join("")};z.prototype._print=function(m){document.write(m+"\x3cbr /\x3e")};return z}()},function(M,Y,I){Y.__esModule=
!0;Y.Lastcont2=void 0;var z=I(13);I(14);Y.Lastcont2=function(){function m(n){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.cacl2=new z.Calc2(n);this.initDate(n.get("prFreq"),n.get("noncalStartDay"),n.get("prfnightStartDate"),n.get("prfnightStartMonth"),n.get("prfnightStartYear"),n.get("prweeklyCycle"),n.get("doeYear"),n.get("doeMonth"),n.get("doeDate"))}m.prototype.initDate=function(n,l,c,p,d,a,b,f,e){this.cacl2.setPryllFrequency(n);this.cacl2.setNonCalStartDay(l);
this.cacl2.setPryllFnightStartDate(d,p,c);this.cacl2.setWeeklyCycle(a);this.cacl2.setLastDOE(b,f,e);switch(this.cacl2.getPryllFrequency()){case this.cacl2.G_INT_PF_MONTHLY:this.cacl2.setContPeriods(this.cacl2.getLCCalMonthContPeriods());break;case this.cacl2.G_INT_PF_NONCALMONTH:this.cacl2.setContPeriods(this.cacl2.getLCNonCalMonthContPeriods(this.cacl2.getNonCalStartDay()));break;case this.cacl2.G_INT_PF_SEMIMONTH:this.cacl2.setContPeriods(this.cacl2.getLCSemiMonthContPeriods());break;case this.cacl2.G_INT_PF_FORTNIGHTLY:this.cacl2.setContPeriods(this.cacl2.getLCFortNightlyContPeriods(this.cacl2.getPryllFnightStartDate()));
break;case this.cacl2.G_INT_PF_WEEKLY:this.cacl2.setContPeriods(this.cacl2.getLCWeeklyContPeriods(this.cacl2.getStartDayForWCByEndDay(this.cacl2.getWeeklyCycle())))}};m.prototype.getRelevantIncomeTableHTML=function(n){var l=this.cacl2.getContPeriods();var c='\x3ctable class\x3d"hsbcTableStyle02"\x3e\x3ccaption\x3e\x3cdiv class\x3d"A-PAR16R-RW-ALL"\x3e'+(n.secondTableCaption+"\x3c/div\x3e\x3c/caption\x3e");c=c+'\x3ctr class\x3d"grey"\x3e\x3cth scope\x3d"col" width\x3d"50%"\x3e'+(n.payrollPeriods+"\x3c/th\x3e");
c+='\x3cth scope\x3d"col" width\x3d"50%"\x3e'+n.relevantIncome+"\x3c/th\x3e";c=c+'\x3c/tr\x3e\x3ctr class\x3d"lightgrey"\x3e\x3ctd\x3e\x3clabel for\x3d"ri_0"\x3e'+(this.cacl2.getDisplayDate(l[0])+" - "+this.cacl2.getDisplayDate(l[1]));return c+'\x3c/label\x3e\x3c/td\x3e\x3ctd\x3e\x3cinput type\x3d"text" id\x3d"ri_0" name\x3d"ri_0" value\x3d"0.00" maxlength\x3d"12"/\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e'};return m}()},function(M,Y,I){Y.__esModule=!0;var z=/(\d)(?=(\d{3})+(?:\.\d+)?$)/g;Y.FormatUtils=
function(){function m(n){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.branch=n||"uk"}m.prototype.formatNumber=function(n){return"uk"===this.branch?this.formatNumberUK(Number(n)):n};m.prototype.formatNumberUK=function(n){return n.toFixed(2).replace(z,"$1,").replace(/\.00$/,"")};m.prototype.formatNumberCalc=function(n){return n.replace(/,/,"")};m.copyJson=function(n){return JSON.parse(JSON.stringify(n))};return m}()},function(M,Y,I){Y.__esModule=!0;Y.InputWithSliderField=
void 0;var z=I(25),m=Bootstrap.jQuery;Y.InputWithSliderField=function(){function n(l,c){var p=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this.$scope=l;this.fieldSettings=c;this.customValues=p;this.formatUtils=new z.FormatUtils;this.setRanges();this._initialiseInput();this._initialiseSlider();this.$labelAmount=this.$scope.find(".heading-left");this.$labelMonths=this.$scope.find(".heading-right");this.labelAmountId=
this.$labelAmount.attr("id");this.labelMonthsId=this.$labelMonths.attr("id");this.$handleInBothSliders=this.$slider.find(".ui-slider-handle");this.$handleAmount=this.$slider.find(".calc-slider-handle");this.$handleMonths=this.$slider.find(".months-slider-handle");this.setAriaOnSlider()}n.prototype.setRanges=function(){this.ranges={min:this.fieldSettings.range.min,max:this.fieldSettings.range.max}};n.prototype.setRange=function(l){this.fieldSettings.range=l;this.setRanges();this.$slider.slider(this.ranges);
this.$minLabel.html(this.formatUtils.formatNumber(this.fieldSettings.range.min));this.$maxLabel.html(this.formatUtils.formatNumber(this.fieldSettings.range.max))};n.prototype.setAreas=function(l){var c=this;this.$areas.empty();l=l.map(function(p){return p.min>=c.fieldSettings.range.min&&p.max<=c.fieldSettings.range.max?100*(p.max-c.fieldSettings.range.min)/(c.fieldSettings.range.max-c.fieldSettings.range.min):null}).filter(function(p){return null!=p});[0].concat(l).forEach(function(p){c.$areas.append('\x3cspan class\x3d"area-border" style\x3d"margin-left:'+
p+'%"\x3e\x3c/span\x3e')})};n.prototype.setAriaOnSlider=function(){var l;this.fieldSettings.labels&&(l=this.fieldSettings.labels[this.fieldSettings.value]);this.$handleInBothSliders.attr({role:"slider","aria-valuemin":this.fieldSettings.range.min,"aria-valuemax":this.fieldSettings.range.max,"aria-valuenow":this.fieldSettings.value,"aria-valuetext":l});this.$handleAmount.attr("aria-labelledby",this.labelAmountId);this.$handleMonths.attr("aria-labelledby",this.labelMonthsId)};n.prototype.getProperValue=
function(){var l=this.fieldSettings.value,c=this.ranges.min,p=this.ranges.max;return l>p?p:l<c?c:l};n.prototype._initialiseInput=function(){var l=this;this.$input=m("[data-calc-input\x3d"+this.fieldSettings.name+"] input",this.$scope);this.$input.val(this.formatUtils.formatNumber(this.getProperValue()));this.$input.on("change blur",function(c){c=l.$input.val();c=Number(c.replace(/[^\d]/g,""));c<l.fieldSettings.range.min?c=l.fieldSettings.range.min:c>l.fieldSettings.range.max&&(c=l.fieldSettings.range.max);
l.fieldSettings.value=c;l._triggerUpdate();l._setSliderValue(l.fieldSettings.value)});this.$input.on("keyup",function(c){9<=c.which&&18>=c.which||(c=l.$input.val(),/\D/g.test(c)&&l.$input.val(c.replace(/\D/g,"")))});this.$input.on("focus",function(c){c=l.$input.val();/,/g.test(c)&&(c=c.replace(/,/g,""),l.$input.val(c));l.$input[0]&&l.$input[0].createTextRange&&(c=l.$input[0].createTextRange(),c.move("character",10),c.collapse(!0),c.select())})};n.prototype._initialiseSlider=function(){var l=this,
c="[data-calc-slider\x3d"+this.fieldSettings.name+"]";this.$slider=m(c+" .calc-slider",this.$scope);var p=this.$slider.parent().parent().hasClass("risk-slider");this.$slider.slider({range:"min",value:this.getProperValue(),min:this.fieldSettings.range.min,max:this.fieldSettings.range.max,step:this.fieldSettings.step,slide:function(d,a){l.customValues&&(a.value=l.findNearestValue(d,a.value),l._setSliderValue(a.value));if(l.lastValue!==a.value){l.fieldSettings.value=a.value;l._setInputValue(a.value);
l._triggerUpdate();l.lastValue=a.value;if(p){var b=l.fieldSettings.value-l.fieldSettings.range.min;l.$slider.find(".snap-point").each(function(f,e){m(e).toggleClass("filled",f<=b)});l.$scope.find(".value-label").addClass("hide");l.$scope.find(".value-label").eq(b).removeClass("hide")}setTimeout(function(){l.setAriaOnSlider()},0)}if(l.customValues)return!1},create:function(){l.lastValue=l.getProperValue();if(p){var d=(l.fieldSettings.range.max-l.fieldSettings.range.min)/l.fieldSettings.step,a=l.getProperValue()-
l.fieldSettings.range.min,b=m("\x3cdiv/\x3e");b.addClass("snap-points");for(var f=0;f<=d;f++){var e=m("\x3cdiv/\x3e");e.addClass("snap-point");e.toggleClass("filled",f<=a);e.css("left",(f/d*100).toFixed(2)+"%");b.append(e)}l.$slider.prepend(b);l.$scope.find(".value-label").eq(a).removeClass("hide")}}});this.$minusButton=m(c+" .minus-button",this.$scope);this.$plusButton=m(c+" .plus-button",this.$scope);this.$minusButton.on("click",function(){l.fieldSettings.value-=l.fieldSettings.step;l.fieldSettings.value<
l.fieldSettings.range.min&&(l.fieldSettings.value=l.fieldSettings.range.min);l._setSliderValue(l.fieldSettings.value);l._triggerUpdate()});this.$plusButton.on("click",function(){l.fieldSettings.value+=l.fieldSettings.step;l.fieldSettings.value>l.fieldSettings.range.max&&(l.fieldSettings.value=l.fieldSettings.range.max);l._setSliderValue(l.fieldSettings.value);l._triggerUpdate()});this.$areas=this.$slider.parent().find(".calc-areas")};n.prototype.findNearestValue=function(l,c){var p=l.keyCode!=m.ui.keyCode.RIGHT,
d=l.keyCode!=m.ui.keyCode.LEFT,a=null,b=null;this.customValues.forEach(function(f){if(p&&f<=c||d&&f>=c){var e=Math.abs(c-f);if(null==b||e<b)a=f,b=e}});return a};n.prototype._triggerUpdate=function(){this.$scope.trigger("fieldUpdated",{name:this.fieldSettings.name,value:this.fieldSettings.value})};n.prototype._setInputValue=function(l){this.$input.val(this.formatUtils.formatNumber(l))};n.prototype._setSliderValue=function(l){this.$slider.slider({value:l});this.setAriaOnSlider()};n.prototype._isInRange=
function(l){return this.fieldSettings.range.min<=l&&l<=this.fieldSettings.range.max};return n}()},function(M,Y,I){Y.__esModule=!0;Y.LineChart=function(){function z(m){if(!(this instanceof z))throw new TypeError("Cannot call a class as a function");this.container=m;this.svg=m.getElementsByTagName("svg")[0];this.cursorNodes=[];this.setHorizontalAxisTitle(m.getAttribute("data-horizontal-axis-title"));this.setVerticalAxisTitle(m.getAttribute("data-vertical-axis-title"));var n=this.createElement("defs");
var l=this.createElement("marker");l.setAttribute("id","marker-circle");l.setAttribute("viewBox","0 0 20 20");l.setAttribute("refX","10");l.setAttribute("refY","10");l.setAttribute("markerWidth","20");l.setAttribute("markerHeight","20");l.setAttribute("markerUnits","userSpaceOnUse");l.setAttribute("class","marker series1");var c=this.createElement("circle");c.setAttribute("cx","10");c.setAttribute("cy","10");c.setAttribute("r","5");l.appendChild(c);n.appendChild(l);l=this.createElement("marker");
l.setAttribute("id","marker-triangle");l.setAttribute("viewBox","0 0 20 20");l.setAttribute("refX","10");l.setAttribute("refY","10");l.setAttribute("markerWidth","20");l.setAttribute("markerHeight","20");l.setAttribute("markerUnits","userSpaceOnUse");l.setAttribute("class","marker series2");c=this.createElement("polygon");c.setAttribute("points","10,6 15,15 5,15");l.appendChild(c);n.appendChild(l);l=this.createElement("marker");l.setAttribute("id","marker-tile");l.setAttribute("viewBox","0 0 20 20");
l.setAttribute("refX","10");l.setAttribute("refY","10");l.setAttribute("markerWidth","20");l.setAttribute("markerHeight","20");l.setAttribute("markerUnits","userSpaceOnUse");l.setAttribute("class","marker series3");c=this.createElement("polygon");c.setAttribute("points","10,5 15,10 10,15 5,10");l.appendChild(c);n.appendChild(l);this.svg.appendChild(n);this.chart=this.createElement("g");this.chart.setAttribute("aria-hidden","true");this.svg.appendChild(this.chart);this.tooltipLabel=m.getAttribute("data-tooltip-label");
this.lines=[];this.setValueFormatter(function(p){if(TOOLS_utils.matchMedia.mobile||TOOLS_utils.matchMedia.tablet){var d=Math.abs(p);return 1E6<=d?Math.round(p/1E6*10)/10+"m":1E3<=d?Math.round(p/1E3*10)/10+"k":p}return p.toLocaleString()});this.setCursorValueFormatter(this.valueFormatter);this.bindUIEvents()}z.prototype.createElement=function(m){return document.createElementNS("http://www.w3.org/2000/svg",m)};z.prototype.bindUIEvents=function(){var m=this;window.addEventListener("resize",function(l){m.resize()});
var n=this;TOOLS_utils.isSafari?window.matchMedia("print").addListener(function(l){l.matches?n.resize(425):n.resize()}):(window.addEventListener("beforeprint",function(){n.resize(645)}),window.addEventListener("afterprint",function(){n.resize()}));this.svg.addEventListener("mousemove",function(l){m.clearCursor();var c=m.yAxis.getBBox().width+20,p=60+m.legend.getBBox().height;if(l.offsetX>=c&&l.offsetX<=c+m.chartArea.getBBox().width&&l.offsetY>=p&&l.offsetY<=p+m.chartArea.getBBox().height){var d=Math.round((l.offsetX-
(m.yAxis.getBBox().width+20))/m.chartWidth*(m.horizontalAxisMax-m.horizontalAxisMin)+m.horizontalAxisMin),a=m.chartHeight/10,b=Math.round((d-m.horizontalAxisMin)/(m.horizontalAxisMax-m.horizontalAxisMin)*m.chartWidth*1E3)/1E3;l=m.line([{x:b,y:3},{x:b,y:m.chartHeight-3}],null,"cursor line",m.chartArea);m.cursorNodes.push(l);l=m.createElement("g");m.chart.appendChild(l);m.cursorNodes.push(l);var f=[];m.lines.forEach(function(u,r){u.data.some(function(t){if(t.x==d)return f.push({line:u,data:t}),!0})});
if(0<f.length){c=m.createElement("polygon");c.setAttribute("class","cursor hover-container");var e=m.createElement("g"),k=m.createElement("g"),h=m.tooltipLabel.replace("{age}",d);m.text(h,{x:15,y:-32},"middle","cursor label",k);e.appendChild(k);l.appendChild(c);l.appendChild(e);f.forEach(function(u){var r=u.line;u=u.data;var t=m.chartHeight-Math.round(u.y/(10*m.yTick)*a*1E4)/1E3,y=m.createElement("circle");y.setAttribute("class","cursor "+r.className);y.setAttribute("cx","0");y.setAttribute("cy",
"0");y.setAttribute("r","5");y.setAttribute("transform","translate("+b+","+t+")");m.chartArea.appendChild(y);m.cursorNodes.push(y);t=m.createElement("g");e.appendChild(t);y=m.createElement("circle");y.setAttribute("class","cursor "+r.className);y.setAttribute("cx","0");y.setAttribute("cy","0");y.setAttribute("r","5");y.setAttribute("transform","translate(15,-32)");m.chartArea.appendChild(y);t.appendChild(y);m.text(m.cursorValueFormatter(u.y),{x:30,y:-32},"middle","cursor label",t)});m.wrap(e,{width:25,
height:0});k=e.getBBox();h=k.width+20;var g=-15-k.height-15,q=b+(m.yAxis.getBBox().width+20)-h/2,x=q;q+h>m.container.clientWidth-1&&(q=m.container.clientWidth-h-1);1>q&&(q=1);x-=q;l.setAttribute("transform","translate("+q+","+p+")");e.setAttribute("transform","translate(0,"+(-k.height+20)+")");c.setAttribute("points","0,-15 0,"+g+" "+h+","+g+" "+h+",-15 "+(x+h/2+8)+",-15 "+(x+h/2)+",-4 "+(x+h/2-8)+",-15")}}});this.svg.addEventListener("mouseout",function(l){m.clearCursor()})};z.prototype.clearCursor=
function(){this.cursorNodes.forEach(function(m){m.parentNode&&m.parentNode.removeChild(m)});this.cursorNodes=[]};z.prototype.setHorizontalAxisTitle=function(m){this.horizontalAxisTitle=m};z.prototype.setHorizontalAxisMin=function(m){this.horizontalAxisMin=m};z.prototype.setHorizontalAxisMax=function(m){this.horizontalAxisMax=m};z.prototype.setVerticalAxisTitle=function(m){this.verticalAxisTitle=m};z.prototype.setLines=function(m){this.lines=m};z.prototype.drawLegend=function(){var m=this,n=this.createElement("g");
this.chart.appendChild(n);this.lines.forEach(function(l){var c=m.createElement("g");m.line([{x:12,y:0},{x:0,y:0}],l.marker,"line "+l.className,c);m.text(l.name,{x:20,y:0},"middle","legend-label",c);n.appendChild(c)});this.wrap(n,{width:25,height:0});n.setAttribute("transform","translate(10,20)");return n};z.prototype.wrap=function(m,n){var l=this;n||(n={});n.width=n.width||0;n.height=n.height||0;var c=0,p=0,d=0;Array.prototype.forEach.call(m.childNodes,function(a){var b=a.getBBox();c+b.width>l.container.clientWidth-
20&&(c=0,p+=d+n.height,d=0);a.setAttribute("transform","translate("+c+","+p+")");c+=b.width+n.width;d=Math.max(d,b.height)})};z.prototype.line=function(m,n,l,c){var p=this.createElement("polyline");p.setAttribute("class",l);p.setAttribute("points",m.map(function(d){return d?d.x+","+d.y:""}).join(" "));c||(c=this.chart);c.appendChild(p);n&&p.setAttribute("marker-end","url(#marker-"+n+")");return p};z.prototype.text=function(m,n,l,c,p){"undefined"==typeof p&&(p=c,c=l,l=null);var d=this.createElement("text");
d.setAttribute("class",c);d.setAttribute("x",n.x);d.setAttribute("y",n.y);"middle"==l&&d.setAttribute("dy","0.6ex");d.textContent=m;p||(p=this.chart);p.appendChild(d);return d};z.prototype.resize=function(m){this.redraw(m)};z.prototype.setValueFormatter=function(m){this.valueFormatter=m};z.prototype.setCursorValueFormatter=function(m){this.cursorValueFormatter=m};z.prototype.redraw=function(m){for(var n=this;0<this.chart.childNodes.length;)this.chart.removeChild(this.chart.childNodes[0]);var l=m||
this.container.clientWidth;m=this.container.clientHeight;this.legend=this.drawLegend();var c=this.legend.getBBox().height,p=this.chartHeight=m-c-120,d=this.chartArea=this.createElement("g");this.chart.appendChild(d);var a=this.yAxis=this.createElement("g");this.chart.appendChild(a);var b=this.xAxis=this.createElement("g");this.chart.appendChild(b);this.verticalAxisTitle&&this.text(this.verticalAxisTitle,{x:0,y:30+c},"axis-label y-axis-label");var f=this.horizontalAxisMin,e=this.horizontalAxisMax,
k=0;this.lines.forEach(function(r){r.data.forEach(function(t){t.y>k&&(k=t.y)})});var h=Math.pow(10,Math.floor(Math.log(k/100)/Math.log(10)));(h*=Math.ceil(k/h/10))||(h=1E4);var g=p/10;for(c=0;10>=c;c++){var q=p-c*g,x=this.valueFormatter(Math.round(h*c));this.text(x,{x:0,y:q},"middle","tick-label y-tick-label",a)}var u=this.chartWidth=l-(a.getBBox().width+20)-15;for(l=0;10>=l;l++)c=p-l*g,this.line([{x:0,y:c},{x:u,y:c}],null,"gridline",d);l=TOOLS_utils.matchMedia.mobile||TOOLS_utils.matchMedia.tablet?
10:5;for(c=f;c<=e;c+=l)this.text(c,{x:u/(e-f)*(c-f),y:0},"tick-label x-tick-label",b);this.horizontalAxisTitle&&this.text(this.horizontalAxisTitle,{x:u/2,y:20},"axis-label x-axis-label",b);l=60+this.legend.getBBox().height;a.setAttribute("transform","translate("+a.getBBox().width+","+l+")");b.setAttribute("transform","translate("+(a.getBBox().width+20)+","+(m-30)+")");d.setAttribute("transform","translate("+(a.getBBox().width+20)+","+l+")");this.height=m;this.yTick=h;this.lines.forEach(function(r){var t=
r.data.map(function(y,w){if(y.x>=f&&y.x<=e)return{x:((y.x-f)/(e-f)*u).toFixed(2),y:(p-y.y/(10*h)*g*10).toFixed(2)}});n.line(t,r.marker,"line "+r.className,d)})};return z}()},function(M,Y,I){Y.__esModule=!0;M=function(){function z(){if(!(this instanceof z))throw new TypeError("Cannot call a class as a function");}z.prototype.listen=function(m,n,l){if(m=document.querySelectorAll('[name\x3d"'+m+'"]')[0])return m.addEventListener(n,l)};z.prototype.getParameter=function(m){return TOOLS_utils.getUrlParam(m)};
z.prototype.getValue=function(m){if(m=document.querySelectorAll('[name\x3d"'+m+'"]')[0])return m.value};z.prototype.setValue=function(m,n){if(m=document.querySelectorAll('[name\x3d"'+m+'"]')[0])m.value=n};z.prototype.setPlaceholder=function(m,n){Array.prototype.forEach.call(document.querySelectorAll('[data-placeholder\x3d"'+m+'"]'),function(l){l.innerHTML=n})};z.prototype.format=function(m,n){"string"==typeof n&&(n=this[n]);if("function"==typeof n)return n.call(null,m,Array.prototype.splice.call(arguments,
2))};z.prototype.significantFigures=function(m,n){0!=m&&(n=Math.pow(10,Math.floor(Math.log(Math.abs(m))/Math.log(10))-n+1),m=Math.floor(m/n)*n);return m};return z}();Y.CalculatorBase=M},function(M,Y,I){function z(d,a){if(!(d instanceof a))throw new TypeError("Cannot call a class as a function");}function m(d,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);d.prototype=Object.create(a&&a.prototype,{constructor:{value:d,enumerable:!1,
writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(d,a):d.__proto__=a)}Y.__esModule=!0;Y.FilePreview=Y.FileInput=void 0;M=I(1);var n=I(30),l=Bootstrap.jQuery,c=l(document.body),p={isImage:function(d){return-1!=["image/png","image/jpeg","image/gif"].indexOf(d.type)},isPdf:function(d){return-1!=["application/pdf"].indexOf(d.type)},createImagePreview:function(d,a){a=URL.createObjectURL(a);d.find(".preview").html("").css("background-image",'url("'+a+'")')},previewImage:function(d,
a,b,f,e,k){var h=URL.createObjectURL(a);f=p.formatFileSize(a.size,f);var g=e.find(".preview-link"),q=d.clone().on("click",function(){q.remove()}).removeClass("hidden");q.find(".close-button").on("click",function(x){x.preventDefault();q.remove();g.focus()});q.find(".image-wrapper").append(l("\x3cimg/\x3e").attr({src:h,alt:a.name}));q.find(".file-name").html(a.name);q.find(".file-size").html(""+b+f);q.find(".closeReaderText").html(k);c.append(q);setTimeout(function(){q.addClass("preview");q.find(".close-button").focus()},
0)},formatFileSize:function(d,a){return(Math.ceil(d/104857.6)/10).toFixed(1)+a}};Y.FileInput=function(d){function a(b,f,e){z(this,a);b=d.call(this,b);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");b=!b||"object"!==typeof b&&"function"!==typeof b?this:b;b.resizeImage=!1;b.maxFileSize=1048576*f;b.acceptFileTypes=e;b.enableDragAndDrop=!1;return b}m(a,d);a.prototype.init=function(b){this.$elem=l(b);this.messages=this.$elem.data("messages");this.documentType=
this.$elem.data("document-type");this.$fileInput=l("[type\x3dfile]",this.$elem);this.name=this.$fileInput.attr("name");b.name=this.name;this.$selectFileButton=l(".select-file-button",this.$elem);this.$dropTarget=this.$elem;this.$fileList=l(".file-list",this.$elem);this.$fileItemTemplate=this.$fileList.find(".file-item").removeClass("hide").remove();this.$previewModalTemplate=l(".preview-modal-template");this.$helpButton=l(".help-button",this.$elem);TOOLS_utils.isSafari&&this.$fileInput.removeAttr("accept");
this.files=[];this.invalidFiles=[];d.prototype.init.call(this,b);this.enableInput()};a.prototype.bindUiEvents=function(){var b=this;this.$fileInput.on("change",function(e){e.preventDefault();e.stopImmediatePropagation();Array.prototype.forEach.call(e.target.files,function(k){b.addFileItem(k)});b.$fileInput[0].value=""});if(this.enableDragAndDrop){var f;this.$dropTarget.on("dragstart",function(e){clearTimeout(f);e.preventDefault()});this.$dropTarget.on("dragover",function(e){clearTimeout(f);e.preventDefault()});
this.$dropTarget.on("dragenter",function(e){clearTimeout(f);b.$dropTarget.addClass("dnd")});this.$dropTarget.on("dragend",function(e){e.preventDefault();b.$dropTarget.removeClass("dnd")});this.$dropTarget.on("dragleave",function(e){f=setTimeout(function(){b.$dropTarget.removeClass("dnd")},100)});this.$dropTarget.on("drop",function(e){e.preventDefault();b.$dropTarget.removeClass("dnd");Array.prototype.forEach.call(e.originalEvent.dataTransfer.files,function(k){b.addFileItem(k)})})}this.$selectFileButton.on("click",
function(e){e.preventDefault();b.inputDisabled||b.$selectFileButton.siblings("[type\x3dfile]").click()});this.$helpButton.on("click",function(){alert(b.$helpButton.data("tooltip-content"))});d.prototype.bindUiEvents.call(this)};a.prototype.fileConvertToByteStream=function(b){return new Promise(function(f,e){try{var k=new FileReader,h;k.readAsDataURL(b);k.onloadend=function(g){g.target.readyState==FileReader.DONE&&(h=g.target.result,h=h.substring(h.indexOf(",")+1),f(h))}}catch(g){e(g)}})};a.prototype.addFileItem=
function(b){var f=this;if(!this.inputDisabled){var e=p.formatFileSize(b.size,this.messages.megabyteUnit),k=this.$fileItemTemplate.clone();k.find(".file-name").attr("aria-live","polite").html(b.name);k.find(".file-size").html(""+this.messages.fileSizeLabel+e);var h=k.find(".preview-link");this.$fileList.append(k);p.isPdf(b)&&k.find(".preview").find(".icon").removeClass("icon-document").addClass("icon-pdf");k.find(".visuallyhidden").html(this.messages.openFileReminderText);this.handleFile(b).then(function(g){var q=
g.file,x=g.info;return f.fileConvertToByteStream(q).then(function(u){q.fileByteArray=u;f.files.push(q);f.$elem.trigger("change");u=URL.createObjectURL(q);e=p.formatFileSize(q.size,f.messages.megabyteUnit);k.find(".file-size").html(""+f.messages.fileSizeLabel+e);if(p.isImage(q))p.createImagePreview(k,q),h.on("click",function(r){r.preventDefault();p.previewImage(f.$previewModalTemplate,q,f.messages.fileSizeLabel,f.messages.megabyteUnit,k,f.messages.openedAndCloseFileReminder)});else if(window.navigator.msSaveOrOpenBlob)h.on("click",
function(r){r.preventDefault();window.navigator.msSaveOrOpenBlob(q,q.name)});else if(TOOLS_utils.isSafari)h.on("click",function(r){r.preventDefault();r=URL.createObjectURL(q);window.open(r)});else h.attr({href:u,download:q.name}).click(function(r){return r.stopPropagation()});x&&k.find(".error").html(x).removeClass("hide");h.focus();return q})})["catch"](function(g){f.invalidFiles.push(b);f.$elem.trigger("change");k.addClass("error");k.find(".error").html(g).removeClass("hide");f.TMS.trackEvent({event_category:"application",
event_action:"error",event_content:g});return b}).then(function(g){k.find(".remove-button").on("click",function(q){q.preventDefault();q=f.files.indexOf(g);-1!=q&&(f.files.splice(q,1),f.$elem.trigger("change"));q=f.invalidFiles.indexOf(g);-1!=q&&(f.invalidFiles.splice(q,1),f.$elem.trigger("change"));k.remove()})})}};a.prototype.setValue=function(){this._value=this.files};a.prototype.checkValidity=function(){if(this.disabled)return this.validity.valid=!0;this.validity.badInput=0<this.invalidFiles.length;
d.prototype.checkValidity.call(this);return!this.validity.badInput};a.prototype.isSupportedFileType=function(b){return-1!=this.acceptFileTypes.indexOf(b.type)};a.prototype.handleFile=function(b){var f=this;return new Promise(function(e,k){if(f.isSupportedFileType(b))if(0>=b.size)k(f.messages.fileSizeTooSmall);else if(b.size>=f.maxFileSize)if(f.resizeImage&&p.isImage(b))(new n.ImageResize(b,f.maxFileSize)).resize().then(function(h){h.name=b.name;e({file:h,info:"File is resized - "+b.size+" \x3e "+
h.size})})["catch"](function(){k(f.messages.fileSizeTooLarge)});else k(f.messages.fileSizeTooLarge);else/[|*?<>\\"\[\]:\r\n]/.test(b.name)?k(f.messages.unsupportedFileName):50<b.name.length?k(f.messages.fileNameTooLong):e({file:b});else k(f.messages.unsupportedFileType)})};a.prototype.disableInput=function(){this.inputDisabled=!0;this.$selectFileButton.addClass("disabled");this.$selectFileButton.attr("aria-disabled",this.inputDisabled.toString())};a.prototype.enableInput=function(){this.inputDisabled=
!1;this.$selectFileButton.removeClass("disabled");this.$selectFileButton.attr("aria-disabled",this.inputDisabled.toString())};return a}(M.FormControl);Y.FilePreview=function(){function d(a,b){z(this,d);this.$elem=l(a);this.messages=this.$elem.data("messages");this.fileInput=b;this.$fileList=l(".file-list",this.$elem);this.$fileItemTemplate=this.$fileList.find(".file-item").removeClass("hidden").remove();this.$previewModalTemplate=l(".preview-modal-template")}d.prototype.update=function(){var a=this;
this.$fileList.empty();this.fileInput.files.forEach(function(b){var f=URL.createObjectURL(b),e=p.formatFileSize(b.size,a.messages.megabyteUnit,a.messages.megabyteUnit),k=a.$fileItemTemplate.clone();k.find(".file-name").attr("aria-live","polite").html(b.name);k.find(".file-size").html(""+a.messages.fileSizeLabel+e);e=k.find(".preview-link");a.$fileList.append(k);p.isPdf(b)&&k.find(".preview").find(".icon").removeClass("icon-document").addClass("icon-pdf");k.find(".visuallyhidden").html(a.messages.openFileReminderText);
if(p.isImage(b))p.createImagePreview(k,b),e.on("click",function(h){h.preventDefault();p.previewImage(a.$previewModalTemplate,b,a.messages.fileSizeLabel,a.messages.megabyteUnit)});else if(window.navigator.msSaveOrOpenBlob)e.on("click",function(h){h.preventDefault();window.navigator.msSaveOrOpenBlob(b,b.name)});else TOOLS_utils.isSafari?e.attr({href:f,target:"_blank"}):e.attr({href:f,download:b.name});e.focus()})};return d}()},function(M,Y,I){Y.__esModule=!0;var z=Bootstrap.jQuery;HTMLCanvasElement&&
HTMLCanvasElement.prototype&&"function"!=typeof HTMLCanvasElement.prototype.toBlob&&"function"==typeof HTMLCanvasElement.prototype.toDataURL&&(HTMLCanvasElement.prototype.toBlob=function(m,n,l){l=atob(this.toDataURL(n,l).split(",")[1]);for(var c=new Uint8Array(l.length),p=0;p<l.length;p++)c[p]=l.charCodeAt(p);n=new Blob([c],{type:n});m.call(this,n)});Y.ImageResize=function(){function m(n,l,c,p){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.file=n;this.fileSize=
l;this.mimeType=c||"image/jpeg";this.jpegQuality=p||.85}m.prototype.resize=function(){var n=this;return new Promise(function(l,c){var p=document.createElement("canvas");if(p&&p.toBlob){var d=p.getContext("2d"),a=document.createElement("img"),b=URL.createObjectURL(n.file);z(a).attr("src",b).on("load",function(f){try{var e=Math.min(Math.sqrt(n.fileSize/(a.width*a.height)*3),1);p.width=a.width*e;p.height=a.height*e;d.drawImage(a,0,0,p.width,p.height);p.toBlob(function(k){k.size<n.fileSize?l(k):c()},
n.mimeType,n.jpegQuality)}catch(k){c()}})}else c()})};return m}()},function(M,Y,I){function z(d,a){if(!(d instanceof a))throw new TypeError("Cannot call a class as a function");}function m(d,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);d.prototype=Object.create(a&&a.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(d,a):d.__proto__=a)}Y.__esModule=
!0;Y.FilePreview=Y.FileInput=void 0;M=I(1);var n=I(32),l=Bootstrap.jQuery,c=l(document.body),p={isImage:function(d){return-1!=["image/png","image/jpeg","image/gif"].indexOf(d.type)},isPdf:function(d){return-1!=["application/pdf"].indexOf(d.type)},createImagePreview:function(d,a){a=URL.createObjectURL(a);d.find(".preview").html("").css("background-image",'url("'+a+'")')},previewImage:function(d,a,b,f,e,k){var h=URL.createObjectURL(a);f=p.formatFileSize(a.size,f);var g=e.find(".preview-link"),q=d.clone().on("click",
function(){q.remove()}).removeClass("hidden");q.find(".close-button").on("click",function(x){x.preventDefault();q.remove();g.focus()});q.find(".image-wrapper").append(l("\x3cimg/\x3e").attr({src:h,alt:a.name}));q.find(".file-name").html(a.name);q.find(".file-size").html(""+b+f);q.find(".closeReaderText").html(k);c.append(q);setTimeout(function(){q.addClass("preview");q.find(".close-button").focus()},0)},formatFileSize:function(d,a){return(Math.ceil(d/104857.6)/10).toFixed(1)+a}};Y.FileInput=function(d){function a(b,
f,e){z(this,a);b=d.call(this,b);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");b=!b||"object"!==typeof b&&"function"!==typeof b?this:b;b.resizeImage=!1;b.maxFileSize=1048576*f;b.acceptFileTypes=e;b.enableDragAndDrop=!1;return b}m(a,d);a.prototype.init=function(b){this.$elem=l(b);this.messages=this.$elem.data("messages");this.documentType=this.$elem.data("document-type");this.$fileInput=l("[type\x3dfile]",this.$elem);this.name=this.$fileInput.attr("name");
b.name=this.name;this.$selectFileButton=l(".select-file-button",this.$elem);this.$dropTarget=this.$elem;this.$fileList=l(".file-list",this.$elem);this.$fileItemTemplate=this.$fileList.find(".file-item").removeClass("hide").remove();this.$previewModalTemplate=l(".preview-modal-template");this.$helpButton=l(".help-button",this.$elem);TOOLS_utils.isSafari&&this.$fileInput.removeAttr("accept");this.files=[];this.invalidFiles=[];d.prototype.init.call(this,b);this.enableInput()};a.prototype.bindUiEvents=
function(){var b=this;this.$fileInput.on("change",function(e){e.preventDefault();e.stopImmediatePropagation();Array.prototype.forEach.call(e.target.files,function(k){b.addFileItem(k)});b.$fileInput[0].value=""});if(this.enableDragAndDrop){var f;this.$dropTarget.on("dragstart",function(e){clearTimeout(f);e.preventDefault()});this.$dropTarget.on("dragover",function(e){clearTimeout(f);e.preventDefault()});this.$dropTarget.on("dragenter",function(e){clearTimeout(f);b.$dropTarget.addClass("dnd")});this.$dropTarget.on("dragend",
function(e){e.preventDefault();b.$dropTarget.removeClass("dnd")});this.$dropTarget.on("dragleave",function(e){f=setTimeout(function(){b.$dropTarget.removeClass("dnd")},100)});this.$dropTarget.on("drop",function(e){e.preventDefault();b.$dropTarget.removeClass("dnd");Array.prototype.forEach.call(e.originalEvent.dataTransfer.files,function(k){b.addFileItem(k)})})}this.$selectFileButton.on("click",function(e){e.preventDefault();b.inputDisabled||b.$selectFileButton.siblings("[type\x3dfile]").click()});
this.$helpButton.on("click",function(){alert(b.$helpButton.data("tooltip-content"))});d.prototype.bindUiEvents.call(this)};a.prototype.addFileItem=function(b){var f=this;if(!this.inputDisabled){var e=p.formatFileSize(b.size,this.messages.megabyteUnit),k=this.$fileItemTemplate.clone();k.find(".file-name").attr("aria-live","polite").html(b.name);k.find(".file-size").html(""+this.messages.fileSizeLabel+e);var h=k.find(".preview-link");this.$fileList.append(k);p.isPdf(b)&&k.find(".preview").find(".icon").removeClass("icon-document").addClass("icon-pdf");
k.find(".visuallyhidden").html(this.messages.openFileReminderText);this.handleFile(b).then(function(g){var q=g.file;g=g.info;f.files.push(q);f.$elem.trigger("change");var x=URL.createObjectURL(q);e=p.formatFileSize(q.size,f.messages.megabyteUnit);k.find(".file-size").html(""+f.messages.fileSizeLabel+e);if(p.isImage(q))p.createImagePreview(k,q),h.on("click",function(u){u.preventDefault();p.previewImage(f.$previewModalTemplate,q,f.messages.fileSizeLabel,f.messages.megabyteUnit,k,f.messages.openedAndCloseFileReminder)});
else if(window.navigator.msSaveOrOpenBlob)h.on("click",function(u){u.preventDefault();window.navigator.msSaveOrOpenBlob(q,q.name)});else if(TOOLS_utils.isSafari)h.on("click",function(u){u.preventDefault();u=URL.createObjectURL(q);window.open(u)});else h.attr({href:x,download:q.name}).click(function(u){return u.stopPropagation()});g&&k.find(".error").html(g).removeClass("hide");h.focus();return q})["catch"](function(g){f.invalidFiles.push(b);f.$elem.trigger("change");k.addClass("error");k.find(".error").html(g).removeClass("hide");
f.TMS.trackEvent({event_category:"application",event_action:"error",event_content:g});return b}).then(function(g){k.find(".remove-button").on("click",function(q){q.preventDefault();q=f.files.indexOf(g);-1!=q&&(f.files.splice(q,1),f.$elem.trigger("change"));q=f.invalidFiles.indexOf(g);-1!=q&&(f.invalidFiles.splice(q,1),f.$elem.trigger("change"));k.remove()})})}};a.prototype.setValue=function(){this._value=this.files};a.prototype.checkValidity=function(){if(this.disabled)return this.validity.valid=
!0;this.validity.badInput=0<this.invalidFiles.length;d.prototype.checkValidity.call(this);return!this.validity.badInput};a.prototype.isSupportedFileType=function(b){return-1!=this.acceptFileTypes.indexOf(b.type)};a.prototype.handleFile=function(b){var f=this;return new Promise(function(e,k){if(f.isSupportedFileType(b))if(0>=b.size)k(f.messages.fileSizeTooSmall);else if(b.size>=f.maxFileSize)if(f.resizeImage&&p.isImage(b))(new n.ImageResize(b,f.maxFileSize)).resize().then(function(h){h.name=b.name;
e({file:h,info:"File is resized - "+b.size+" \x3e "+h.size})})["catch"](function(){k(f.messages.fileSizeTooLarge)});else k(f.messages.fileSizeTooLarge);else if(/[|*?<>\\"\[\]:\r\n]/.test(b.name))k(f.messages.unsupportedFileName);else if(50<b.name.length)k(f.messages.fileNameTooLong);else if(TOOLS_utils.isMobileIOS)f.convertFile(b).then(function(h){return e({file:h})})["catch"](function(h){return k(h)});else e({file:b});else k(f.messages.unsupportedFileType)})};a.prototype.disableInput=function(){this.inputDisabled=
!0;this.$selectFileButton.addClass("disabled");this.$selectFileButton.attr("aria-disabled",this.inputDisabled.toString())};a.prototype.enableInput=function(){this.inputDisabled=!1;this.$selectFileButton.removeClass("disabled");this.$selectFileButton.attr("aria-disabled",this.inputDisabled.toString())};a.prototype.convertFile=function(b){return new Promise(function(f,e){try{var k=new FileReader,h=b.name,g=b.type;k.readAsArrayBuffer(b);k.onload=function(q){q=new Blob([q.target.result],{type:g});q=new File([q],
h,{type:g});f(q)};k.onerror=function(q){k.abort();e(q.error)}}catch(q){e(q)}})};return a}(M.FormControl);Y.FilePreview=function(){function d(a,b){z(this,d);this.$elem=l(a);this.messages=this.$elem.data("messages");this.fileInput=b;this.$fileList=l(".file-list",this.$elem);this.$fileItemTemplate=this.$fileList.find(".file-item").removeClass("hidden").remove();this.$previewModalTemplate=l(".preview-modal-template")}d.prototype.update=function(){var a=this;this.$fileList.empty();this.fileInput.files.forEach(function(b){var f=
URL.createObjectURL(b),e=p.formatFileSize(b.size,a.messages.megabyteUnit,a.messages.megabyteUnit),k=a.$fileItemTemplate.clone();k.find(".file-name").attr("aria-live","polite").html(b.name);k.find(".file-size").html(""+a.messages.fileSizeLabel+e);e=k.find(".preview-link");a.$fileList.append(k);p.isPdf(b)&&k.find(".preview").find(".icon").removeClass("icon-document").addClass("icon-pdf");k.find(".visuallyhidden").html(a.messages.openFileReminderText);if(p.isImage(b))p.createImagePreview(k,b),e.on("click",
function(h){h.preventDefault();p.previewImage(a.$previewModalTemplate,b,a.messages.fileSizeLabel,a.messages.megabyteUnit)});else if(window.navigator.msSaveOrOpenBlob)e.on("click",function(h){h.preventDefault();window.navigator.msSaveOrOpenBlob(b,b.name)});else TOOLS_utils.isSafari?e.attr({href:f,target:"_blank"}):e.attr({href:f,download:b.name});e.focus()})};return d}()},function(M,Y,I){Y.__esModule=!0;var z=Bootstrap.jQuery;HTMLCanvasElement&&HTMLCanvasElement.prototype&&"function"!=typeof HTMLCanvasElement.prototype.toBlob&&
"function"==typeof HTMLCanvasElement.prototype.toDataURL&&(HTMLCanvasElement.prototype.toBlob=function(m,n,l){l=atob(this.toDataURL(n,l).split(",")[1]);for(var c=new Uint8Array(l.length),p=0;p<l.length;p++)c[p]=l.charCodeAt(p);n=new Blob([c],{type:n});m.call(this,n)});Y.ImageResize=function(){function m(n,l,c,p){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.file=n;this.fileSize=l;this.mimeType=c||"image/jpeg";this.jpegQuality=p||.85}m.prototype.resize=function(){var n=
this;return new Promise(function(l,c){var p=document.createElement("canvas");if(p&&p.toBlob){var d=p.getContext("2d"),a=document.createElement("img"),b=URL.createObjectURL(n.file);z(a).attr("src",b).on("load",function(f){try{var e=Math.min(Math.sqrt(n.fileSize/(a.width*a.height)*3),1);p.width=a.width*e;p.height=a.height*e;d.drawImage(a,0,0,p.width,p.height);p.toBlob(function(k){k.size<n.fileSize?l(k):c()},n.mimeType,n.jpegQuality)}catch(k){c()}})}else c()})};return m}()},,,,,function(M,Y,I){function z(n,
l){if("function"!==typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);n.prototype=Object.create(l&&l.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});l&&(Object.setPrototypeOf?Object.setPrototypeOf(n,l):n.__proto__=l)}var m=I(10);(function(n){var l=n(window),c=function(p){function d(a){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");a=p.call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!a||"object"!==typeof a&&"function"!==typeof a?this:a}z(d,p);d.prototype.init=function(a){p.prototype.init.call(this,a)};d.prototype.bindUiEvents=function(){var a=this;p.prototype.bindUiEvents.call(this);var b=this;this.$selectDateCalendar.datepicker({showOn:"none",dateFormat:"dd/mm/yy",showAnim:!1,showOtherMonths:!0,selectOtherMonths:!1,onSelect:function(f){b.$selectDateCalendar.trigger("change");b.$selectDateIcon.focus()},beforeShow:function(){b.getDatePicker().addClass("date-calendar-picker hidden");
b.initCalendarEvents()},onChangeMonthYear:function(){b.initCalendarEvents()},onClose:function(){b.getDatePicker().removeClass("date-calendar-picker hidden");b.datePickerActive=!1}});this.$selectDateIcon.on("click keydown",function(f){"keydown"==f.type&&a.isInValidKey(f)||(a.datePickerActive?a.$selectDateCalendar.datepicker("hide"):a.$selectDateCalendar.datepicker("show"))});l.on("keydown keyup click",function(f){var e=0<a.$selectDate.find(n(f.target)).length;f=0<a.getDatePicker().find(n(f.target)).length||
0<n(f.target).parents(".ui-datepicker-header").length;e||f||a.$selectDateCalendar.datepicker("hide")});""!==this.$selectDateCalendar.data("min-date")&&void 0!==this.$selectDateCalendar.data("min-date")&&this.$selectDateCalendar.datepicker("option","minDate",this.$selectDateCalendar.data("min-date"));""!==this.$selectDateCalendar.data("max-date")&&void 0!==this.$selectDateCalendar.data("max-date")&&this.$selectDateCalendar.datepicker("option","maxDate",this.$selectDateCalendar.data("max-date"))};return d}(m.CalendarBase);
TOOLS_utils.registerComponent({name:"formDateCalendar",selector:"form .date-calendar",init:function(p){return new c(p)}})})(Bootstrap.jQuery)},function(M,Y,I){function z(n,l){if("function"!==typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);n.prototype=Object.create(l&&l.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});l&&(Object.setPrototypeOf?Object.setPrototypeOf(n,l):n.__proto__=l)}var m=I(10);(function(n){var l=
n(window),c=["exContainer"],p="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),d="1\u6708 2\u6708 3\u6708 4\u6708 5\u6708 6\u6708 7\u6708 8\u6708 9\u6708 10\u6708 11\u6708 12\u6708".split(" "),a=function(b){function f(e){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");e=b.call(this,e);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?this:e}z(f,b);f.prototype.init=
function(e){b.prototype.init.call(this,e);this.tableRowCount=4;this.maxDate=new Date((new Date).setFullYear((new Date).getFullYear()-(0<this.minAge?this.minAge:18)));this.initMustache()};f.prototype.initMustache=function(){var e=this;c.forEach(function(k){var h=n("#"+k,e.$elem);n.Mustache.has(k)||(n.Mustache.add(k,h.html()),h.remove())})};f.prototype.bindUiEvents=function(){var e=this;b.prototype.bindUiEvents.call(this);var k=this;this.$selectDateCalendar.datepicker({showOn:"none",dateFormat:"dd/mm/yy",
showAnim:!1,showOtherMonths:!0,selectOtherMonths:!1,onSelect:function(h){k.$selectDateCalendar.trigger("change");k.$selectDateIcon.focus()},beforeShow:function(){k.getDatePicker().addClass("dob-calendar-picker hidden");k.initCalendarEvents()},onClose:function(){k.getDatePicker().removeClass("dob-calendar-picker hidden");k.datePickerActive=!1}});this.$selectDateIcon.on("click keydown",function(h){"keydown"==h.type&&e.isInValidKey(h)||(h=n(".ex-container",e.$elem),e.datePickerActive?e.$selectDateCalendar.datepicker("hide"):
h.length?h.remove():e.openYearPicker(e.maxDate.getFullYear()))});l.on("keydown keyup click",function(h){0<e.$selectDate.find(n(h.target)).length||(n(".ex-container",e.$elem).remove(),0<e.getDatePicker().find(n(h.target)).length||e.$selectDateCalendar.datepicker("hide"))})};f.prototype.showExContainer=function(e){this.getDatePicker().hide();n(e.$obj,this.$elem).mustache(e.template,e);e.callback&&e.callback();this.adjustWindowScroll(n("."+e.type,this.$elem))};f.prototype.openYearPicker=function(e){var k=
this,h={type:"yearPicker",prev:this.language.includes("zh_")?"\u4e0a\u4e00\u9875":"previous page",next:this.language.includes("zh_")?"\u4e0b\u4e00\u9875":"next page",dataList:[],template:"exContainer",templateId:"#exContainer",$obj:".selectDate"},g=e-11;h.title=g+"-"+e;for(var q=g;q<=e;q++)h.dataList.push({key:q,value:q,first:q==g,rowEnd:0==(h.dataList.length+1)%this.tableRowCount,last:q==e});h.callback=function(){var x=n(".yearPicker",k.$elem);x.find(".prev").focus();x.find(".ex-data-table td a").on("keydown click",
function(u){u.stopPropagation();if("keydown"==u.type&&k.isInValidKey(u))k.bindKeyboardControl(u);else if(u=n(u.target).data("value"))k.$yearSelector.empty().append('\x3coption value\x3d"'+u+'"\x3e'+u+"\x3c/option\x3e"),x.remove(),k.openMonthPicker(u)});x.find(".prev").on("keydown click",function(u){u.stopPropagation();"keydown"==u.type&&k.isInValidKey(u)||(x.remove(),k.openYearPicker(g))});x.find(".next").on("keydown click",function(u){u.stopPropagation();"keydown"==u.type&&k.isInValidKey(u)||(x.remove(),
k.openYearPicker(e+11))})};this.showExContainer(h)};f.prototype.openMonthPicker=function(e){var k=this,h={type:"monthPicker",title:e,dataList:[],template:"exContainer",templateId:"#exContainer",$obj:".selectDate"},g=this.language.includes("zh_")?d:p;g.forEach(function(q,x){h.dataList.push({key:q,value:x,first:0==x,rowEnd:0==(h.dataList.length+1)%k.tableRowCount,last:x==g.length-1})});h.callback=function(){var q=n(".monthPicker",k.$elem);q.find(".title").focus();q.find(".ex-data-table td a").on("keydown click",
function(x){"keydown"==x.type&&k.isInValidKey(x)?k.bindKeyboardControl(x):(x.stopPropagation(),x=n(x.target).data("value"),k.$monthSelector.empty().append('\x3coption value\x3d"'+x+'"\x3e'+(x+1)+"\x3c/option\x3e"),k.$selectDateCalendar.datepicker("show"),k.updateMonthYear(),q.remove())})};this.showExContainer(h)};return f}(m.CalendarBase);TOOLS_utils.registerComponent({name:"formDobCalendar",selector:"form .dob-calendar",init:function(b){return new a(b)}})})(Bootstrap.jQuery)},function(M,Y,I){(function(z){var m=
function(){function n(l){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this.$elem=z(l);this.$dataFieldContent=z(".data-field-content",l);this.$template=z(".data-field-content-template",l);this.initPage()}n.prototype.initPage=function(){this.initMustache();this.initData()};n.prototype.initMustache=function(){var l=this.$template.attr("id"),c=this.$template.html();this.templateName="data-field-template:"+l;!z.Mustache.has(this.templateName)&&c&&(z.Mustache.add(this.templateName,
c),this.$template.remove())};n.prototype.initData=function(){var l=this.getParamsData();l&&this.renderInfo(l)};n.prototype.getParamsData=function(){var l=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1,c={},p=window.location.search.slice(1);try{return p?(l&&(p=atob(p)),decodeURIComponent(p).split("\x26").forEach(function(d){d=d.split("\x3d");c[d[0]]=d[1]||""})):this.hideSiblings(),c}catch(d){this.hideSiblings()}};n.prototype.hideSiblings=function(){TOOLS_utils.isEditMode()||TOOLS_utils.isPreviewMode()||
(this.$elem.siblings().hide(),z(".formWrapper .buttons").hide(),z(".formWrapper .button-divider").hide(),this.$elem.siblings(".formWrapper .content-buttons").show())};n.prototype.renderInfo=function(l){this.$dataFieldContent.empty();this.$dataFieldContent.mustache(this.templateName,l)};return n}();TOOLS_utils.registerComponent({name:"Data Field",selector:".formWrapper .dataField",init:function(n){return new m(n)}})})(Bootstrap.jQuery)},function(M,Y,I){function z(d,a){if("function"!==typeof a&&null!==
a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);d.prototype=Object.create(a&&a.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(d,a):d.__proto__=a)}var m=I(0),n=I(3),l=I(15),c=I(7),p=I(4);(function(d){var a=[{name:"hkid",selector:".hkid"},{name:"rfb",selector:".room-floor-block"},{name:"expiryDate",selector:".cc-expiry-date"}],b=d(window),f={postSubjectTemplate:"post-subject-template",
postBodyTemplate:"post-body-template"},e=function(k){function h(g){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");var q=k.call(this,g);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");q=!q||"object"!==typeof q&&"function"!==typeof q?this:q;q.$elem=g;q.$config=d("form[data-config]",q.$elem);q.config=q.$config.data("config");q.$config.attr("data-config","{}");q.tealiumConfig=q.$config.data("tealiumConfig");Object.assign(q,
q.getInputModel());q.$stepTracker=d(".step-tracker",q.$elem);q.$backButton=d(".back-button",q.$elem);q.$nextButton=d(".next-button",q.$elem);q.$submitButton=d(".submit-button",q.$elem);q.$restartButton=d(".restart-button",q.$elem);q.$cancelButton=d(".cancel-button",q.$elem);q.$buttonDivider=d(".button-divider",q.$elem);q.$steps=d('.steps [class*\x3d"Step"]',q.$elem);q.$inputSteps=d(".inputStep",q.$elem);q.$previewSteps=d(".previewStep",q.$elem);q.$resultSteps=d(".resultStep",q.$elem);q.$stepContents=
d(".step-content",q.$elem);q.$resultInfoMsg=d(".result-info-msg",q.$elem);q.$loading=d(".loading",q.$elem);q.initPage();return q}z(h,k);h.prototype.initPage=function(){this.initMustache();this.initStep();this.bindUiElements();this.bindUiEvents();this.initSelections();this.initInputData();this.initCountDown()};h.prototype.initInputData=function(g){var q=this.getParamsData(1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1);d(":input",this.$elem).each(function(x,u){var r=d(u);x=r.attr("name");
var t=q[x];if(t){if(r.is("select"))if(r[0].selectize)r[0].selectize.setValue(t);else r.on("init-selectize-finish",function(){r[0].selectize.setValue(t)});else"radio"==r.attr("type")||"checkbox"==r.attr("type")?r.each(function(y,w){t.split(",").forEach(function(A){w.value==A&&(w.checked=!0)})}):r.val(t);r.siblings(".text-placeholder").addClass("visuallyhidden");r.trigger("change")}})};h.prototype.getInputModel=function(){var g={},q={},x={};d("[data-input-config]",this.$elem).each(function(u,r){u=d(r).data("input-config");
r=u.inputModel;var t=u.scopeDepModel,y=u.scopeFnModel;for(w in r)g[w]=r[w];q=Object.assign(q,t);var w=function(F){x[F]=function(C){return"SELECTOR_VALUE_EMPTY"==y[F]?!C:"SELECTOR_VALUE_NOT_EMPTY"==y[F]?!!C:C.split(",").includes(y[F])}};for(var A in y)w(A)});return{model:g,scopeDep:q,scopeFn:x}};h.prototype.initStep=function(){0<this.$stepTracker.length&&(this.stepTracker=new p.StepTracker(this.$stepTracker[0]),this.stepTracker.reset());this.setStep(this.$steps.first())};h.prototype.initCountDown=
function(){if(!TOOLS_utils.isEditMode()&&!TOOLS_utils.isPreviewMode()&&this.config.timeoutSeconds)var g=this.config.timeoutSeconds,q=this.config.timeoutPath||window.location.pathname,x=0,u=setInterval(function(){x>=g?(clearInterval(u),window.location.replace(q)):x++},1E3)};h.prototype.initSelections=function(){var g=this,q=function(u){var r=g.model[u],t=g.get$Input(u);if("selection"==r.type&&!r.selected)if(t.is("select"))t.on("init-selectize-finish",function(y){if(t.data("placeholder"))t[0].selectize.setValue(""),
g.scope.set(u,"");else{y=t[0].selectize.options;for(var w in y)if(1==y[w].$order){t[0].selectize.setValue(w);g.scope.set(u,w);break}}});else g.scope.set(u,""),r={},r[u]="",b.trigger("tools:contentUpdated",r)},x;for(x in this.model)q(x)};h.prototype.initMustache=function(){var g;for(g in f){var q=f[g];var x=d("#"+q,this.$elem).html();d.Mustache.has(q)||(d.Mustache.add(q,x),d("#"+q,this.$elem).remove())}};h.prototype.bindUiElements=function(){(0,m.bindLink)(d("[role\x3dlink]",this.$elem));(0,m.bindButton)(d("[role\x3dbutton]",
this.$elem));k.prototype.bindUiElements.call(this)};h.prototype.bindUiEvents=function(){var g=this;a.forEach(function(q){var x=d(q.selector,g.$elem),u=q.name,r=void 0;x.each(function(t,y){switch(u){case "hkid":r=new n.HKID(y);break;case "rfb":r=new l.RoomFloorBlock(y);break;case "expiryDate":r=new c.ExpiryDate(y)}g.registerInput(r)})});this.$cancelButton.on("click",function(q){g.trackButtonEvent("cancelButton")});this.$backButton.on("action",function(q){q=g.$currentStep.index()-1;0<=q&&q<g.$steps.length&&
(g.trackButtonEvent("backButton"),g.setStep(g.$steps.eq(q)))});this.$nextButton.on("action",function(q){g.validate()&&(q=g.$currentStep.index()+1,0<=q&&q<g.$steps.length&&(g.$currentStep[0]==g.$inputSteps.last()[0]?g.showPreviewStep():g.setStep(g.$steps.eq(q))),g.trackButtonEvent("nextButton"))});this.$submitButton.on("action",function(q){if(!g.$submitButton.hasClass("loading")){q=g.getNowFormatDate();var x=g.genUUID(8);q+=x;x=g.getFormData();var u=g.getParamsData(),r=Object.assign({},u,x,{businessSequenceNo:q}),
t=g.config.emailConfig;x=t.from;u=t.to;var y=t.cc;t=t.bcc;if(g.validate()){var w=d.Mustache.render(f.postSubjectTemplate,r);r=d.Mustache.render(f.postBodyTemplate,r);x={from:x,to:u,cc:y,bcc:t,subject:w,body:r,locale:TOOLS_utils.getLocale()};g.$submitButton.addClass("loading");g.submitData(JSON.stringify(x),q)}}});b.on("tools:contentUpdated formWrapper:changeStep",function(q,x){var u=!0;g.getValidateInputs().map(function(r){var t=g.get$Input(r);return t.is("select")?t.attr("id")+"_"+r+"/valid":r+"/valid"}).some(function(r){u&=
g.scope.get(r);if(!u)return!0});q=g.$submitButton;g.isBeforeSubmitStep()||(q=g.$nextButton);g.changeButtonStatus(q,u)})};h.prototype.submitData=function(g,q){var x=this,u=this.getFormData(),r=this.getParamsData(),t=Object.assign({},r,u);if(u=this.config.endpointUrl)k.prototype.ajax.call(this,{method:"POST",url:u,headers:this.config.endpointHeaders,json:g}).then(function(y){Object.assign(t,y);b.trigger("formWrapper:showResult",t);x.showResultStep("success");x.trackButtonEvent("submitButton",{application_id:q})})["catch"](function(y){x.showResultStep("fail");
x.trackButtonEvent("submitFailure")})["finally"](function(){x.$submitButton.removeClass("loading")})};h.prototype.resetForm=function(){this.stepTracker&&this.stepTracker.reset();this.form.reset();this.scope.reset();for(var g in this.model){var q=this.model[g],x=this.get$Input(g);this.resetInput(x,q)}};h.prototype.showPreviewStep=function(){var g=this.getPreviewInfoContentData();b.trigger("formWrapper:showPreview",g);this.setStep(this.$previewSteps.first())};h.prototype.showResultStep=function(g){this.$resultInfoMsg.children().hide();
this.$resultInfoMsg.find("."+g).show();this.setStep(this.$resultSteps.first())};h.prototype.isInputStep=function(){return this.$currentStep.hasClass("inputStep")};h.prototype.isBeforeSubmitStep=function(){return 0<this.$previewSteps.length&&this.$currentStep[0]==this.$previewSteps.last()[0]||0==this.$previewSteps.length&&this.$currentStep[0]==this.$inputSteps.last()[0]};h.prototype.getValidateInputs=function(){var g=this.model,q=[];if(0<this.$currentStep.find("[data-input-config]").length){var x=
{};this.$currentStep.find("[data-input-config]").each(function(y,w){(y=d(w).data("input-config"))&&Object.assign(x,y.inputModel)});g=x}for(var u in g){var r=g[u],t=this.get$Input(u);r.required&&!t[0].control.disabled&&q.push(u)}return q};h.prototype.validate=function(){var g=this,q=!1,x=[],u=void 0,r=void 0,t=!1;this.getValidateInputs().forEach(function(y){u=g.get$Input(y);q=u[0].control.checkValidity();x.push(q);q||t||(r=u.parents(".fieldset").parent())&&r.is(":visible")&&(g.scrollTo(r[0],50),t=
!0)});return!x.includes(!1)};h.prototype.getPreviewInfoContentData=function(){var g=this,q={};d(this.form).serializeArray().forEach(function(x){x=x.name;var u=g.get$Input(x),r=u.is("select")||"checkbox"==u.attr("type")||"radio"==u.attr("type")?g.getLabel(x):g.getValue(x);if(u[0].control&&u[0].control.disabled)return!1;q[x]=q[x]?q[x]+(","+r):r});return q};h.prototype.getFormData=function(){var g=this,q={};d(":input:not(:disabled)",this.$elem).each(function(x,u){x=u.name;u=u.control;u=void 0===u?{disabled:!0}:
u;u.disabled||q[x]||(q[x]=g.getValue(x))});return q};h.prototype.getParamsData=function(){var g=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1,q={},x=window.location.search.slice(1);try{x&&(g&&(x=atob(x)),decodeURIComponent(x).split("\x26").forEach(function(u){u=u.split("\x3d");q[u[0]]=u[1]||""}))}catch(u){}return q};h.prototype.get$Input=function(g){return d('[name\x3d"'+g+'"]',this.$elem)};h.prototype.setStep=function(g){this.$currentStep=g?g:this.$steps.first();if(!TOOLS_utils.isEditMode()&&
!TOOLS_utils.isPreviewMode()){this.$cancelButton.addClass("show");this.$currentStep[0]==this.$steps.first()[0]?(this.$backButton.removeClass("show"),this.$restartButton.removeClass("show")):this.$backButton.addClass("show");this.isBeforeSubmitStep()?(this.$nextButton.removeClass("show"),this.$submitButton.addClass("show")):(this.$nextButton.addClass("show"),this.$submitButton.removeClass("show"));this.$currentStep[0]==this.$resultSteps.last()[0]&&(this.$backButton.removeClass("show"),this.$nextButton.removeClass("show"),
this.$submitButton.removeClass("show"),this.$restartButton.addClass("show"),this.$cancelButton.removeClass("show"));this.$buttonDivider.toggle(this.buttonExists());this.$stepContents.hide();var q=this.$currentStep.find(".step-content");this.$loading.hide();q.show();this.stepTracker&&this.stepTracker.setStep(this.getStepIndex(g)+1);(g=q.data("step-tealiumConfig"))&&this.TMS.trackView(g);this.scrollTo(this.$elem);d(this.$elem).trigger("formWrapper:changeStep")}};h.prototype.getStepIndex=function(g){var q=
0;this.$steps.each(function(x,u){g[0]==u&&(q=x)});return q};h.prototype.buttonExists=function(){return 0<d(".buttons a:visible",this.$elem).length};h.prototype.changeButtonStatus=function(g,q){q?g.removeClass("disabled").attr("aria-disabled",!1):g.addClass("disabled").attr("aria-disabled",!0)};h.prototype.trackButtonEvent=function(g){var q=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},x=this.tealiumConfig[g];x&&(q=Object.assign({},x,q),this.TMS.trackEvent(q))};h.prototype.getNowFormatDate=
function(){var g=new Date,q=g.getDate(),x=g.getMonth()+1;return""+g.getFullYear()+(10>x?"0"+x:x)+(10>q?"0"+q:q)};h.prototype.genUUID=function(g){for(var q=[],x=0;36>x;x++)q[x]="0123456789abcdefghijklmnopqrstuvwxyz".substr(Math.floor(36*Math.random()),1);q[14]="4";q[19]="0123456789abcdefghijklmnopqrstuvwxyz".substr(q[19]&3|8,1);q[8]=q[13]=q[18]=q[23]="-";q=q.join("");return"number"===typeof g&&0<g?(q=q.replace(/-/g,""),q.substr(Math.floor(Math.random()*(q.length-g)),g)):q};return h}(m.ToolsBase);TOOLS_utils.registerComponent({name:"FormWrapper",
selector:".formWrapper",init:function(k){return new e(k)}})})(Bootstrap.jQuery)},function(M,Y,I){},function(M,Y,I){},function(M,Y,I){(function(z){var m=z(window),n=function(){function l(c){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.$elem=z(c);this.$previewInfoContent=z(".preview-info-content",c);this.$template=z(".preview-info-content-template",c);this.initPage()}l.prototype.initPage=function(){this.bindEvents();this.initMustache()};l.prototype.initMustache=
function(){var c=this.$template.attr("id"),p=this.$template.html();this.templateName="preview-info-template:"+c;z.Mustache.has(this.templateName)||(z.Mustache.add(this.templateName,p),this.$template.remove())};l.prototype.bindEvents=function(){var c=this;m.on("formWrapper:showPreview",function(p,d){c.renderInfo(d)})};l.prototype.renderInfo=function(c){this.$previewInfoContent.empty();this.$previewInfoContent.mustache(this.templateName,c)};return l}();TOOLS_utils.registerComponent({name:"Preview Info",
selector:".formWrapper .previewInfo",init:function(l){return new n(l)}})})(Bootstrap.jQuery)},function(M,Y,I){},function(M,Y,I){(function(z){var m=z(window),n=function(){function l(c){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.$elem=z(c);this.$resultInfoContent=z(".result-info-content",c);this.$template=z(".result-info-content-template",c);this.initPage()}l.prototype.initPage=function(){this.bindEvents();this.initMustache()};l.prototype.initMustache=function(){var c=
this.$template.attr("id"),p=this.$template.html();this.templateName="result-info-template:"+c;z.Mustache.has(this.templateName)||(z.Mustache.add(this.templateName,p),this.$template.remove())};l.prototype.bindEvents=function(){var c=this;m.on("formWrapper:showResult",function(p,d){c.renderInfo(d)})};l.prototype.renderInfo=function(c){this.$resultInfoContent.empty();this.$resultInfoContent.mustache(this.templateName,c)};return l}();TOOLS_utils.registerComponent({name:"Result Info",selector:".formWrapper .resultInfo",
init:function(l){return new n(l)}})})(Bootstrap.jQuery)},function(M,Y,I){},function(M,Y,I){(function(z){var m=z(window),n=function(){function l(c){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.$elem=z(c);this.name=this.$elem.data("for");this.bindUIEvents()}l.prototype.bindUIEvents=function(){var c=this,p=this.name+"/message",d=this.name+"/status";m.on("tools:contentUpdated",function(a,b){"undefined"!=typeof b&&"undefined"!=typeof b[p]&&c.currentMessage!==b[p]&&
(c.currentMessage=b[p],a=z(".message-content",c.$elem),c.currentMessage?(c.show(),a.html(c.currentMessage)):(c.hide(),a.html("")));"undefined"!=typeof b&&"undefined"!=typeof b[d]&&c.status!==b[d]&&(c.$elem.removeClass(c.status),c.status=b[d],c.status&&c.$elem.addClass(c.status))});z(".message-close",this.$elem).on("click",this.hide.bind(this))};l.prototype.show=function(){this.$elem.removeClass("hide")};l.prototype.hide=function(){this.$elem.addClass("hide")};return l}();TOOLS_utils.registerComponent({name:"formMessage",
selector:".message",init:function(l){return new n(l)}})})(Bootstrap.jQuery)},function(M,Y,I){function z(n,l){if("function"!==typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);n.prototype=Object.create(l&&l.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});l&&(Object.setPrototypeOf?Object.setPrototypeOf(n,l):n.__proto__=l)}var m=I(1);(function(n){var l=function(c){function p(d){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");
d=c.call(this,d);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||"object"!==typeof d&&"function"!==typeof d?this:d}z(p,c);p.prototype.init=function(d){this.$elem=n(d);this.$select=n("select",this.$elem);d.name=this.$select.attr("name");this.allowEmptyOption=this.$elem.data("allow-empty-option");c.prototype.init.call(this,d)};p.prototype.bindUiEvents=function(){var d=this;this.$selectize=this.$select.selectize({dropdownParent:"body",openOnFocus:!1,
allowEmptyOption:d.allowEmptyOption,onInitialize:function(){var a=this;this.revertSettings.$children.each(function(){var b=n(this).data();n.extend(a.options[this.value],b)});d.$select.trigger("init-selectize-finish")},render:{option:function(a,b){b='\x3cdiv class\x3d"option" role\x3d"option" tabindex\x3d"-1" aria-selected\x3d"false"\x3e';a.img&&""!=a.img&&(b+='\x3cimg src\x3d"'+a.img+'" alt\x3d"" height\x3d"22px" width\x3d"30px"\x3e');a.readertext&&""!=a.readertext?(b+='\x3cspan aria-hidden\x3d"true"\x3e',
b=a.fullname&&""!=a.fullname?b+('\x3cabbr lang\x3d"en-hk" title\x3d"'+a.fullname+'"\x3e'+a.text+"\x3c/abbr\x3e"):b+a.text,b+='\x3c/span\x3e\x3cspan class\x3d"visuallyhidden"\x3e'+a.readertext+"\x3c/span\x3e"):b=a.fullname&&""!=a.fullname?b+('\x3cabbr lang\x3d"en-hk" title\x3d"'+a.fullname+'"\x3e'+a.text+"\x3c/abbr\x3e"):b+a.text;return b+"\x3c/div\x3e"},item:function(a,b){a.img||n.extend(a,n(this.revertSettings.$children).filter("[value\x3d'"+a.value+"']").data());b='\x3cdiv class\x3d"item" role\x3d"option"\x3e';
a.img&&""!=a.img&&(b+='\x3cimg src\x3d"'+a.img+'" alt\x3d"" height\x3d"22px" width\x3d"30px"\x3e');return b+=a.text+"\x3c/div\x3e"}}});this.$select[0].selectize.hiddenInput();this.$select.next(".selectize-control").removeClass("form-control-initialized");c.prototype.bindUiEvents.call(this)};return p}(m.FormControl);TOOLS_utils.registerComponent({name:"formSelector",selector:"form .selector",init:function(c){return new l(c)}})})(Bootstrap.jQuery)},function(M,Y,I){(function(z){var m=window.requestAnimationFrame||
window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,n=function(){function l(c){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.canvas=c;this.ctx=c.getContext("2d");this.updateStyle();this.t=0;this.base=-.5;this.animate()}l.prototype.updateStyle=function(){var c=getComputedStyle(this.canvas);this.width=parseInt(c.getPropertyValue("width"));this.height=parseInt(c.getPropertyValue("height"));this.x=this.width/2;this.y=
this.height/2;this.canvas.setAttribute("width",this.width);this.canvas.setAttribute("height",this.height);this.ctx.lineWidth=24<this.width?3:2;this.ctx.strokeStyle=c.getPropertyValue("color");this.radius=(this.width-this.ctx.lineWidth-2)/2};l.prototype.animate=function(){var c=this;m(function(){4<=c.t&&(c.t%=4,c.base*=-1);c.draw();c.t+=.04;c.animate()})};l.prototype.draw=function(){var c=this.t;if(1>=c){var p=.75+c/4;var d=.75-3*c/4}else 2>=c?(p=c,d=c-1):3>=c?(p=c,d=1):4>=c&&(p=3+3*(c-3)/4,d=1-(c-
3)/4);c=(this.base+p-d)*Math.PI;p=(this.base+p)*Math.PI;this.ctx.clearRect(0,0,this.width,this.height);this.ctx.beginPath();this.ctx.arc(this.x,this.y,this.radius,c,p);this.ctx.stroke()};return l}();TOOLS_utils.registerComponent({name:"spinner",selector:"canvas.spinner",init:function(l){return new n(l)}})})(Bootstrap.jQuery)},function(M,Y,I){(function(z){var m=function(){function n(l){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this.$elem=z(l);l.name=this.$elem.attr("name");
this.$inputs=z("input,textarea",l);this.$sliderPeriod=z("div[data-name\x3dtext-sliderPeriod]",l);this.$textSuffix=z(".text-suffix",l);this.$placeholder=z(".text-placeholder",l);this.value=this.$sliderPeriod.data("text-value");this.min=this.$sliderPeriod.data("text-min");this.max=this.$sliderPeriod.data("text-max");this.sliderDiscrete=this.$sliderPeriod.data("slider-discrete");this.label=this.$sliderPeriod.data("text-label");this.labelledby=this.$sliderPeriod.data("text-labelledby");this.enableSlider=
!1;this.$textAreaBox=z(".text-area-box",l);null==this.value||isNaN(this.value)||null==this.min||isNaN(this.min)||null==this.max||isNaN(this.max)||(this.enableSlider=!0,this.sliderDiscrete||(this.sliderDiscrete=1),this.createAndSetSlider());this.$textSuffix&&this.$textSuffix[0]&&this.updateTextSuffixPosition();this.bindUIEvents()}n.prototype.createAndSetSlider=function(){var l=this;this.$sliderPeriod.slider({range:"min",value:this.value,min:this.min,max:this.max,step:this.sliderDiscrete});this.$sliderHandle=
this.$elem.find("div[data-name\x3dtext-sliderPeriod] \x3e .ui-slider-handle");this.$sliderPeriod.slider({slide:function(c,p){c=p.value;null===l.value||isNaN(l.value)||(c<l.max&&c>l.min&&0!=c%l.sliderDiscrete?c=parseInt(c/l.sliderDiscrete)*l.sliderDiscrete:c>l.max&&(c=l.max),l.$inputs.val(c),l.$sliderHandle.attr("aria-valuenow",c),l.updateTextSuffixPosition(),l.$inputs.trigger("change"))}});this.$inputs.val(this.$sliderPeriod.slider("value"));this.$sliderHandle.attr({role:"slider","aria-valuemin":this.min,
"aria-valuemax":this.max,"aria-valuenow":this.value,"aria-label":this.label,"aria-labelledby":this.labelledby})};n.prototype.bindUIEvents=function(){var l=this;this.$inputs.on("keydown input change blur",function(){0==l.$inputs.val().length?l.$placeholder.removeClass("visuallyhidden"):l.$placeholder.addClass("visuallyhidden");if(l.enableSlider&&l.$inputs.val()&&"false"==l.$inputs.attr("aria-invalid")){var c=l.$inputs.val().replace(/,/g,""),p=l.$elem.find("div[data-name\x3dtext-sliderPeriod] \x3e .ui-slider-handle");
isNaN(Number(c))||(l.$sliderPeriod.slider("option","value",c),p.attr("aria-valuenow",c))}l.$textSuffix&&l.$textSuffix[0]&&l.updateTextSuffixPosition();0<l.$textAreaBox.length&&(c=l.$inputs.val().endsWith("\n"),c=l.$inputs.val().replace(/<|>/g,"*").replace(/\n/g,"\x3cbr/\x3e")+(c?"|":""),l.$textAreaBox.html(c),l.$inputs.height(l.$textAreaBox.height()))});this.$placeholder.on("mousedown click",function(){l.$inputs.trigger("focus")});z(window).on("resize",function(){})};n.prototype.updateTextSuffixPosition=
function(){var l=this.$inputs.val().replace(".","").length;this.$textSuffix.css("left",8*l+45)};return n}();TOOLS_utils.registerComponent({name:"formText",selector:"form .from-input-box",init:function(n){return new m(n)}})})(Bootstrap.jQuery)},function(M,Y,I){var z=I(2);(function(m){var n=function(){function l(c){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.$elem=c;this.$button=m(".tooltip-button",c);this.$content=m(".tooltip-container",c);this.$arrow=m(".tooltip-arrow",
c);this.$measurementRight=m(".measurement-right",c);this.$tealiumConfig=this.$elem;this.tealiumConfig=this.$tealiumConfig.data("tealium-config");this.$tealiumScopeConfig=this.$elem.closest("[data-tealium-scope]");this.tealiumScope=this.$tealiumScopeConfig.data("tealium-scope");this.TMS=(0,z.Tealium)(this.tealiumScope);this.hidden=!0;this.bindUiEvents()}l.prototype.bindUiEvents=function(){var c=this;m(window).on("resize",this.updatePosition.bind(this));this.$button.on("mouseenter focus",function(p){c.show()}).on("touchstart",
function(p){p.stopPropagation();c.hidden?c.show():c.hide()});this.$elem.on("mouseleave",function(p){c.hide()});this.$button.on("blur",function(p){c.hide()});m(window).on("touchstart",function(p){0<m(p.target).parents(".tooltip").length||c.hide()})};l.prototype.show=function(){var c=this;this.hidden&&(this.hidden=!1,this.$content.removeClass("hidden"),setTimeout(function(){c.updatePosition();c.$content.addClass("display");c.tealiumConfig&&c.TMS.trackEvent(c.tealiumConfig)},0))};l.prototype.hide=function(){var c=
this;this.hidden||(this.$content.removeClass("display"),setTimeout(function(){c.hidden=!0;c.$content.addClass("hidden");c.$content.removeClass("right")},200))};l.prototype.updatePosition=function(){var c=this.$button.position().left,p=c+this.$button.outerWidth(),d=this.$measurementRight.position().left-this.$content.outerWidth();!TOOLS_utils.matchMedia.mobile&&p<d?(this.$content.addClass("right"),this.$content.css("top",-(this.$content.outerHeight()-this.$button.outerHeight())/2),this.$arrow.css("left",
0)):(this.$content.removeClass("right"),this.$content.css("top","auto"),this.$arrow.css("left",Math.max(c-d,0)))};return l}();TOOLS_utils.registerComponent({name:"tooltip",selector:".tooltip",init:function(l){new n(m(l))}})})(Bootstrap.jQuery)},function(M,Y,I){(function(z){var m=z("body"),n=function(){function l(c){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.$link=z(c);this.$modal=null;this.bindUIEvents()}l.prototype.bindUIEvents=function(){var c=this;this.$link.on("click",
function(p){return c.linkClickHandler(p)});this.$link.on("modal:switchedToEdit",function(p){return c.close()})};l.prototype.lateBindUIEvents=function(){var c=this;this.$closeTriggers.on("click",function(p){return c.close()});this.$modal.on("click",function(p){p=z(p.target);p.parents(".A-MOD-RW-ALL").length||p.hasClass("A-MOD-RW-ALL")||c.close()});this.$modal.on("keydown",function(p){var d=z(document.activeElement),a=27===p.keyCode&&c.$modal.hasClass("is-visible");d=13===p.keyCode&&d.hasClass("close-trigger");
a||d?(p.preventDefault(),c.close()):9===p.keyCode&&c.tabKeyPressedHandler(p)})};l.prototype.linkClickHandler=function(c){c.preventDefault();TOOLS_utils.isEditMode()||(this.$modal?(c=this.$link.attr("href").split("#")[1],this.open(decodeURIComponent(c))):(c=this.$link.attr("rel"))?(c=m.find("#"+c).eq(0),c.removeClass("is-visible"),this.$modal=c,this.cacheModalElements(),this.lateBindUIEvents(),this.open("#")):this.getMarkup())};l.prototype.tabKeyPressedHandler=function(c){var p=document.activeElement,
d=this.$focusables.first()[0],a=this.$focusables.last()[0];this.$modal.find(".modal-announcement-sr-text").addClass("hidden");p!=a||c.shiftKey?p==d&&c.shiftKey&&(a.focus(),c.preventDefault()):(d.focus(),c.preventDefault())};l.prototype.getMarkup=function(){var c=this,p=this.$link.attr("href");p&&z.ajax({type:"GET",dataType:"HTML",url:p,success:function(d){var a=decodeURIComponent(p.split("#")[1]);c.setUpModalWindow(d);c.open(a)},error:function(d){console.error(d)}})};l.prototype.setUpModalWindow=
function(c){c=z(c).filter(".modal-overlay");c.removeClass("is-visible");m.append(c);this.$modal=m.children().last(".modal-overlay");this.cacheModalElements();this.lateBindUIEvents()};l.prototype.open=function(c){var p=this.$closeTriggers.first();this.$modal.addClass("is-visible");m.addClass("modal-visible");this.$modal.siblings().attr("aria-hidden","true");this.$modal.find("a.continue").attr("href",c);setTimeout(function(){return p.focus()},200)};l.prototype.close=function(){this.$modal&&(this.$modal.find(".modal-announcement-sr-text").removeClass("hidden"),
this.$modal.removeClass("is-visible"),m.removeClass("modal-visible"),this.$modal.siblings().removeAttr("aria-hidden"));this.$link.focus()};l.prototype.cacheModalElements=function(){this.$closeTriggers=this.$modal.find(".close-trigger");this.$focusables=this.$modal.find(TOOLS_utils.focusables.join())};return l}();TOOLS_utils.registerComponent({name:"modal",selector:".A-MODLNK-RW-ALL",init:function(l){new n(l)},switchToEditHandler:function(){z(".A-MODLNK-RW-ALL").trigger("modal:switchedToEdit")}})})(Bootstrap.jQuery)},
function(M,Y,I){(function(z){var m=function(){function n(l){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this.$ele=l;this.$button=z(".tooltip-button",l);this.$popout=z(".tooltip-wrapper",l);this.$content=z(".content",l);this.$arrow=z(".arrow",l);this.hidden=!0;this.bindUiEvents()}n.prototype.bindUiEvents=function(){var l=this;this.$button.on("mouseenter focus",function(c){l.show()}).on("touchstart",function(c){c.stopPropagation();l.hidden?l.show():l.hide()});this.$ele.on("mouseleave",
function(c){l.hide()});this.$button.on("blur",function(c){l.hide()})};n.prototype.show=function(){this.hidden&&(this.hidden=!1,this.$button.attr("aria-expanded","true"),this.$arrow.css("left",this.$button[0].offsetLeft+this.$button.width()/2+"px"),this.$popout.removeClass("hide"),this.$popout.removeClass("tooltip-hidden"),this.setOnTop())};n.prototype.hide=function(){var l=this;this.hidden||(this.$button.attr("aria-expanded","false"),this.$popout.addClass("tooltip-hidden"),this.$popout.css("z-index",
0),setTimeout(function(){l.hidden=!0;l.$popout.addClass("hide")},200),this.$button.focus())};n.prototype.setOnTop=function(){this.$popout.css("z-index",100)};return n}();TOOLS_utils.registerComponent({name:"tooltipPopout",selector:".tooltipMpf",init:function(n){new m(z(n))}})})(Bootstrap.jQuery)},function(M,Y,I){(function(z){var m=function(){function n(l){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this.$elem=z(l);this.$input=z('input[type\x3d"text"]',this.$elem);
this.$searchButton=z("a.button-search",this.$elem);this.$advancedSearchButton=z("a.header-advanced-search",this.$elem);this.stockCodeSearchUrl=this.$searchButton[0].href;this.bindEvent()}n.prototype.bindEvent=function(){var l=this;this.$input.on("input",function(c){c=l.$input.val();l.$searchButton[0].href=c?l.stockCodeSearchUrl+encodeURIComponent(c):l.stockCodeSearchUrl});this.$searchButton.on("click",function(c){"undefined"!=typeof window.TMS&&TMS.trackEvent({event_category:"content",event_action:"button",
event_content:"hcbs: stock quote"})});this.$advancedSearchButton.on("click",function(c){"undefined"!=typeof window.TMS&&TMS.trackEvent({event_category:"content",event_action:"button",event_content:"hcbs: advance search"})})};return n}();TOOLS_utils.registerComponent({name:"HeaderSearch",selector:".header-main-search",init:function(n){return new m(n)}})})(Bootstrap.jQuery)},function(M,Y,I){},function(M,Y,I){function z(n,l){if("function"!==typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+
typeof l);n.prototype=Object.create(l&&l.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});l&&(Object.setPrototypeOf?Object.setPrototypeOf(n,l):n.__proto__=l)}var m=I(0);(function(n){var l={loan:{type:"string",required:!0,maxLength:12,pattern:"([0-9]([,0-9]+)?)(\\.\\d*)?",pattern2:"([0-9]([,0-9]+)?)(\\.\\d{0,2})?"},rate:{type:"string",required:!0,maxLength:5,pattern:"(\\d+)(\\.\\d*)?",pattern2:"(\\d+)(\\.\\d{0,3})?"}},c=function(p){function d(a){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");
var b=p.call(this,a,l);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");b=!b||"object"!==typeof b&&"function"!==typeof b?this:b;b.$elem=n(a);b.$config=n("[data-config]",b.$elem);b.config=b.$config.data("config");n.extend(!0,b.model,b.config.dataModel);b.$loan=n("input[name\x3dloan]",b.$elem);b.$rate=n("input[name\x3drate]",b.$elem);b.$loanInput=n(".loanInput",b.$elem);b.$n36MonthPayMonth=n("td[data-name\x3dn36MonthPayMonth]",b.$elem);b.$MinPayPeriod=n("td[data-name\x3dMinPayPeriod]",
b.$elem);b.$MinMonthRepayment=n("td[data-name\x3dMinMonthRepayment]",b.$elem);b.$n36MonthRepayment=n("td[data-name\x3dn36MonthRepayment]",b.$elem);b.$MinMonthInterest=n("td[data-name\x3dMinMonthInterest]",b.$elem);b.$n36MonthInterest=n("td[data-name\x3dn36MonthInterest]",b.$elem);b.$n36MonthSaving=n("td[data-name\x3dn36MonthSaving]",b.$elem);b.$MinMonthSaving=n("td[data-name\x3dMinMonthSaving]",b.$elem);b.$MinPayment=n("td[data-name\x3dMinPayment]",b.$elem);b.$FixedPeriod=n("td[data-name\x3dFixedPeriod]",
b.$elem);b.$loanMin=n(b.$elem.find(".text-slider").eq(0).find("span").eq(0));b.$loanMax=n(b.$elem.find(".text-slider").eq(0).find("span").eq(1));b.$sliderPeriod=n("div[data-name\x3dtext-sliderPeriod]",b.$elem);b.$monthRate=n(".month-rate",b.$elem);p.prototype.bindUiElements.call(b);b.bindUIEvents();b.$loan.hasClass("error")||b.$rate.hasClass("error")?b.changeValueToNA():(b.loanFormat(),b.calculateRepaymentResult(!0));return b}z(d,p);d.prototype.bindUIEvents=function(){var a=this,b=this.$loanInput.find(".A_LABLA_RW_ALL span").html();
b&&(b=b.replace(/HKD/g,"\x3cspan role\x3d'text' aria-label\x3d'Hong Kong Dollar'\x3e\x3cabbr lang\x3d'en-hk' title\x3d'Hong Kong Dollar'\x3eHKD\x3c/abbr\x3e\x3c/span\x3e").replace(/CNY/g,"\x3cspan role\x3d'text' aria-label\x3d'Chinese Yuan'\x3e\x3cabbr lang\x3d'en-hk' title\x3d'Chinese Yuan'\x3eCNY\x3c/abbr\x3e\x3c/span\x3e").replace(/USD/g,"\x3cspan role\x3d'text' aria-label\x3d'United States Dollar'\x3e\x3cabbr lang\x3d'en-hk' title\x3d'United States Dollar'\x3eUSD\x3c/abbr\x3e\x3c/span\x3e"),this.$loanInput.find(".A_LABLA_RW_ALL span").html(b));
this.$MinMonthSaving.html(this.config.minimumPaymentSaving.replace(/NA/g,"\x3cspan role\x3d'text' aria-label\x3d'Not applicable'\x3e\x3cabbr lang\x3d'en-hk' title\x3d'Not applicable'\x3eNA\x3c/abbr\x3e\x3c/span\x3e"));this.$loanMin.text(TOOLS_utils.numberWithCommas(this.$loanMin.text()));this.$loanMax.text(TOOLS_utils.numberWithCommas(this.$loanMax.text()));this.$monthRate.html(this.$monthRate.html().replace(/APR/g,"\x3cspan role\x3d'text' aria-label\x3d'annualised percentage rate'\x3e\x3cabbr lang\x3d'en-hk' title\x3d'annualised percentage rate'\x3eAPR\x3c/abbr\x3e\x3c/span\x3e"));
this.$loan.on("keydown input change blur",function(f){setTimeout(function(){"keydown"!=f.type&&a.loanFormat();a.validate()?a.calculateRepaymentResult(!0):a.calculateRepaymentResult(!1)},50);"change"==f.type&&a.setTrackEvent("amount change")});this.$rate.on("keydown input change blur",function(f){setTimeout(function(){"keydown"!=f.type&&a.rateFormat();a.validate()?a.calculateRepaymentResult(!0):a.calculateRepaymentResult(!1)},50);"change"==f.type&&a.setTrackEvent("rate change")})};d.prototype.setTrackEvent=
function(a){this.TMS.trackEvent({event_category:"tool",event_subcategory:"calculate",event_action:"input",event_content:a,total_outstanding_balance:this.getValue(this.$loan).replace(/,/g,""),monthly_interest_rate:this.getValue(this.$rate)+"%"})};d.prototype.validate=function(){var a=!1;this.inputs.forEach(function(b){!b.checkValidity();a|=!b.checkValidity()});return!a};d.prototype.rateFormat=function(){var a=/^0+(\d+)$/,b=/^0+(\d+\.\d+)$/,f=this.getValue(this.$rate),e=f;a.test(f)&&(e=f.match(a)[1]);
b.test(f)&&(e=f.match(b)[1]);f!=e&&this.$rate.val(e)};d.prototype.loanFormat=function(){var a=this,b=/^0+(\d+)$/,f=/^0+(\d+\.\d+)$/,e=this.getValue(this.$loan),k=e.replace(/,/g,"");b.test(k)&&(k=k.match(b)[1]);f.test(k)&&(k=k.match(f)[1]);var h=TOOLS_utils.numberWithCommas(k);h.length>l.loan.maxLength&&(h=k);e!=h&&this.$loan.val(h);TOOLS_utils.isMobileAndroid&&setTimeout(function(){a.$loan[0].setSelectionRange(h.length,h.length)},30)};d.prototype.changeValueToNA=function(){var a=this.config.minimumPaymentSaving;
a=a.replace(/NA/g,"\x3cspan role\x3d'text' aria-label\x3d'Not applicable'\x3e\x3cabbr lang\x3d'en-hk' title\x3d'Not applicable'\x3eNA\x3c/abbr\x3e\x3c/span\x3e");this.$MinPayment.html(a);this.$FixedPeriod.html(a);this.$n36MonthPayMonth.html(a);this.$n36MonthRepayment.html(a);this.$n36MonthInterest.html(a);this.$MinMonthRepayment.html(a);this.$MinMonthInterest.html(a);this.$MinPayPeriod.html(a);this.$n36MonthSaving.html(a)};d.prototype.calculateRepaymentResult=function(a){if(a){var b=Number(this.getValue(this.$rate)),
f=Number(this.getValue(this.$loan).replace(/,/g,""));b/=100;a=-f*b*(1+b)*Math.pow(1+ +b,35)/(1-Math.pow(1+ +b,36));for(var e=36*a,k=e-f,h="",g=2,q=0,x=[],u=[],r=[],t=[],y=[],w=2;841>w;w++)0==h&&g++,x[w]=2==w?f:+h,u[w]=x[w]*b,r[w]=.01*+x[w],t[w]=+u[w]+ +r[w],h=+u[w]+ +x[w],300>=+h?t[w]=+h||0:300>t[w]&&(t[w]=300),q=+q+ +t[w],y[w]=+x[w]+ +u[w]-+t[w],0>+y[w]&&(y[w]=0),h=+y[w];b=(842-+g)/12;g=+q-+f;f=(+q-+e).toFixed(0);x="$"+TOOLS_utils.numberWithCommas(Math.abs(f));0>f&&(x="-"+x);this.$MinPayment.text(this.config.minPayment);
this.$FixedPeriod.text(this.config.fixedPeriod);this.$n36MonthPayMonth.text("$"+TOOLS_utils.numberWithCommas((+a).toFixed(2)));this.$n36MonthRepayment.text("$"+TOOLS_utils.numberWithCommas((+e).toFixed(0)));this.$n36MonthInterest.text("$"+TOOLS_utils.numberWithCommas((+k).toFixed(0)));this.$MinMonthRepayment.text("$"+TOOLS_utils.numberWithCommas(q.toFixed(0)));this.$MinMonthInterest.text("$"+TOOLS_utils.numberWithCommas(g.toFixed(0)));this.$MinPayPeriod.text(b.toFixed(1));this.$n36MonthSaving.text(x)}else this.changeValueToNA()};
return d}(m.ToolsBase);TOOLS_utils.registerComponent({name:"cardRepaymentCal",selector:".cardRepaymentCal",init:function(p){return new c(p)}})})(Bootstrap.jQuery)},function(M,Y,I){function z(p,d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);p.prototype=Object.create(d&&d.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(p,d):p.__proto__=d)}var m=
I(0),n=I(9),l=I(11),c=I(8);(function(p){var d=function(a){function b(f){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var e=a.call(this,f);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");e=!e||"object"!==typeof e&&"function"!==typeof e?this:e;e.$elem=f;e.$config=p("[data-config]",e.$elem);e.config=e.$config.data("config");e.$form=p(".rewards-eshop-form",e.$elem);e.$heading=p("h2.heading",e.$elem);e.$systemError=p(".system.error",
e.$elem);e.$mainCategory=p("[name\x3dmainCategory]",e.$elem);e.$subCategory=p("[name\x3dsubCategory]",e.$elem);e.$subDiv=p(".subCategoryDiv",e.$elem);e.$tablePart=p(".rewards-table",e.$elem);e.$paginationPart=p(".pws-tools-generic-pagination",e.$elem);e.$pagination=new c.Pagination(e.$paginationPart);e.$quantityTip=p("th[tooltipid\x3dtrue]",e.$elem);e.$detailModal=p(".detail-modal .modal-overlay",e.$elem);e.detailModal=new n.Modal(e.$mainCategory,e.$detailModal);e.$modalTitle=p(".detail-modal .modal-overlay .title",
e.$elem);e.$modalInformation=p(".detail-modal .modal-overlay .modal-information",e.$elem);e.$table=new l.AdvanceTable(e.$tablePart);e.rewardList;e.cardCategoryJson;if(e.$form.data("card-category")){e.cardCategoryJson=e.$form.data("card-category");e.fillMainCategoryList();e.fillSubCategoryList();f=e.getValue(e.$mainCategory);var k=e.getValue(e.$subCategory);e.initData(f,k)}e.pageUrl=location.pathname.split(".html")[0]+"/";"undefined"!=typeof utag_data&&utag_data.page_url&&(e.pageUrl=utag_data.page_url);
e.bindUiElements();e.bindUiEvents();return e}z(b,a);b.prototype.submitForm=function(f){var e=document.createElement("form");e.name="online_redeem";e.action=this.config.redeemUrl;e.method="post";e.target="onlinehsbc_card_reward";e.style.cssText="margin:0pt;";e.innerHTML='\x3cinput type\x3d"hidden" name\x3d"withRedempCookie" value\x3d"true"\x3e';this.$form.parent().append(e);this.respondCookie(f,"/",".hsbc.com.hk","true",0);this.popWinOnline();e.submit();e.remove()};b.prototype.respondCookie=function(f,
e,k,h,g){document.cookie="hsbc_rewards\x3d"+(e?"; path\x3d"+e:"")+(k?"; domain\x3d"+k:"")+"; expires\x3dThu, 01 Jan 1970 00:00:00 UTCT";f="hsbc_rewards\x3d"+f+(e?"; path\x3d"+e:"")+(k?"; domain\x3d"+k:"")+(h?"; secure":"")+(g?"; expires\x3d"+g.toGMTString():"");document.cookie=f};b.prototype.popWinOnline=function(){self.name="opener";window.open("","onlinehsbc_card_reward","width\x3d"+screen.width+",height\x3d"+.88*screen.height+",location\x3dno,directories\x3dno,menubar\x3dno,toolbar\x3dno,scrollbars\x3dyes,status\x3dyes,resizable\x3dyes,left\x3d'0',top\x3d'0'").focus()};
b.prototype.bindUiElements=function(){(0,m.bindLink)(p("[role\x3dlink]",this.$elem));(0,m.bindButton)(p("[role\x3dbutton]",this.$elem))};b.prototype.bindUiEvents=function(){var f=this;this.$mainCategory.on("change",function(){f.fillSubCategoryList();f.initData(f.getValue(f.$mainCategory),"0");f.TMS.trackEvent({event_category:"content",event_action:"button click",event_content:"main category dropdown: "+f.$mainCategory.text()})});this.$subCategory.on("change",function(){f.initData(f.getValue(f.$mainCategory),
f.getValue(f.$subCategory));f.TMS.trackEvent({event_category:"content",event_action:"button click",event_content:"sub-category dropdown: "+f.$subCategory.text()})});this.$table.bind("a.purchase-button",function(e,k){var h=e.find("input.quantity-input").val();if(0<h){k=e.find("tr[data-id]").data("id");var g=e.find("tr[data-id]").data("catalogid"),q=e.find("tr[data-id]").data("ppoints");e=e.find("tr[data-id]").data("fpoints");"0"==q||Number(q)||(q=q.replace(/,/g,""));"0"==e||Number(e)||(e=e.replace(/,/g,
""));e="5"==g?"CCFW|#|"+k+"|#|"+h+"|#|"+parseFloat(e)*h:"VG|#|"+k+"|#|"+h+"|#|"+parseFloat(q)*h;f.TMS.trackEvent({event_category:"content",event_action:"button click",event_content:k+" rewardcash items: redeem"});f.submitForm(e)}});this.$table.chang("input[name\x3dquantity]",function(e,k){k=e.find("input[name\x3dquantity]").val();/^([0-9]{1,2})$/.test(k)?(e.parent().find("input[name\x3dquantity]").val(0),e.parent().find("a.purchase-button").toggleClass("disabled",!0),e.parent().find("a.purchase-button").attr("aria-disabled",
"true"),0!=Number(k)&&(e.find("input[name\x3dquantity]").val(Number(k)),e.find("a.purchase-button").toggleClass("disabled",!1),e.find("a.purchase-button").attr("aria-disabled","false"))):(e.parent().find("input[name\x3dquantity]").val(0),e.parent().find("a.purchase-button").toggleClass("disabled",!0),e.parent().find("a.purchase-button").attr("aria-disabled","true"),k=k.replace(/[^\d]/g,""),0!=k&&(2<k.length&&(k=k.substr(0,2)),e.find("input[name\x3dquantity]").val(k),e.find("a.purchase-button").toggleClass("disabled",
!1),e.find("a.purchase-button").attr("aria-disabled","false")))});this.$table.bind(".detail-link",function(e,k){k=e.find("tr[data-id]").data("id");var h=f.createDetailContent(k);f.$modalTitle.empty().text(k);f.$modalInformation.empty().append(h);f.$link=e.find(".detail-link");f.detailModal.open(f.$link);p(".footer-legal-regulatory").attr("aria-hidden","true");p(".M-CONTMAST-RW-RBWM.links").attr("aria-hidden","true");f.TMS.trackView({page_url:f.pageUrl+"item-details/"})});this.$detailModal.on("close cancel continue",
function(e,k){k.preventDefault();f.detailModal.hide();p(".footer-legal-regulatory").attr("aria-hidden","false");p(".M-CONTMAST-RW-RBWM.links").attr("aria-hidden","false");f.TMS.trackView({page_url:f.pageUrl})})};b.prototype.initData=function(f,e){var k=this;this.getAPIData(f,e,1,function(h){k.$pagination.set(h,1);k.$pagination.pageWillChange=function(g,q){k.getAPIData(f,e,g,q);k.$heading.focus();k.TMS.trackEvent({event_category:"content",event_action:"button click",event_content:"pagination - page number : "+
g})}})};b.prototype.getAPIData=function(f,e,k,h){var g=this;0==e&&(e="");f=this.config.endpointConfig.url+"/digital-pws-tools-cards-eapi-"+this.config.endpointConfig.space+"-proxy/v1/cards/reward/list?catalogue\x3d"+f+"\x26subCatalog\x3d"+e+"\x26pageNo\x3d"+k+"\x26pageSize\x3d10\x26locale\x3d"+TOOLS_utils.getLocale();a.prototype.ajax.call(this,{method:"GET",url:f}).then(function(q){g.$systemError.hide();q=JSON.parse(q);g.handleSuccessCallBack(q,h)})["catch"](function(q){g.handleErrorCallBack(q)})};
b.prototype.handleSuccessCallBack=function(f,e){"donationsFeeWaiver"==f.catalogue?this.$table.mode(2):this.$table.mode(1);var k=f.rewardList;if(0<k.length){var h;for(h=0;h<k.length;h++){var g=k[h].rewardId;g=this.config.photoUrl+(g+"s").toLowerCase()+".gif";k[h].itemGIF=g;""==k[h].retailPrice&&(k[h].retailPrice="\x3cspan aria-hidden\x3d'true'\x3e-\x3c/span\x3e\x3cspan class\x3d'visuallyhidden'\x3e"+this.config.notapplicable+"\x3c/span\x3e");""==k[h].flPrice&&(k[h].flPrice="\x3cspan aria-hidden\x3d'true'\x3e-\x3c/span\x3e\x3cspan class\x3d'visuallyhidden'\x3e"+
this.config.notapplicable+"\x3c/span\x3e")}this.$table.load({children:k});this.$tablePart.show();this.$paginationPart.show();this.rewardList=k;e&&e(f.page.totalPage);this.scope.set("systemWarning/message","")}else this.$paginationPart.hide(),this.$tablePart.hide(),this.scope.set("systemWarning/message",this.config.nodatadescripton),this.TMS.trackEvent({event_category:"error",event_action:"system",event_content:"no reward item",error_code:"400"})};b.prototype.handleErrorCallBack=function(f){var e=
this;this.$paginationPart.hide();this.$tablePart.hide();this.$systemError.show();this.scope.set("systemError/message",this.config.servererror);setTimeout(function(){e.$systemError.focus()},0);this.TMS.trackEvent({event_category:"error",event_action:"system",event_content:"no response from backend",error_code:f&&f.status?f.status:"500"})};b.prototype.fillMainCategoryList=function(){var f="",e=[],k=void 0;this.cardCategoryJson.forEach(function(h,g){null!=h.mainCategory&&""!=h.mainCategory&&null!=h.mainParameter&&
""!=h.mainParameter&&(k={},k.text=h.mainCategory,k.value=h.mainParameter,e.push(k),0==g&&(f=h.mainParameter))});this.$mainCategory[0].selectize.clearOptions();this.$mainCategory[0].selectize.addOption(e);this.$mainCategory[0].selectize.setValue(f)};b.prototype.fillSubCategoryList=function(){var f=this,e=!1,k=void 0,h=void 0,g=void 0;this.cardCategoryJson.forEach(function(q,x){k="";h=[];q.mainParameter==f.getValue(f.$mainCategory)&&void 0!=q.subList&&"undefined"!=q.subList&&null!=q.subList&&""!=q.subList&&
(q.subList.forEach(function(u,r){e=!0;null!=u.subCategory&&""!=u.subCategory&&null!=u.subParameter&&""!=u.subParameter&&(g={},g.text=u.subCategory,g.value=u.subParameter,h.push(g),0==r&&(k=u.subParameter))}),f.$subCategory[0].selectize.clearOptions(),f.$subCategory[0].selectize.addOption(h),f.$subCategory[0].selectize.setValue(k))});e?this.$subDiv.show():this.$subDiv.hide()};b.prototype.createDetailContent=function(f){for(var e=0;e<this.rewardList.length;e++)if(f==this.rewardList[e].rewardId)return this.generateItemDetail(this.rewardList[e]);
return""};b.prototype.generateItemDetail=function(f){var e=this,k=void 0,h=f.rewardDetail.isQuarterPick?this.config.hotpicks:"",g="\x3cdiv\x3e";"01"==f.rewardDetail.delivery?k=this.config.selfcollection:"02"==f.rewardDetail.delivery?k=this.config.bypost:"03"==f.rewardDetail.delivery&&(k=this.config.freedelivery);g+="\x3cdiv class\x3d'detail-info'\x3e";g+="\x3cdiv class\x3d'detailImage'\x3e\x3cimg alt\x3d'"+f.merchantName+f.itemName+"' src\x3d'"+this.config.photoUrl+f.rewardId.toLowerCase()+".gif'/\x3e\x3c/div\x3e";
g+="\x3cdiv class\x3d'detailRight'\x3e";g+="\x3cp class\x3d'A-TYP16B-RW-ALL'\x3e"+f.merchantName+"\x3c/p\x3e";g+="\x3cp class\x3d'A-TYP16R-RW-ALL'\x3e"+f.itemName+"\x3c/p\x3e";f.rewardDetail.showVintageTable&&(g=""==f.retailPrice?g+("\x3cp class\x3d'A-TYP12R-RW-ALL'\x3e"+this.config.retailprice+"\x3cspan class\x3d'visuallyhidden'\x3e"+this.config.notapplicable+"\x3c/span\x3e\x3cspan aria-hidden\x3d'true'\x3e"+f.retailPrice+"\x3c/span\x3e\x3c/p\x3e"):g+("\x3cp class\x3d'A-TYP12R-RW-ALL'\x3e"+this.config.retailprice+
f.retailPrice+"\x3c/p\x3e"));g+="\x3c/div\x3e";g+="\x3c/div\x3e";f.rewardDetail.showVintageTable&&(g+="\x3cdiv class\x3d'T-M-BSCTBL-RW-RBWM O-SMARTSPCGEN-DEV M-CONTMAST-RW-RBWM'\x3e\x3ctable style\x3d'min-width: 100%;'\x3e",g+="\x3ccaption\x3e\x3cdiv class\x3d'visuallyhidden'\x3e"+f.merchantName+"\x3c/div\x3e\x3c/caption\x3e",g+="\x3cthead\x3e\x3ctr\x3e",g+="\x3cth scope\x3d'col'\x3e"+this.config.yearsofcardholding+"\x3c/th\x3e",g+="\x3cth scope\x3d'col'\x3e"+this.config.discount+"\x3c/th\x3e",g+=
"\x3cth scope\x3d'col'\x3e"+this.config.discountprice+"\x3c/th\x3e",g+="\x3c/tr\x3e\x3c/thead\x3e",g+="\x3ctbody\x3e",f.rewardDetail.tierDetail.forEach(function(q,x){var u="",r=q.ratio,t=q.rewardCash;0==x?u=q.endYear+" "+e.config.yearsorless:1==x?u=q.strYear+"-"+q.endYear+" "+e.config.years:2==x&&(u=q.strYear+" "+e.config.yearsorabove);""==t?(t=/en[-_]hk/i.test(TOOLS_utils.getLocale())?"$-":"-\u5143",t="\x3cspan aria-hidden\x3d'true'\x3e"+t+"\x3c/span\x3e\x3cspan class\x3d'visuallyhidden'\x3e"+e.config.notapplicable+
"\x3c/span\x3e"):t=/en[-_]hk/i.test(TOOLS_utils.getLocale())?"$"+t:t+"\u5143";g+="\x3ctr\x3e\x3ctd\x3e"+u+"\x3c/td\x3e\x3ctd\x3e"+r+"% off\x3c/td\x3e\x3ctd\x3e"+t+"\x3c/td\x3e\x3c/tr\x3e"}),g+="\x3c/tbody\x3e",g+="\x3c/table\x3e\x3c/div\x3e");g+="\x3cp class\x3d'A-TYP12R-RW-ALL'\x3e"+h+"\x3cbr\x3e"+k+"\x3c/p\x3e";f.rewardDetail.redeemEndDate&&(g+="\x3cp class\x3d'A-TYP12R-RW-ALL'\x3e"+this.config.validuntil+" "+TOOLS_utils.formatDDMMYYYYDate(f.rewardDetail.redeemEndDate,!0)+"\x3c/p\x3e");return g+=
"\x3cdiv class\x3d'A-TYP12R-RW-ALL note'\x3e\x3cul\x3e"+f.rewardDetail.disc+" "+f.rewardDetail.remarks+"\x3c/ul\x3e\x3c/div\x3e"};return b}(m.ToolsBase);TOOLS_utils.registerComponent({name:"EShop",selector:".eShop",init:function(a){return new d(a)}})})(Bootstrap.jQuery)},function(M,Y,I){function z(n,l){if("function"!==typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);n.prototype=Object.create(l&&l.prototype,{constructor:{value:n,enumerable:!1,
writable:!0,configurable:!0}});l&&(Object.setPrototypeOf?Object.setPrototypeOf(n,l):n.__proto__=l)}var m=I(0);(function(n){var l=[8,9,13,16,17,18,20,27,33,34,35,36,37,38,39,40,45,46,91],c=function(p){function d(a){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");var b=p.call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");b=!b||"object"!==typeof b&&"function"!==typeof b?this:b;b.$elem=a;b.$config=n("[data-config]",
b.$elem);b.config=b.$config.data("config");b.$form=n(".rewards-mileage-form",b.$elem);b.mileageMain=n(".mileageMain",b.$elem);b.$mileageTable=n(".mileageTable .desktop",b.$elem);b.$mileageTableMobile=n(".mileageTable .non-desktop",b.$elem);b.$feeWaiverTable=n(".feeWaiverTable .desktop",b.$elem);b.$feeWaiverTableMobile=n(".feeWaiverTable .non-desktop",b.$elem);b.$systemError=n(".system.error",b.$elem);b.callAPI();b.bindUiElements();b.bindUiEvents();return b}z(d,p);d.prototype.submitForm=function(a,
b){var f=document.createElement("form");f.name="online_redeem1";f.action=this.config.redeemUrl;f.method="post";f.target="onlinehsbc_card_reward";f.style.cssText="margin:0pt;";f.innerHTML='\x3cinput type\x3d"hidden" name\x3d"withRedempCookie" value\x3d"true"\x3e';this.$form.parent().append(f);this.respondCookie(a,b,"/",".hsbc.com.hk","true",0);this.popWinOnline();f.submit();f.remove()};d.prototype.respondCookie=function(a,b,f,e,k,h){document.cookie="hsbc_rewards\x3d"+(f?"; path\x3d"+f:"")+(e?"; domain\x3d"+
e:"")+"; expires\x3dThu, 01 Jan 1970 00:00:00 UTC";a="hsbc_rewards\x3d"+("MP01"==a?"MPFW|#|"+a+"|#|1|#|"+b:"MPPR|#|"+a+"|#|1|#|"+b)+(f?"; path\x3d"+f:"")+(e?"; domain\x3d"+e:"")+(k?"; secure":"")+(h?"; expires\x3d"+h.toGMTString():"");document.cookie=a};d.prototype.popWinOnline=function(){self.name="opener";window.open("","onlinehsbc_card_reward","width\x3d"+screen.width+",height\x3d"+.88*screen.height+",location\x3dno,directories\x3dno,menubar\x3dno,toolbar\x3dno,scrollbars\x3dyes,status\x3dyes,resizable\x3dyes,left\x3d'0',top\x3d'0'").focus()};
d.prototype.bindUiElements=function(){(0,m.bindLink)(n("[role\x3dlink]",this.$elem));(0,m.bindButton)(n("[role\x3dbutton]",this.$elem))};d.prototype.callAPI=function(){var a=this,b=this.config.endpointConfig;b=b.url+"/digital-pws-tools-cards-eapi-"+b.space+"-proxy/v1/cards/reward/list?catalogue\x3dmileage\x26subCatalog\x3d\x26locale\x3d"+TOOLS_utils.getLocale();p.prototype.ajax.call(this,{method:"GET",url:b}).then(function(f){f=JSON.parse(f);a.handleSuccessCallBack(f)})["catch"](function(f){a.handleErrorCallBack(f)})};
d.prototype.handleSuccessCallBack=function(a){a=a.rewardList;var b=[],f=[],e;for(e=0;e<a.length;e++)"MP01"!=a[e].rewardId?b.push(a[e]):f.push(a[e]);0<b.length&&0<f.length?(this.createMileageTable(b),this.createFeeWaiverTable(f),this.mileageMain.removeClass("hidden")):this.handleErrorCallBack()};d.prototype.createMileageTable=function(a){var b,f="\x3ctbody\x3e",e="";for(b=0;b<a.length;b++){var k=a[b].itemName+TOOLS_utils.replaceValue(this.config.itemNameDesc,{miles:a[b].fpoints});var h=a[b].index;
var g=a[b].rewardId;f+="\x3ctr data-id\x3d"+g+"\x3e\x3ctd class\x3d'itemName'\x3e"+k+"\x3c/td\x3e";f+="\x3ctd class\x3d'input'\x3e\x3cdiv class\x3d'text'\x3e\x3cinput aria-label\x3d'"+k+"' name\x3d'"+a[b].rewardId+"_quantity' data-points\x3d'"+a[b].fpoints+"' type\x3d'text' maxlength\x3d'8'\x3e\x3c/div\x3e\x3cdiv class\x3d'message message-wrapper error hide' data-for\x3d'"+a[b].rewardId+"_quantity' role\x3d'alert'\x3e\x3cem class\x3d'icon'\x3e\x3c/em\x3e\x3cdiv class\x3d'message-content' id\x3d'quantity_message_"+
g+"' \x3e\x3c/div\x3e\x3c/div\x3e\x3c/td\x3e";f+="\x3ctd\x3e\x3cspan class\x3d'milesEquiv'\x3e\x3c/span\x3e\x3c/td\x3e";f+="\x3ctd\x3e\x3cdiv\x3e\x3ca class\x3d'A-BTNSO-RW-ALL mileageRedeem disabled' aria-disabled\x3d'true' tabindex\x3d'0' role\x3d'button'\x3e\x3cspan class\x3d'visuallyhidden milesEquivReedeem'\x3e\x3c/span\x3e\x3cspan\x3e"+this.config.mileageRedeem+"\x3c/span\x3e\x3c/a\x3e\x3c/div\x3e\x3c/td\x3e\x3c/tr\x3e";e+="\x3ctbody data-id\x3d"+g+"\x3e";e+="\x3ctr\x3e\x3cth scope\x3d'row'\x3e"+
this.config.mileagePartner+"\x3c/th\x3e\x3ctd\x3e"+k+"\x3c/td\x3e\x3c/tr\x3e";e+="\x3ctr\x3e\x3cth scope\x3d'row'\x3e"+this.config.mileageReward+"\x3c/th\x3e\x3ctd class\x3d'input'\x3e\x3cdiv class\x3d'text'\x3e\x3cinput aria-label\x3d'"+k+"' name\x3d'"+a[b].rewardId+"_M_quantity' data-points\x3d'"+a[b].fpoints+"' type\x3d'text' id\x3d"+h+g+" maxlength\x3d'8'\x3e\x3c/div\x3e\x3cdiv class\x3d'message message-wrapper error hide' data-for\x3d'"+a[b].rewardId+"_M_quantity' role\x3d'alert'\x3e\x3cem class\x3d'icon'\x3e\x3c/em\x3e\x3cdiv class\x3d'message-content' id\x3d'quantity_message_"+
g+"'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/td\x3e\x3c/tr\x3e";e+="\x3ctr\x3e\x3cth scope\x3d'row'\x3e"+this.config.mileageMiles+"\x3c/th\x3e\x3ctd\x3e\x3cspan class\x3d'milesEquiv'\x3e\x3c/span\x3e\x3c/td\x3e\x3c/tr\x3e";e+="\x3ctr\x3e\x3cth scope\x3d'row'\x3e"+this.config.mileageRedemption+"\x3c/th\x3e\x3ctd\x3e\x3cdiv\x3e\x3ca class\x3d'A-BTNSO-RW-ALL mileageRedeem disabled' aria-disabled\x3d'true' tabindex\x3d'0' role\x3d'button'\x3e\x3cspan class\x3d'visuallyhidden milesEquivReedeem'\x3e\x3c/span\x3e\x3cspan\x3e"+
this.config.mileageRedeem+"\x3c/span\x3e\x3c/a\x3e\x3c/div\x3e\x3c/td\x3e\x3c/tr\x3e";b!=a.length-1&&(e+="\x3ctr aria-hidden\x3d'true' tabindex\x3d'-1' class\x3d'hidden-row'\x3e\x3cth\x3e\x3c/th\x3e\x3ctd\x3e\x3c/td\x3e\x3c/tr\x3e");e+="\x3c/tbody\x3e"}f+="\x3c/tbody\x3e";this.$mileageTable.find("tbody").remove();this.$mileageTableMobile.find("tbody").remove();this.$mileageTable.append(f);this.$mileageTableMobile.append(e)};d.prototype.createFeeWaiverTable=function(a){var b,f="\x3ctbody\x3e",e="";
for(b=0;b<a.length;b++)f+="\x3ctr data-id\x3d"+a[b].rewardId+" data-quantity\x3d"+a[b].fpoints+"\x3e\x3ctd\x3e"+a[b].itemName+"\x3c/td\x3e",f+="\x3ctd\x3e"+a[b].fpoints+"\x3c/td\x3e",f+="\x3ctd\x3e\x3cdiv\x3e\x3ca class\x3d'A-BTNSO-RW-ALL feeWaiverRedeem' aria-disabled\x3d'false' tabindex\x3d'0' role\x3d'button'\x3e\x3cspan\x3e"+this.config.feeWaiverRedeem+"\x3c/span\x3e\x3c/a\x3e\x3c/div\x3e\x3c/td\x3e\x3c/tr\x3e",e+="\x3ctbody data-id\x3d"+a[b].rewardId+" data-quantity\x3d"+a[b].fpoints+"\x3e",
e+="\x3ctr\x3e\x3cth scope\x3d'row'\x3e"+this.config.feeWaiverName+"\x3c/th\x3e\x3ctd\x3e"+a[b].itemName+"\x3c/td\x3e\x3c/tr\x3e",e+="\x3ctr\x3e\x3cth scope\x3d'row'\x3e"+this.config.feeWaiverReward+"\x3c/th\x3e\x3ctd\x3e"+a[b].fpoints+"\x3c/td\x3e\x3c/tr\x3e",e+="\x3ctr\x3e\x3cth scope\x3d'row'\x3e"+this.config.feeWaiverRedemption+"\x3c/th\x3e\x3ctd\x3e\x3cdiv\x3e\x3ca class\x3d'A-BTNSO-RW-ALL feeWaiverRedeem' aria-disabled\x3d'false' tabindex\x3d'0' role\x3d'button'\x3e\x3cspan\x3e"+this.config.feeWaiverRedeem+
"\x3c/span\x3e\x3c/a\x3e\x3c/div\x3e\x3c/td\x3e\x3c/tr\x3e";f+="\x3c/tbody\x3e";e+="\x3c/tbody\x3e";this.$feeWaiverTable.find("tbody").remove();this.$feeWaiverTableMobile.find("tbody").remove();this.$feeWaiverTable.append(f);this.$feeWaiverTableMobile.append(e)};d.prototype.handleErrorCallBack=function(a){var b=this;this.mileageMain.addClass("hidden");this.$systemError.show();this.scope.set("systemError/message",this.config.systemErr);setTimeout(function(){b.$systemError.focus()},0);this.TMS.trackEvent({event_category:"error",
event_action:"system",event_content:"no response from backend",error_code:a&&a.status?a.status:"500"})};d.prototype.bindUiEvents=function(){var a=this;this.$mileageTable.on("keydown input change blur","input[name*\x3dquantity]",function(b){var f=b.which;if(!f||!(-1!=l.indexOf(f)||b.ctrlKey||b.altKey||b.metaKey)){var e=n(b.target).closest("tr");f=e.find("input[name*\x3dquantity]");var k=e.find("span.milesEquiv"),h=e.find("a.mileageRedeem");e=e.find("span.milesEquivReedeem");a.validateQuantity(f,k,
h,e);b.stopPropagation()}});this.$mileageTableMobile.on("keydown input change blur","input[name*\x3dquantity]",function(b){var f=b.which;if(!f||!(-1!=l.indexOf(f)||b.ctrlKey||b.altKey||b.metaKey)){var e=n(b.target).closest("tbody");f=e.find("input[name*\x3dquantity]");var k=e.find("span.milesEquiv"),h=e.find("a.mileageRedeem");e=e.find("span.milesEquivReedeem");a.validateQuantity(f,k,h,e);b.stopPropagation()}});this.$mileageTable.on("click keydown","a.mileageRedeem",function(b){if("keydown"!=b.type||
13==b.which){var f=n(b.target).closest("tr"),e=f.data("id"),k=f.find("input[name*\x3dquantity]").val();!f.find("a.mileageRedeem").hasClass("disabled")&&40<=Number(k)&&a.submitForm(e,k);a.TMS.trackEvent({event_category:"content",event_action:"button click",event_content:"MP03"==e?"asia miles : Redeem":"krisflyer miles: Redeem"});b.stopPropagation()}});this.$mileageTableMobile.on("click keydown","a.mileageRedeem",function(b){if("keydown"!=b.type||13==b.which){var f=n(b.target).closest("tbody"),e=f.data("id"),
k=f.find("input[name*\x3dquantity]").val();!f.find("a.mileageRedeem").hasClass("disabled")&&40<=Number(k)&&a.submitForm(e,k);a.TMS.trackEvent({event_category:"content",event_action:"button click",event_content:"asia miles : Redeem | krisflyer miles: Redeem"});b.stopPropagation()}});this.$feeWaiverTable.on("click keydown","a.feeWaiverRedeem",function(b){if("keydown"!=b.type||13==b.which){var f=n(b.target).closest("tr"),e=f.data("id");f=f.data("quantity");Number(f)||(f=f.replace(/,/g,""));a.submitForm(e,
f);a.TMS.trackEvent({event_category:"content",event_action:"button click",event_content:"mileage fee waiver programme: Redeem"});b.stopPropagation()}});this.$feeWaiverTableMobile.on("click keydown","a.feeWaiverRedeem",function(b){if("keydown"!=b.type||13==b.which){var f=n(b.target).closest("tbody"),e=f.data("id");f=f.data("quantity");Number(f)||(f=f.replace(/,/g,""));a.submitForm(e,f);a.TMS.trackEvent({event_category:"content",event_action:"button click",event_content:"mileage fee waiver programme: Redeem"});
b.stopPropagation()}})};d.prototype.validateQuantity=function(a,b,f,e){var k=a.data("points"),h=a.val();b.empty();e.empty();!h||""==h||isNaN(Number(h))?this.setError(a,f,this.config.rewardCashInvalid):(this.removeError(a,f),40>Number(h)?this.setError(a,f,this.config.rewardCashMin):(this.removeError(a,f),Number(k)||(k=k.replace(/,/g,"")),!Number(k)||0>=Number(k)||(b.append(TOOLS_utils.numberWithCommas(parseInt(Number(h)*Number(k)))),e.append(this.config.mileageMiles+" "+TOOLS_utils.numberWithCommas(parseInt(Number(h)*
Number(k)))))))};d.prototype.setError=function(a,b,f){var e=a.attr("name");this.scope.set(e+"/message",f);this.scope.set(e+"/status","error");a.addClass("error");b.toggleClass("disabled",!0);b.attr("aria-disabled","true")};d.prototype.removeError=function(a,b){var f=a.attr("name");this.scope.set(f+"/message","");this.scope.set(f+"/status","");a.removeClass("error");b.toggleClass("disabled",!1);b.attr("aria-disabled","false")};return d}(m.ToolsBase);TOOLS_utils.registerComponent({name:"mileage",selector:".mileage",
init:function(p){return new c(p)}})})(Bootstrap.jQuery)},function(M,Y,I){function z(n,l){if("function"!==typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);n.prototype=Object.create(l&&l.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});l&&(Object.setPrototypeOf?Object.setPrototypeOf(n,l):n.__proto__=l)}var m=I(0);(function(n){var l=n(window),c={accountNumber:{type:"string",required:!0,minLength:10,maxLength:12,pattern:"[0-9]+"},
phoneNumberType:{type:"selection",required:!0,selected:"N"},telePhoneNumber:{type:"string",required:!0,minLength:8,maxLength:8,pattern:"[0-9]+"},hkid:{type:"string",required:!0,minLength:4,maxLength:4,pattern:"[A-Za-z0-9]+"},strictlyConfidential:{type:"checkbox",required:!0},refNumber:{type:"hidden"}},p={phoneNumberType:["phoneNumberType \x3d\x3d 'N'","phoneNumberType \x3d\x3d 'Y'"]},d={"phoneNumberType \x3d\x3d 'N'":function(b){return"N"==b},"phoneNumberType \x3d\x3d 'Y'":function(b){return"Y"==
b}},a=function(b){function f(e){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");var k=b.call(this,e,c,p,d);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");k=!k||"object"!==typeof k&&"function"!==typeof k?this:k;k.$elem=e;k.$config=n("[data-config]",k.$elem);k.$stepTracker=n(".step-tracker",k.$elem);k.$step1=n(".step-1",k.$elem);k.$step2=n(".step-2",k.$elem);k.$step3=n(".step-3",k.$elem);k.$step1Heading=n(".step1-heading",
k.$elem);k.$step2Heading=n(".step2-heading",k.$elem);k.$step3Heading=n(".step3-heading",k.$elem);k.$nextButton=n(".next-button",k.$elem);k.$cancelButton=n(".cancel-button",k.$elem);k.$editButton=n(".edit-button",k.$elem);k.$submitButton=n(".submit-button",k.$elem);k.$printButton=n(".print-button",k.$elem);k.$systemError=n(".system.error",k.$elem);k.$accountNumber=n("[name\x3daccountNumber]",k.$elem);k.$step2PhoneType=n(".step2PhoneType",k.$elem);k.$step3PhoneType=n(".step3PhoneType",k.$elem);k.$step2accountNumber=
n(".step2accountNumber",k.$elem);k.$step3accountNumber=n(".step3accountNumber",k.$elem);k.$step2hkid=n(".step2hkid",k.$elem);k.$step3hkid=n(".step3hkid",k.$elem);k.$refNumber=n(".refNumber",k.$elem);k.config=k.$config.data("config");n.extend(!0,c,k.config.dataModel);k.bindUiElements();k.bindUiEvents();k.TMS.trackView(k.tealiumConfig.startStep);return k}z(f,b);f.prototype.bindUiElements=function(){var e=this;(0,m.bindLink)(n("[role\x3dlink]",this.$elem));(0,m.bindButton)(n("[role\x3dbutton]",this.$elem));
var k=[];"accountNumber phoneNumberType telePhoneNumber hkid strictlyConfidential refNumber".split(" ").forEach(function(h){n('input[name \x3d "'+h+'"]',e.$elem).length&&k.push(h+"/valid")});l.on("tools:contentUpdated",function(h,g){h=!1;for(var q in g)if(-1!=k.indexOf(q)){h=!0;break}if(h){var x=!0;k.some(function(u){x&=e.scope.get(u);if(!x)return!0});e.$nextButton.toggleClass("disabled",!x);e.$nextButton.attr("aria-disabled",(!x).toString());e.$nextButton.find("span.visuallyhidden").attr("aria-hidden",
(!!x).toString())}});b.prototype.bindUiElements.call(this)};f.prototype.bindUiEvents=function(){var e=this;this.$accountNumber.on("keydown input change blur",function(){if(e.getValue(e.$accountNumber)){var k=e.getValue(e.$accountNumber).length;10<=k&&12>=k&&setTimeout(function(){var h=e.$accountNumber.closest("[data-validation-status]").data("validation-status")||"error",g=e.isValidCurrentCheckDigit(e.getValue(e.$accountNumber)),q=e.isValidSavingsCheckDigit(e.getValue(e.$accountNumber));g||q?e.setStatus(e.$accountNumber,
"",""):e.setStatus(e.$accountNumber,h,e.config.dataModel.accountNumber.patternMismatchError)},50)}});this.$submitButton.on("action",function(){e.$step1.data("validation-status","error");e.TMS.trackEvent({event_category:"content",event_action:"button",event_content:"confirm"});var k={locale:TOOLS_utils.getLocale(),accountNumber:e.scope.get("accountNumber"),useBankRecord:e.scope.get("phoneNumberType"),telePhoneNumber:"N"==e.scope.get("phoneNumberType")?e.scope.get("telePhoneNumber"):null,hkid:e.scope.get("hkid"),
terms:e.scope.get("strictlyConfidential"),token:"null"};e.config.enableRecaptcha?(window.onSubmit=function(h){k.token=h;e.submit(k)},grecaptcha.execute()):e.submit(k)});this.$editButton.on("action",function(){e.scope.set("systemError/message","");n(".current-step",e.$elem).removeClass("current-step");e.$step1.addClass("current-step");e.$step1Heading.focus();e.scrollTo(e.$step1Heading[0],10);e.TMS.trackView(e.tealiumConfig.startStep)});this.$nextButton.on("action",function(){"N"==e.scope.get("phoneNumberType")?
e.$step2PhoneType.text(e.scope.get("telePhoneNumber")):e.$step2PhoneType.text(e.scope.get("phoneNumberType/label"));e.$step2hkid.text(e.scope.get("hkid")+"  "+e.config.hkidReminder);e.$step2accountNumber.text(e.scope.get("accountNumber"));e.TMS.trackEvent({event_category:"content",event_action:"button",event_content:"continue"});e.$accountNumber.trigger("change");e.$step1.data("validation-status","error");e.validate()&&(n(".current-step",e.$elem).removeClass("current-step"),e.$step2.addClass("current-step"),
e.$step2Heading.focus(),e.scrollTo(e.$step2Heading[0],10),e.TMS.trackView(e.tealiumConfig.reviewStep))});this.$printButton.on("action",function(k){try{window.scrollTo(0,0),document.execCommand("print",!1,"")||window.print()}catch(h){window.print()}})};f.prototype.isValidCurrentCheckDigit=function(e){var k=[1,2,1,2,1,2,1,2],h;var g=!1;if(e&&12!=e.length)return g;var q=parseInt(e.substring(8,9));for(g=h=0;8>g;g++){var x=parseInt(e.substring(g,g+1));x*=k[g];10<=x&&(x=1+x%10);h+=x}return q==(100-h)%10};
f.prototype.isValidSavingsCheckDigit=function(e){var k=[2,1,2,2,1,2,1,2,1],h,g;var q=!1;if(e&&10!=e.length)return q;var x=parseInt(e.substring(3,4));for(q=g=h=0;10>q;q++)if(3!=q){var u=parseInt(e.substring(q,q+1));u*=k[h];10<=u&&(u=1+u%10);g+=u;h++}return x==(100-g)%10};f.prototype.validate=function(){return b.prototype.validate.call(this)};f.prototype.submit=function(e){var k=this;if(this.validate()&&!this.submitted){this.submitted=!0;this.scope.set("systemError/message","");this.$submitButton.addClass("disabled");
this.$submitButton.addClass("loading");var h=this.config.endpointConfig;b.prototype.ajax.call(this,{method:"POST",url:h.url+"/pws-hk-10k-hsbc-papi-gov10k-"+h.space+"-proxy/v1/tenk/submit",json:JSON.stringify(e)}).then(function(g){if(g)if(g=JSON.parse(g),g.recaptchaSuccess&&g.refNo){var q=k.scope.get("accountNumber"),x=k.scope.get("telePhoneNumber");q=12===q.length?q.slice(0,6)+"******":q.slice(0,5)+"*****";k.$step3accountNumber.text(q);"N"==k.scope.get("phoneNumberType")?(k.$step3PhoneType.text(x.slice(0,
4)+"****"),k.tealiumConfig.completeStep.form_field_1="Phone input: Self-input"):(k.$step3PhoneType.text(k.scope.get("phoneNumberType/label")),k.tealiumConfig.completeStep.form_field_1="Phone input: Bank record");k.$step3hkid.text(k.scope.get("hkid")+"  "+k.config.hkidReminder);k.$refNumber.text(g.refNo);n(".current-step",k.$elem).removeClass("current-step");k.$step3.addClass("current-step");k.$step3Heading.focus();k.scrollTo(k.$step3Heading[0],10);k.TMS.trackView(k.tealiumConfig.completeStep)}else 0==
g.recaptchaSuccess&&(n(".current-step",k.$elem).removeClass("current-step"),k.$step1.addClass("current-step"),k.scope.set("systemError/message",k.config.recaptchaError),setTimeout(function(){k.$systemError.focus()},0),grecaptcha.reset(),k.TMS.trackEvent({event_category:"error",event_subcategory:"400",event_action:"application",event_content:k.config.recaptchaError}))})["catch"](function(g){k.config.enableRecaptcha&&grecaptcha.reset();n(".current-step",k.$elem).removeClass("current-step");k.$step1.addClass("current-step");
k.scope.set("systemError/message",k.config.systemError);setTimeout(function(){k.$systemError.focus()},0);k.TMS.trackEvent({event_category:"error",event_subcategory:g&&g.status?g.status:"500",event_action:"application",event_content:k.config.systemError})})["finally"](function(){k.submitted=!1;k.$submitButton.removeClass("disabled");k.$submitButton.removeClass("loading")})}};return f}(m.ToolsBase);TOOLS_utils.registerComponent({name:"TenK",selector:".TenK",init:function(b){return new a(b)}})})(Bootstrap.jQuery)},
function(M,Y,I){function z(l,c){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||"object"!==typeof c&&"function"!==typeof c?l:c}function m(l,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(l,c):l.__proto__=c)}var n=
I(18);(function(l){var c=l(window),p=function(d){function a(b){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");var f=z(this,d.call(this,b));if(b=f.$el.data("display-condition"))b=b.split(","),f.displayConditions=Array(b.length),b.forEach(function(e,k){f.subscribeDisplayCondition(e,k)});return f}m(a,d);a.prototype.subscribeDisplayCondition=function(b,f){var e=this;c.on("tools:contentUpdated",function(k,h){if("undefined"!=typeof h&&"boolean"==typeof h[b]){e.displayConditions[f]=
h[b];var g=!0;e.displayConditions.forEach(function(q,x){"boolean"==typeof q&&(g&=q)});e.$el.toggleClass("hidden",!g)}})};return a}(n.InteractiveBase);TOOLS_utils.registerComponent({name:"InteractiveContainer",selector:".interactive-container",init:function(d){return new p(d)}})})(Bootstrap.jQuery)},function(M,Y,I){(function(z){var m=function(){function n(l){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this.$el=z(l);this.$introSection=this.$el.parents(".intro-section");
this.updateIntroSection()}n.prototype.updateIntroSection=function(){this.$introSection.addClass("hero-no-image")};return n}();TOOLS_utils.registerComponent({name:"ToolsHeader",selector:".toolsHeader",init:function(n){return new m(n)}})})(Bootstrap.jQuery)},function(M,Y,I){function z(c,p){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!p||"object"!==typeof p&&"function"!==typeof p?c:p}function m(c,p){if("function"!==typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+
typeof p);c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});p&&(Object.setPrototypeOf?Object.setPrototypeOf(c,p):c.__proto__=p)}var n=I(0),l=I(11);(function(c){c(window);var p={fundName:{type:"string",minLength:2,maxLength:100}},d=function(a){function b(f){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var e=z(this,a.call(this,f,p));e.$elem=f;e.$headerIntroduction=c(".main-heading .introduction");e.$headerIntroduction.hide();
e.headerIntroductionOriText=e.$headerIntroduction.text();e.$form=c("form",e.$elem);e.$fundSelectionPart=c(".fund-selection",e.$elem);e.$notesPart=c(".risk-disclosure",e.$elem);e.$notesTitle=c(".risk-disclosure\x3eh2",e.$elem);e.$tablePart=c(".advtable-fundperformance",e.$elem);e.$disclaimerPart=c(".disclaimer",e.$elem);e.$category=c("[name\x3dcategory]",e.$elem);e.$categoryOption=c("[name\x3dcategory]\x3eoption[selected\x3dselected]",e.$elem);e.$date=c("[name\x3ddate]",e.$elem);e.$table=new l.AdvanceTable(e.$elem);
e.$tableTitle=c(".advtable-fundperformance\x3eh2",e.$elem);e.tableTitleOriHtml=e.$tableTitle.html();e.$fundNameInput=c("[name\x3dfundName]",e.$elem);e.$submitButton=c(".submit-button",e.$elem);e.$continueButton=c(".continue-button",e.$elem);e.modelConfig=e.$form.data("model-config");c.extend(!0,e.model,e.modelConfig);e.$withCPDate=c(".with-cp-date",e.$elem);e.oriCPerfHtml=e.$withCPDate.html();e.$withPriceDate=c(".with-price-date",e.$elem);e.oriUPriceHtml=e.$withPriceDate.html();f=e.$form.data("config");
e.bindUiElements();e.bindUiEvents(f);e.changeCategory(f);e.initDate(f);e.TMS.trackView(e.tealiumConfig.startStep);e.curDataForTable=null;e.firstLoad=!1;c(document).ready(function(){setTimeout(function(){window.scrollTo(0,0)},30)});return e}m(b,a);b.prototype.bindUiElements=function(){(0,n.bindLink)(c("[role\x3dlink]",this.$elem));(0,n.bindButton)(c("[role\x3dbutton]",this.$elem));a.prototype.bindUiElements.call(this)};b.prototype.bindUiEvents=function(f){var e=this,k=this;this.$submitButton.on("action",
function(h){if(!k.$submitButton.hasClass("disabled")){h=e.getValue(k.$fundNameInput);var g=k.find1stFundName(h);null!=g&&(c("[mapping-name\x3dmapping-name-"+g+"]:visible")[0].scrollIntoView(!0),window.scrollBy(0,-c("div.header").height()),c("[mapping-name\x3dmapping-name-"+g+"]:visible").find("a:eq(0)").focus());k.TMS.trackEvent({event_category:"tool",event_subcategory:"table",event_action:"search",event_content:k.$category.text()+"-"+k.$date.text()+"-"+h})}});this.$table.bind(".backToTopClick",function(h,
g){c(".advtable-fundperformance")[0].scrollIntoView(!0);window.scrollBy(0,-c("div.header").height())});this.$fundNameInput.on("keydown input change blur",function(h){var g=h.which;g&&13===g&&h.preventDefault();setTimeout(function(){k.validate()?e.getValue(k.$fundNameInput)&&1<e.getValue(k.$fundNameInput).length&&100>=e.getValue(k.$fundNameInput).length&&(null!=k.find1stFundName(e.getValue(k.$fundNameInput))?(k.$submitButton.attr("aria-disabled","false"),k.$submitButton.removeClass("disabled"),k.setStatus(k.$fundNameInput,
"","")):(k.$submitButton.addClass("disabled"),k.$submitButton.attr("aria-disabled","true"),k.setStatus(k.$fundNameInput,"error",e.modelConfig.fundName.badInputError))):(k.$submitButton.addClass("disabled"),k.$submitButton.attr("aria-disabled","true"))},50)});this.$continueButton.on("action",function(h){k.$fundNameInput.val("");k.$submitButton.addClass("disabled");k.$submitButton.attr("aria-disabled","true");k.$continueButton.hasClass("disabled")||(k.toggleRiskDisclosureAndNote(k),k.$headerIntroduction.show(),
k.$fundSelectionPart.show(),k.$fundSelectionPart.attr("aria-hidden","false"),k.$notesPart.show(),k.$notesPart.attr("aria-hidden","false"),k.$tablePart.show(),k.$tablePart.attr("aria-hidden","false"),k.$disclaimerPart.hide(),k.$disclaimerPart.attr("aria-hidden","true"),k.loadTableData(f),k.tealiumConfig.completeStep.event_content=k.$category.text()+" - "+k.$date.text(),k.TMS.trackView(k.tealiumConfig.completeStep),k.$notesTitle.focus(),k.firstLoad=!0,window.scrollTo(0,0))});this.$date.on("change",
function(h){k.firstLoad&&(k.loadTableData(f),k.TMS.trackEvent({event_category:"tool",event_subcategory:"table",event_action:"dropdown",event_content:k.$category.text()+"-"+k.$date.text()}))});this.$category.on("change",function(h){k.validate()&&(k.$fundSelectionPart.hide(),k.$fundSelectionPart.attr("aria-hidden","true"),k.$tablePart.hide(),k.$tablePart.attr("aria-hidden","true"),k.$notesPart.hide(),k.$notesPart.attr("aria-hidden","true"),k.$headerIntroduction.hide(),k.$disclaimerPart.show(),k.$disclaimerPart.attr("aria-hidden",
"false"),k.firstLoad=!1,k.$category.text(),k.toggleRiskDisclosureAndNote(k),k.TMS.trackView(k.tealiumConfig.startStep),window.scrollTo(0,0))})};b.prototype.toggleRiskDisclosureAndNote=function(f){f=f.getValue(f.$category);c(".product-plan-note-bottom[value\x3d"+f+"]").show();c(".product-plan-note-bottom[value!\x3d"+f+"]").hide();"WPLP"==f?(c(".risk-disclosure-note[value\x3dWPLP]").show(),c(".risk-disclosure-note[value\x3dOthers]").hide()):(c(".risk-disclosure-note[value\x3dWPLP]").hide(),c(".risk-disclosure-note[value\x3dOthers]").show())};
b.prototype.validate=function(){return a.prototype.validate.call(this)};b.prototype.initDate=function(f){var e=[],k="",h=this.getValue(this.$category);null!=f&&(f.dataAsCategory.forEach(function(g){g.cateCode==h&&g.dataAsDate.forEach(function(q,x){if(null!=q.priceDateShowInList&&""!=q.priceDateShowInList){var u={};u.value=q.priceDateShowInList;u.text=TOOLS_utils.formatDDMMYYYYDate(q.priceDateShowInList,!0);e.push(u);0==x&&(k=q.priceDateShowInList)}})}),this.$date[0].selectize.clearOptions(),this.$date[0].selectize.addOption(e),
this.$date[0].selectize.setValue(k))};b.prototype.changeCategory=function(f){var e=this;e.$category.on("change",function(){e.initDate(f)})};b.prototype.loadTableData=function(f){var e=this;e.$form.serializeArray();var k=e.getValue(e.$category),h=c("[name\x3dcategory]\x3eoption[selected\x3dselected]",this.$elem).html();null!=h&&""!=h&&(this.$tableTitle.html(h+this.tableTitleOriHtml),null!=this.$headerIntroduction&&void 0!=this.$headerIntroduction&&(h=this.headerIntroductionOriText.replace("{{plan-name-in-header}}",
c("[name\x3dcategory]\x3eoption[selected\x3dselected]",this.$elem).text()),this.$headerIntroduction.text(h)));var g=null,q=null,x=e.getValue(e.$date);if(null!=k&&""!=k&&null!=x&&""!=x){f.dataAsCategory.forEach(function(A){A.cateCode==k&&A.dataAsDate.forEach(function(F){F.priceDateShowInList==x&&(g=F.basedOnDate,q=F.priceDate,e.convertDataWithIndex(F),e.$table.load(F),e.curDataForTable=F)})});f=c(".with-cp-date",this.$elem);h=c(".with-price-date",this.$elem);var u=c(".with-price-date-m",this.$elem),
r=c("td .base-on-date",this.$elem),t=r.html(),y=c("td .unit-price-date",this.$elem),w=y.html();f.html(e.oriCPerfHtml+" "+TOOLS_utils.formatDDMMYYYYDate(g,!0));r.html(t+" "+TOOLS_utils.formatDDMMYYYYDate(g,!0)+" ");h.html(e.oriUPriceHtml+"\x3cbr\x3e"+TOOLS_utils.formatDDMMYYYYDate(q,!0));u.html(e.oriUPriceHtml+" "+e.$form.data("unitpriceprefix")+" "+TOOLS_utils.formatDDMMYYYYDate(q,!0));y.html(w+" "+TOOLS_utils.formatDDMMYYYYDate(q,!0))}};b.prototype.convertDataWithIndex=function(f){var e=this,k=void 0,
h;for(h in f)"children"===h&&(k=f[h],k.forEach(function(g,q){g.unitisedType?g.unitisedTypeIndex=q:g.fundName&&(g.fundNameIndex=q);g.children&&e.convertDataWithIndex(g)}))};b.prototype.formatFundName=function(f,e){var k="";if(e&&0<f.length)k=f;else for(var h=void 0,g=0;g<f.length;g++)if(e=f.charAt(g),"a"<=e&&"z">=e)k+=e,h=e;else if("A"<=e&&"Z">=e)k+=e,h=e;else if(("_"==e||" "==e)&&"_"!=h)e="_",k+=e,h=e;else if("0"<=e&&"9">=e)k+=e,h=e;else if("-"==e)k+=e,h=e;else if("\u00ff"<e&&"\ufe10">e||"\ufe80"<=
e&&"\uff00">e||"\uff66"<=e&&"\uffe0">e)k+=e,h=e;return""==k?null:k};b.prototype.find1stFundName=function(f,e){e=this.curDataForTable;var k=null,h=this.formatFundName(f.trim().toLowerCase(),!0);null!=e&&e.children.some(function(g){return g.children.some(function(q){return-1!=q.fundName.toLowerCase().indexOf(h)?(k=q.fundMappingName,!0):!1})});return k};return b}(n.ToolsBase);TOOLS_utils.registerComponent({name:"FundPerformance",selector:".fundPerformance",init:function(a){return new d(a)}})})(Bootstrap.jQuery)},
function(M,Y,I){function z(n,l){if("function"!==typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);n.prototype=Object.create(l&&l.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});l&&(Object.setPrototypeOf?Object.setPrototypeOf(n,l):n.__proto__=l)}var m=I(0);(function(n){var l={selector:".exchangeRates",config:"[data-config]",exchangeRatesTableMobile:".exchangeRatesTable .non-desktop",exchangeRatesTableDesktop:".exchangeRatesTable .desktop",
exchangeTableHeading:".exchangeTableHeading",exchangeRateContent:".exchangeRateContent",systemError:".system.error"},c=function(p){function d(a){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");var b=p.call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");b=!b||"object"!==typeof b&&"function"!==typeof b?this:b;b.$elem=a;b.$config=n(l.config,b.$elem);b.config=b.$config.data("config");b.$exchangeRatesTableMobile=n(l.exchangeRatesTableMobile,
b.$elem);b.$exchangeRatesTableDesktop=n(l.exchangeRatesTableDesktop,b.$elem);b.$exchangeTableHeading=n(l.exchangeTableHeading,b.$elem);b.$exchangeRateContent=n(l.exchangeRateContent,b.$elem);b.$systemError=n(l.systemError,b.$elem);b.initPage();return b}z(d,p);d.prototype.initPage=function(){var a=this,b=this.config.endpointConfig.url+"/digital-pws-tools-investments-eapi-"+this.config.endpointConfig.space+"-proxy/v1/investments/exchange-rate?locale\x3d"+TOOLS_utils.getLocale();p.prototype.ajax.call(this,
{method:"GET",url:b}).then(function(f){f=JSON.parse(f);a.handleSuccessCallBack(f);a.$currency=n(l.currency,a.$elem)})["catch"](function(f){a.handleErrorCallBack();a.TMS.trackEvent({event_category:"error",event_subcategory:f&&f.status?f.status:"500",event_action:"tool",event_content:a.config.errorMsg})})};d.prototype.createTable=function(a){var b=this;this.$exchangeRateContent.removeClass("hidden");var f=this;this.$exchangeRatesTableDesktop.find("thead,tbody").remove();this.$exchangeRatesTableMobile.find("thead,tbody").remove();
var e=f.config.historyUrl+"?",k="\x3cthead\x3e",h="\x3ctbody\x3e";k+='\x3ctr\x3e\x3cth scope\x3d"col" width\x3d"15%" \x3e'+this.config.currency+"\x3c/th\x3e";k+='\x3cth scope\x3d"col" width\x3d"15%"\x3e'+this.config.telegraphicTransfer+this.config.bankBuy+"\x3c/th\x3e";k+='\x3cth scope\x3d"col" width\x3d"15%"\x3e'+this.config.telegraphicTransfer+this.config.bankSell+"\x3c/th\x3e";k+='\x3cth scope\x3d"col" width\x3d"15%"\x3e'+this.config.bankNotes+this.config.bankBuy+"\x3c/th\x3e";k+='\x3cth scope\x3d"col" width\x3d"15%"\x3e'+
this.config.bankNotes+this.config.bankSell+"\x3c/th\x3e";k+='\x3cth scope\x3d"col" width\x3d"25%"\x3e'+this.config.lastUpdated+"\x3c/th\x3e\x3c/tr\x3e";k+="\x3c/thead\x3e\x3ctbody\x3e";a.detailRates.forEach(function(g,q){var x="0"==g.ttBuyRt&&"0"==g.ttSelRt&&"0"==g.bankBuyRt&&"0"==g.bankSellRt;f.config.notShowCurrencyMap&&f.config.notShowCurrencyMap[g.ccy]||x||(k+="\x3ctr\x3e\x3ctd\x3e"+b.disableHistory(e,g)+"\x3c/td\x3e\x3ctd\x3e"+b.isInvalidData(g.ttBuyRt)+"\x3c/td\x3e\x3ctd\x3e"+b.isInvalidData(g.ttSelRt)+
"\x3c/td\x3e\x3ctd\x3e"+b.isInvalidData(g.bankBuyRt)+"\x3c/td\x3e\x3ctd\x3e"+b.isInvalidData(g.bankSellRt)+"\x3c/td\x3e\x3ctd\x3e"+b.getLastDateBylang(g.lastUpdateDate)+"\x3c/td\x3e\x3c/tr\x3e",h+='\x3ctr\x3e\x3cth scope\x3d"row" \x3e'+b.config.currency+"\x3c/th\x3e\x3ctd\x3e"+b.disableHistory(e,g)+"\x3c/td\x3e\x3c/tr\x3e",h+='\x3ctr\x3e\x3cth scope\x3d"row"\x3e'+b.config.telegraphicTransfer+b.config.bankBuy+"\x3c/th\x3e\x3ctd\x3e"+b.isInvalidData(g.ttBuyRt)+"\x3c/td\x3e\x3c/tr\x3e",h+='\x3ctr\x3e\x3cth scope\x3d"row" \x3e'+
b.config.telegraphicTransfer+b.config.bankSell+"\x3c/th\x3e\x3ctd\x3e"+b.isInvalidData(g.ttSelRt)+"\x3c/td\x3e\x3c/tr\x3e",h+='\x3ctr\x3e\x3cth scope\x3d"row"\x3e'+b.config.bankNotes+b.config.bankBuy+"\x3c/th\x3e\x3ctd\x3e"+b.isInvalidData(g.bankBuyRt)+"\x3c/td\x3e\x3c/tr\x3e",h+='\x3ctr\x3e\x3cth scope\x3d"row"\x3e'+b.config.bankNotes+b.config.bankSell+"\x3c/th\x3e\x3ctd\x3e"+b.isInvalidData(g.bankSellRt)+"\x3c/td\x3e\x3c/tr\x3e",h+='\x3ctr\x3e\x3cth scope\x3d"row" \x3e'+b.config.lastUpdated+"\x3c/th\x3e\x3ctd\x3e"+
b.getLastDateBylang(g.lastUpdateDate)+"\x3c/td\x3e\x3c/tr\x3e",q!==a.detailRates.length-1&&(h+="\x3ctr aria-hidden\x3d'true' tabindex\x3d'-1' class\x3d'hidden-row'\x3e\x3cth\x3e\x3c/th\x3e\x3ctd\x3e\x3c/td\x3e\x3c/tr\x3e"))});k+="\x3c/tbody\x3e";h+="\x3c/tbody\x3e";this.$exchangeRatesTableDesktop.append(k);this.$exchangeRatesTableMobile.append(h)};d.prototype.disableHistory=function(a,b){return this.config.disableHis?b.ccyName:"\x3ca href\x3d"+a+btoa("ccyCode\x3d"+b.ccy)+'\x3e\x3cspan aria-hidden\x3d"true"\x3e'+
b.ccyName+'\x3c/span\x3e\x3cspan class\x3d"visuallyhidden"\x3e'+this.config.view+b.ccyName+this.config.history+"\x3c/span\x3e\x3c/a\x3e"};d.prototype.getLastDateBylang=function(a){if(!a)return this.config.invalid;a=a.split(" ");a=TOOLS_utils.formatDDMMYYYYDate(a[0],!0)+" "+a[1].substring(0,5);var b=this.config.asAt,f=this.config.hkTime;return TOOLS_utils.isEnglishLang()?b+" "+a+' \x3cabbr lang\x3d"en-hk" title\x3d"Hong Kong Time"\x3e'+f+"\x3c/abbr\x3e":b+f+a};d.prototype.isInvalidData=function(a){return""==
a?this.config.invalid:a};d.prototype.handleSuccessCallBack=function(a){this.$systemError.hide();this.createTable(a)};d.prototype.handleErrorCallBack=function(){var a=this;this.$systemError.show();this.$exchangeRateContent.addClass("hidden");this.scope.set("systemError/message",this.config.errorMsg);setTimeout(function(){a.$systemError.focus()},0)};return d}(m.ToolsBase);TOOLS_utils.registerComponent({name:"exchangeRates",selector:l.selector,init:function(p){return new c(p)}})})(Bootstrap.jQuery)},
function(M,Y,I){function z(n,l){if("function"!==typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);n.prototype=Object.create(l&&l.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});l&&(Object.setPrototypeOf?Object.setPrototypeOf(n,l):n.__proto__=l)}var m=I(0);(function(n){var l=function(c){function p(d){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");var a=c.call(this,d);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.$elem=d;a.$config=n("[data-config]",a.$elem);a.config=a.$config.data("config");a.$charts=n(".charts",a.$elem);a.$currencyName=n(".currencyName",a.$elem);a.$currencyList=n(".currencyList select[name\x3dcurrencyList]",a.$elem);a.$historicalChartTableDesktop=n(".historicalChartTable .desktop",a.$elem);a.$historicalChartTableMobile=n(".historicalChartTable .non-desktop",a.$elem);a.$exchangeRateHisContent=n(".exchangeRateHisContent",a.$elem);a.$systemError=
n(".system.error",a.$elem);a.$desktopCaption=n(".desktopCaption",a.$elem);a.$mobileCaption=n("mobileCaption",a.$elem);a.$exchangeRateChartDesc=n("#exchangeRateChartDesc",a.$elem);a.isEnglishLang=TOOLS_utils.isEnglishLang();a.ccyCode=a.getCcyCode();a.bindUiEvents();a.ccyCode?a.$currencyList[0].selectize.options[a.ccyCode]?a.$currencyList[0].selectize.setValue(a.ccyCode):a.$currencyList[0].selectize.setValue(""):""!=a.$currencyList.val()?a.initPage():a.$exchangeRateHisContent.addClass("hidden");return a}
z(p,c);p.prototype.initPage=function(){var d=this,a=this.config.endpointConfig.url+"/digital-pws-tools-investments-eapi-"+this.config.endpointConfig.space+"-proxy/v1/investments/exchange-rate/history?ccy\x3d"+this.$currencyList.val();this.replaceHref();c.prototype.ajax.call(this,{method:"GET",url:a}).then(function(b){b=JSON.parse(b);d.$charts.empty();d.$currencyName.text(d.$currencyList.text());d.createTable(b);"MYR"!=d.$currencyList.val()?(d.$charts.css({height:"400px","padding-bottom":"20px"}),
d.isEnglishLang?d.createChartsLine(d.$currencyList.val(),b):d.createChartsLine(d.$currencyList.text(),b)):d.$charts.css({height:"0px","padding-bottom":"0px"});d.TMS.trackEvent({event_category:"content",event_action:"dropdown",event_content:"select currency:"+d.$currencyList.val().toLowerCase()})})["catch"](function(b){d.handleErrorCallBack();d.TMS.trackEvent({event_category:"error",event_subcategory:b&&b.status?b.status:"500",event_action:"tool",event_content:d.config.errorMsg})})};p.prototype.bindUiEvents=
function(){var d=this;d.$currencyList.on("change",function(){""!=this.value&&(d.$systemError.hide(),d.$currencyName.text(d.$currencyList.text()),d.initPage())})};p.prototype.getCcyCode=function(){try{var d=void 0,a=void 0,b=void 0,f=void 0,e=window.location.href;d=/[\?&]([^&#]*)/;a=d.exec(e);b=null==a?null:a[1];f=null!=b?decodeURIComponent(b.replace(/\+/g,"%20")):null;return atob(f).replace("ccyCode\x3d","")}catch(k){return""}};p.prototype.replaceHref=function(){var d=n(".locale-management a[lang\x3d'zh-cn']").attr("href"),
a=n(".locale-management a[lang\x3d'zh-hk']").attr("href"),b=n(".locale-management a[lang\x3d'en-hk']").attr("href");d&&(d=d.split("?")[0]+"?"+btoa("ccyCode\x3d"+this.$currencyList.val()),n(".locale-management a[lang\x3d'zh-cn']").attr("href",d));a&&(a=a.split("?")[0]+"?"+btoa("ccyCode\x3d"+this.$currencyList.val()),n(".locale-management a[lang\x3d'zh-hk']").attr("href",a));b&&(b=b.split("?")[0]+"?"+btoa("ccyCode\x3d"+this.$currencyList.val()),n(".locale-management a[lang\x3d'en-hk']").attr("href",
b))};p.prototype.handleErrorCallBack=function(){var d=this;this.$exchangeRateHisContent.addClass("hidden");this.$systemError.show();this.scope.set("systemError/message",this.config.errorMsg);setTimeout(function(){d.$systemError.focus()},0)};p.prototype.createTable=function(d){this.$desktopCaption.empty().text(this.$currencyList.text()+this.config.caption);this.$mobileCaption.empty().text(this.$currencyList.text()+this.config.caption);this.$systemError.hide();this.$exchangeRateHisContent.removeClass("hidden");
var a="\x3ctbody\x3e";var b='\x3cthead\x3e\x3ctr\x3e\x3cth scope\x3d"col"\x3e'+(this.config.lastDayClosing+"\x3c/th\x3e");b+='\x3cth scope\x3d"col"\x3e'+this.config.bankSell+"\x3c/th\x3e";b+='\x3cth scope\x3d"col"\x3e'+this.config.bankBuy+"\x3c/th\x3e\x3c/tr\x3e";d=d.detailRateSummary;b=b+"\x3c/thead\x3e\x3ctbody\x3e\x3ctr\x3e\x3ctd\x3e"+(this.getLastDateBylang(d.lastDayClosing)+"\x3c/td\x3e\x3ctd\x3e"+this.getHisDateBylang(d.lastDaySell)+"\x3c/td\x3e\x3ctd\x3e"+this.getHisDateBylang(d.lastDayBuy)+
"\x3c/td\x3e\x3c/tr\x3e");b+="\x3c/tbody\x3e";a+="\x3ctr\x3e\x3cth scope\x3d'row' \x3e"+this.config.lastDayClosing+"\x3c/th\x3e\x3ctd\x3e"+this.getLastDateBylang(d.lastDayClosing)+"\x3c/td\x3e\x3c/tr\x3e";a+="\x3ctr\x3e\x3cth scope\x3d'row' \x3e"+this.config.bankSell+"\x3c/th\x3e\x3ctd\x3e"+this.getHisDateBylang(d.lastDaySell)+"\x3c/td\x3e\x3c/tr\x3e";a+="\x3ctr\x3e\x3cth scope\x3d'row' \x3e"+this.config.bankBuy+"\x3c/th\x3e\x3ctd\x3e"+this.getHisDateBylang(d.lastDayBuy)+"\x3c/td\x3e\x3c/tr\x3e";
this.$historicalChartTableDesktop.find("thead,tbody").remove();this.$historicalChartTableMobile.find("thead,tbody").remove();this.$historicalChartTableDesktop.append(b);this.$historicalChartTableMobile.append(a)};p.prototype.getXAxisDate=function(d){d=d.length-1;var a=Math.floor((d-0)/4);return[0,0+a,2*a,3*a,d]};p.prototype.getYAxisValues=function(d){var a=d[0],b=d[d.length-1],f=(b-a)/5;return[d[0],a+f,a+2*f,a+3*f,a+4*f,b]};p.prototype.createChartsLine=function(d,a){var b=this,f=[],e=[],k=[];a.detailRateHistory.forEach(function(r,
t){f[t]=r.dt.split(" ")[0];e[t]=parseFloat(r.sellRt);e[t]&&k.push(e[t])});k.sort(function(r,t){return r-t});var h=[];f.forEach(function(r,t){h[t]=TOOLS_utils.formatDDMMYYYYDate(r,!0)});a={text:this.getChartsTitleBylang(d)};this.$exchangeRateChartDesc.empty().text(this.getChartsTitleBylang(d));d={text:this.config.chartsDate+this.getChartSubTitle(f)};var g={title:{text:this.config.xAxis},categories:h,gridLineWidth:1};5<h.length&&(g.tickPositions=this.getXAxisDate(h));var q={title:{text:this.config.yAxis},
labels:{formatter:function(){return this.value.toFixed(5)}}};6<k.length&&(q.tickPositions=this.getYAxisValues(k));var x=[{showInLegend:!1,data:e,name:this.config.yAxis}],u={};u.title=a;u.subtitle=d;u.xAxis=g;u.yAxis=q;u.tooltip={enabled:!0,formatter:function(){return"\x3cspan style\x3d'font-size: 10px'\x3e"+this.x+"\x3c/span\x3e\x3cbr\x3e\x3cspan dx\x3d'0'\x3e"+b.config.yAxis+": \x3c/span\x3e\x3cspan style\x3d'font-weight:bold'\x3e"+this.y.toFixed(5)+"\x3c/span\x3e"}};u.series=x;u.credits={enabled:!1};
u.chart={borderWidth:1,borderColor:"rgb(128, 128, 128)",marginRight:45};u.plotOptions={line:{marker:{enabled:!0,radius:.5},color:"#008580",lineWidth:1,states:{hover:{enabled:!0}}}};TOOLS_utils.isEnglishLang()||window.Highcharts.setOptions({lang:{accessibility:{screenReaderRegionLabel:this.config.screenReaderRegionLabel,navigationHint:this.config.navigationHint,structureHeading:this.config.structureHeading,chartHeading:this.config.chartHeading,chartContainerLabel:this.config.chartContainerLabel,chartTypes:{lineSingle:this.config.lineSingle},
axis:{xAxisDescriptionSingular:this.config.xAxisDescriptionSingular,yAxisDescriptionSingular:this.config.yAxisDescriptionSingular}}}});this.$charts.highcharts(u);this.$charts.find("desc").remove()};p.prototype.getChartsTitleBylang=function(d){var a=this.config.chartsTitle;return this.isEnglishLang?a+" ("+d+")":d+a};p.prototype.getHisDateBylang=function(d){return""==d?this.config.invalid:d};p.prototype.getLastDateBylang=function(d){if(!d)return this.config.invalid;var a=d.split(" ");d=TOOLS_utils.formatDDMMYYYYDate(d,
!0);var b=this.config.hkTime;return TOOLS_utils.isEnglishLang()?d+" "+a[1].substring(0,5)+' \x3cabbr lang\x3d"en-hk" title\x3d"Hong Kong Time"\x3e'+b+"\x3c/abbr\x3e":d+" "+a[1].substring(0,5)+" "+b};p.prototype.getChartSubTitle=function(d){return TOOLS_utils.formatDDMMYYYYDate(d[0],!0)+" "+this.config.to+" "+TOOLS_utils.formatDDMMYYYYDate(d[d.length-1],!0)};return p}(m.ToolsBase);TOOLS_utils.registerComponent({name:"ExchangeRatesHistory",selector:".exchangeRatesHistory",init:function(c){return new l(c)}})})(Bootstrap.jQuery)},
function(M,Y,I){function z(n,l){if("function"!==typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);n.prototype=Object.create(l&&l.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});l&&(Object.setPrototypeOf?Object.setPrototypeOf(n,l):n.__proto__=l)}var m=I(0);(function(n){var l=function(c){function p(d){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");var a=c.call(this,d);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.$elem=d;a.$config=n("[data-config]",a.$elem);a.config=a.$config.data("config");a.$currentDeskTable=n(".goldPriceTable .currentDesk",a.$elem);a.$currentMobileTable=n(".goldPriceTable .currentMobile",a.$elem);a.$lastDayDeskTable=n(".goldPriceTable .lastDayDesk",a.$elem);a.$lastDayMobileTable=n(".goldPriceTable .lastDayMobile",a.$elem);a.$charts=n(".charts",a.$elem);a.$systemError=n(".system.error",a.$elem);a.$currentDesktopCaption=n(".currentDesktopCaption",
a.$elem);a.$currentMobileCaption=n(".currentMobileCaption",a.$elem);a.$lastDayDesktopCaption=n(".lastDayDesktopCaption",a.$elem);a.$lastDayMobileCaption=n(".lastDayMobileCaption",a.$elem);a.$goldPriceContent=n(".goldPriceContent",a.$elem);a.isEnglishLang=TOOLS_utils.isEnglishLang();a.endpointConfig=a.config.endpointConfig;a.initPage();return a}z(p,c);p.prototype.initPage=function(){var d=this;c.prototype.ajax.call(this,{method:"GET",url:this.endpointConfig.url+"/digital-pws-tools-investments-eapi-"+
this.endpointConfig.space+"-proxy/v1/investments/gold-rate"}).then(function(a){a=JSON.parse(a);d.handleSuccessCallBack(a)})["catch"](function(a){d.handleErrorCallBack();d.TMS.trackEvent({event_category:"error",event_subcategory:a&&a.status?a.status:"500",event_action:"tool",event_content:d.config.errorMsg})})};p.prototype.createTable=function(d){this.$goldPriceContent.removeClass("hidden");this.$currentDesktopCaption.empty().append(this.config.caption+this.getLastDateBylang(d.lastUpdateTime));this.$currentMobileCaption.empty().append(this.config.caption+
this.getLastDateBylang(d.lastUpdateTime));this.$lastDayDesktopCaption.empty().append(this.config.caption+this.config.lastDayClosing+this.getFormatDateRate(d.lastDayDate));this.$lastDayMobileCaption.empty().append(this.config.caption+this.config.lastDayClosing+this.getFormatDateRate(d.lastDayDate));this.$currentDeskTable.find("thead,tbody").remove();this.$currentMobileTable.find("thead,tbody").remove();this.$lastDayDeskTable.find("thead,tbody").remove();this.$lastDayMobileCaption.find("thead,tbody").remove();
var a="\x3ctbody\x3e";var b='\x3cthead\x3e\x3ctr\x3e\x3cth scope\x3d"col" \x3e'+(this.config.buy+"\x3c/th\x3e");b+='\x3cth scope\x3d"col" \x3e'+this.config.sell+"\x3c/th\x3e";b=b+"\x3c/thead\x3e\x3ctbody\x3e\x3ctr\x3e\x3ctd\x3e"+(this.isInvalidData(d.curBuyRate)+"\x3c/td\x3e\x3ctd\x3e"+this.isInvalidData(d.curSellRate)+"\x3c/td\x3e\x3c/tr\x3e");b+="\x3c/tbody\x3e";a+="\x3ctr\x3e\x3cth scope\x3d'row' \x3e"+this.config.buy+"\x3c/th\x3e\x3ctd\x3e"+this.isInvalidData(d.curBuyRate)+"\x3c/td\x3e\x3c/tr\x3e";
a+="\x3ctr\x3e\x3cth scope\x3d'row' \x3e"+this.config.sell+"\x3c/th\x3e\x3ctd\x3e"+this.isInvalidData(d.curSellRate)+"\x3c/td\x3e\x3c/tr\x3e";a+="\x3c/tbody\x3e";this.$currentDeskTable.append(b);this.$currentMobileTable.append(a);a="\x3ctbody\x3e";b='\x3cthead\x3e\x3cth scope\x3d"col" \x3e'+(this.config.buyRate+"\x3c/th\x3e");b+='\x3cth scope\x3d"col" \x3e'+this.config.sellRate+"\x3c/th\x3e";b=b+"\x3c/thead\x3e\x3ctbody\x3e\x3ctr\x3e\x3ctd\x3e"+(this.isInvalidData(d.lastDayBuy)+"\x3c/td\x3e\x3ctd\x3e"+
this.isInvalidData(d.lastDaySell)+"\x3c/td\x3e\x3c/tr\x3e");b+="\x3c/tbody\x3e";a+="\x3ctr\x3e\x3cth scope\x3d'row' \x3e"+this.config.buyRate+"\x3c/th\x3e\x3ctd\x3e"+this.isInvalidData(d.lastDayBuy)+"\x3c/td\x3e\x3c/tr\x3e";a+="\x3ctr\x3e\x3cth scope\x3d'row' \x3e"+this.config.sellRate+"\x3c/th\x3e\x3ctd\x3e"+this.isInvalidData(d.lastDaySell)+"\x3c/td\x3e\x3c/tr\x3e";a+="\x3c/tbody\x3e";this.$lastDayDeskTable.append(b);this.$lastDayMobileTable.append(a)};p.prototype.isInvalidData=function(d){return""==
d?this.config.invalid:TOOLS_utils.numberWithCommas(d)};p.prototype.getChartsTitleBylang=function(d){var a=this.config.chartsTitle;return this.isEnglishLang?a+" ("+d+")":d+a};p.prototype.getLastDateBylang=function(d){d=d.split(" ");d=TOOLS_utils.formatDDMMYYYYDate(d[0],!0)+" "+d[1].substring(0,5);var a=this.config.asAt,b=this.config.hkTime;return this.isEnglishLang?a+" "+d+' \x3cabbr lang\x3d"en-hk" title\x3d"Hong Kong Time"\x3e'+b+"\x3c/abbr\x3e":a+b+d};p.prototype.getFormatDateRate=function(d){if(!d)return this.config.invalid;
var a=d.split(" ");return TOOLS_utils.isEnglishLang()?this.config.asAt+" "+TOOLS_utils.formatDDMMYYYYDate(d,!0)+" "+a[1].substring(0,5)+' \x3cabbr lang\x3d"en-hk" title\x3d"Hong Kong Time"\x3e'+this.config.hkTime+"\x3c/abbr\x3e":this.config.asAt+this.config.hkTime+TOOLS_utils.formatDDMMYYYYDate(d,!0)+" "+a[1].substring(0,5)};p.prototype.getChartSubTitle=function(d){return TOOLS_utils.formatDDMMYYYYDate(d[0],!0)+" "+this.config.to+" "+TOOLS_utils.formatDDMMYYYYDate(d[d.length-1],!0)};p.prototype.getXAxisDate=
function(d){d=d.length-1;var a=Math.floor((d-0)/4);return[0,0+a,2*a,3*a,d]};p.prototype.getYAxisValues=function(d){var a=d[0],b=d[d.length-1],f=Math.floor((b-a)/5);return[d[0],a+f,a+2*f,a+3*f,a+4*f,b]};p.prototype.createChartsLine=function(d){if(0==d.goldRateHistTbl.length)this.handleErrorCallBack();else{var a=this,b=[],f=[],e=[];d.goldRateHistTbl.forEach(function(r,t){b[t]=r.date.split(" ")[0];f[t]=parseFloat(r.sellRate);f[t]&&e.push(f[t])});e.sort(function(r,t){return r-t});var k=[];b.forEach(function(r,
t){k[t]=TOOLS_utils.formatDDMMYYYYDate(r,!0)});d={text:this.config.chartsTitle};var h={text:this.config.chartsDate+this.getChartSubTitle(b)},g={title:{text:this.config.xAxis},categories:k,gridLineWidth:1};5<k.length&&(g.tickPositions=this.getXAxisDate(k));var q={title:{text:this.config.yAxis},labels:{formatter:function(){return TOOLS_utils.numberWithCommas(this.value)}},gridLineWidth:1};6<e.length&&(q.tickPositions=this.getYAxisValues(e));var x=[{showInLegend:!1,data:f,name:this.config.yAxis}],u=
{};u.title=d;u.subtitle=h;u.xAxis=g;u.yAxis=q;u.tooltip={enabled:!0,formatter:function(){return"\x3cspan style\x3d'font-size: 10px'\x3e"+this.x+"\x3c/span\x3e\x3cbr\x3e\x3cspan dx\x3d'0'\x3e"+a.config.yAxis+": \x3c/span\x3e\x3cspan style\x3d'font-weight:bold'\x3e"+TOOLS_utils.numberWithCommas(this.y)+"\x3c/span\x3e"}};u.series=x;u.credits={enabled:!1};u.chart={borderWidth:1,borderColor:"rgb(128, 128, 128)",marginRight:40};u.plotOptions={line:{marker:{enabled:!0,radius:.5},color:"#008580",lineWidth:1,
states:{hover:{enabled:!0}}}};TOOLS_utils.isEnglishLang()||window.Highcharts.setOptions({lang:{accessibility:{screenReaderRegionLabel:this.config.screenReaderRegionLabel,navigationHint:this.config.navigationHint,structureHeading:this.config.structureHeading,chartHeading:this.config.chartHeading,chartContainerLabel:this.config.chartContainerLabel,chartTypes:{lineSingle:this.config.lineSingle},axis:{xAxisDescriptionSingular:this.config.xAxisDescriptionSingular,yAxisDescriptionSingular:this.config.yAxisDescriptionSingular}}}});
this.$charts.highcharts(u);this.$charts.find("desc").remove()}};p.prototype.handleSuccessCallBack=function(d){this.$systemError.hide();this.createTable(d);this.createChartsLine(d)};p.prototype.handleErrorCallBack=function(){var d=this;this.$systemError.show();this.$goldPriceContent.addClass("hidden");this.scope.set("systemError/message",this.config.errorMsg);setTimeout(function(){d.$systemError.focus()},0)};return p}(m.ToolsBase);TOOLS_utils.registerComponent({name:"goldPrice",selector:".goldPrice",
init:function(c){return new l(c)}})})(Bootstrap.jQuery)},function(M,Y,I){function z(n,l){if("function"!==typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);n.prototype=Object.create(l&&l.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});l&&(Object.setPrototypeOf?Object.setPrototypeOf(n,l):n.__proto__=l)}var m=I(0);(function(n){var l=function(c){function p(d){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");
var a=c.call(this,d);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.$elem=d;a.$config=n("[data-config]",a.$elem);a.config=a.$config.data("config");a.$systemError=n(".system.error",a.$elem);a.$currencyList=n(".currencyList select[name\x3dcurrencyList]",a.$elem);a.$currencyListLabel=n(".currencyList .for-selection span",a.$elem);a.$savingsRemarkCNY=n(".savings-remark-CNY",a.$elem);a.$savingsRemarkHKD=
n(".savings-remark-HKD",a.$elem);a.$depositRemarkCNY=n(".deposit-remark-CNY",a.$elem);a.$remark=n(".remark",a.$elem);a.$savingInterestRatesTableDesktop=n(".savingInterestRatesTable .desktop",a.$elem);a.$savingInterestRatesTableMobile=n(".savingInterestRatesTable .non-desktop",a.$elem);a.$timeDepositeRatesTableDesktop=n(".timeDepositeRatesTable .desktop",a.$elem);a.$timeDepositeRatesTableMobile=n(".timeDepositeRatesTable .non-desktop",a.$elem);a.$savingLastTimeUpdateDesktop=n(".savingInterestRatesTable .desktop .A-PAR16R-RW-ALL",
a.$elem);a.$savingLastTimeUpdateMobile=n(".savingInterestRatesTable .non-desktop .A-PAR16R-RW-ALL",a.$elem);a.$timeDepositeLastTimeUpdateDesktop=n(".timeDepositeRatesTable .desktop .A-PAR16R-RW-ALL",a.$elem);a.$timeDepositeLastTimeUpdateMobile=n(".timeDepositeRatesTable .non-desktop .A-PAR16R-RW-ALL",a.$elem);a.$interestRateContent=n(".interestRateContent",a.$elem);a.tempText="HKD"==a.config.defaultCurrency?"hkd":"CNY"==a.config.defaultCurrency?"rmb":"fx";0<a.$currencyList.length?(a.bindUiEvents(),
a.$currencyList[0].selectize.setValue(a.config.defaultCurrency)):(a.initPage(a.config.defaultCurrency),a.changeSelect(a.config.defaultCurrency));return a}z(p,c);p.prototype.initPage=function(d){var a=this,b=this.config.endpointConfig;c.prototype.ajax.call(this,{method:"GET",url:b.url+"/digital-pws-tools-investments-eapi-"+b.space+"-proxy/v1/investments/interest-rate?ccyCode\x3d"+d}).then(function(f){f=JSON.parse(f);a.handleSuccessCallBack(f);a.TMS.trackEvent({event_category:"tool",event_subcategory:"table",
event_action:"dropdown",event_content:a.tempText+" savings account - "+d})})["catch"](function(f){a.initLoaded=!0;a.handleErrorCallBack();a.TMS.trackEvent({event_category:"error",event_subcategory:f&&f.status?f.status:"500",event_action:"tool",event_content:a.config.errorMsg})})};p.prototype.bindUiEvents=function(){var d=this;d.$currencyList.on("change",function(){d.$remark.addClass("hidden");var a=0<d.$currencyList.length?n(d.$currencyList[0]).val():d.config.currencyCode;d.initPage(a);d.changeSelect(a)})};
p.prototype.changeSelect=function(d){this.$currencyListLabel.text(this.config.currencyLabelList[d]);this.hideAllRemark()};p.prototype.hideAllRemark=function(){this.$depositRemarkCNY.addClass("hidden");this.$savingsRemarkCNY.addClass("hidden");this.$savingsRemarkHKD.addClass("hidden");this.$remark.addClass("hidden")};p.prototype.parseFormatAmt=function(d,a){var b=String(d);d=0<this.$currencyList.length?this.$currencyList.text():this.config.defaultCurrencyName;return b&&null!=b&&"null"!=b?(b=TOOLS_utils.numberWithCommas(b),
/en[-_]hk/i.test(TOOLS_utils.getLocale())?d+b:"HKD"==a?d+b:"CNY"==a?d+b+"\u5143":b+d):this.config.orAbove};p.prototype.createSavingsTable=function(d,a,b){var f=this;this.$interestRateContent.removeClass("hidden");var e="\x3cthead\x3e\x3ctr\x3e";e+='\x3cth scope\x3d"col" \x3e'+this.config.savingTableColumn1+"\x3c/th\x3e";e+='\x3cth scope\x3d"col" \x3e'+this.config.savingTableColumn2+"\x3c/th\x3e\x3c/tr\x3e\x3c/thead\x3e\x3ctbody\x3e";var k="\x3ctbody\x3e";if(d){if(b){var h=this.config.savingsRateUpdatePrefix;
h+=TOOLS_utils.formatDDMMYYYYDate(b,!0);h+=this.config.savingsrateUpdateSuffix;this.$savingLastTimeUpdateDesktop.text(h);this.$savingLastTimeUpdateMobile.text(h)}d&&0<d.length&&d.forEach(function(g,q){var x=g.amtMin,u=null;u=null;q<d.length-1&&(u=d[q+1],u=u.amtMin-1);var r=void 0;g.rateList.forEach(function(t){t&&(r=t.rate)});0===q&&0!==x&&"HKD"===a&&(e+="\x3ctr\x3e\x3ctd\x3e"+f.config.lessThan+f.parseFormatAmt(x,a)+"\x3c/td\x3e",e+="\x3ctd\x3e0.0000 %\x3c/td\x3e",k+="\x3ctr\x3e\x3cth scope\x3d'row'\x3e"+
f.config.savingTableColumn1+"\x3c/th\x3e\x3ctd\x3e"+f.config.lessThan+f.parseFormatAmt(x,a)+"\x3c/td\x3e\x3c/tr\x3e",k+="\x3ctr\x3e\x3cth scope\x3d'row'\x3e"+f.config.savingTableColumn2+"\x3cbr\x3e\x3c/th\x3e\x3ctd\x3e0.0000 %\x3c/td\x3e\x3c/tr\x3e",k+="\x3ctr aria-hidden\x3d'true' tabindex\x3d'-1' class\x3d'hidden-row'\x3e\x3cth\x3e\x3c/th\x3e\x3ctd\x3e\x3c/td\x3e\x3c/tr\x3e");q===d.length-1?(e+="\x3ctr\x3e\x3ctd\x3e"+f.parseFormatAmt(x,a)+f.parseFormatAmt(u,a)+"\x3c/td\x3e",e+="\x3ctd\x3e"+r+" %\x3c/td\x3e",
k+="\x3ctr\x3e\x3cth scope\x3d'row'\x3e"+f.config.savingTableColumn1+"\x3c/th\x3e\x3ctd\x3e"+f.parseFormatAmt(x,a)+f.parseFormatAmt(u,a)+"\x3c/td\x3e\x3c/tr\x3e",k+="\x3ctr\x3e\x3cth scope\x3d'row'\x3e"+f.config.savingTableColumn2+"\x3cbr\x3e\x3c/th\x3e\x3ctd\x3e"+r+"%\x3c/td\x3e\x3c/tr\x3e"):(e+="\x3ctr\x3e\x3ctd\x3e"+f.parseFormatAmt(x,a)+f.config.to+f.parseFormatAmt(u,a)+"\x3c/td\x3e",e+="\x3ctd\x3e"+r+" %\x3c/td\x3e",k+="\x3ctr\x3e\x3cth scope\x3d'row'\x3e"+f.config.savingTableColumn1+"\x3c/th\x3e\x3ctd\x3e"+
f.parseFormatAmt(x,a)+f.config.to+f.parseFormatAmt(u,a)+"\x3c/td\x3e\x3c/tr\x3e",k+="\x3ctr\x3e\x3cth scope\x3d'row'\x3e"+f.config.savingTableColumn2+"\x3cbr\x3e\x3c/th\x3e\x3ctd\x3e"+r+"%\x3c/td\x3e\x3c/tr\x3e",k+="\x3ctr aria-hidden\x3d'true' tabindex\x3d'-1' class\x3d'hidden-row'\x3e\x3cth\x3e\x3c/th\x3e\x3ctd\x3e\x3c/td\x3e\x3c/tr\x3e")})}e+="\x3c/tbody\x3e";k+="\x3c/tbody\x3e";this.$savingInterestRatesTableDesktop.find("thead,tbody").remove();this.$savingInterestRatesTableMobile.find("thead,tbody").remove();
this.$savingInterestRatesTableDesktop.append(e);this.$savingInterestRatesTableMobile.append(k);"HKD"==a?(this.$savingsRemarkHKD.removeClass("hidden"),this.$savingsRemarkCNY.addClass("hidden")):"CNY"==a?(this.$savingsRemarkCNY.removeClass("hidden"),this.$savingsRemarkHKD.addClass("hidden")):(this.$savingsRemarkHKD.addClass("hidden"),this.$savingsRemarkCNY.addClass("hidden"))};p.prototype.createTimeDepositTable=function(d,a,b){var f=this;if(d){if(b){var e=this.config.timeDepositRateUpdatePrefix;e+=
TOOLS_utils.formatDDMMYYYYDate(b,!0);e+=this.config.timeDepositRateUpdateSuffix;this.$timeDepositeLastTimeUpdateDesktop.text(e);this.$timeDepositeLastTimeUpdateMobile.text(e)}var k=this.getMaxSetOfDepositPeriod(d),h=this.getMaxSetOfDepositAmount(d,a);if(k&&h){var g="\x3cthead\x3e\x3ctr\x3e";g+='\x3cth scope\x3d"col" \x3e'+this.config.timeDepositeTableColumn+"\x3c/th\x3e";var q="\x3ctbody\x3e";h.forEach(function(x,u){g+='\x3cth scope\x3d"col" \x3e'+x.depositAmount+"\x3c/th\x3e"});g+="\x3c/tr\x3e\x3c/thead\x3e\x3ctbody\x3e";
k.forEach(function(x,u){var r=x.depositPeriodMin,t=x.depositPeriodUnit;g+="\x3ctr\x3e\x3ctd\x3e"+x.description+"\x3c/td\x3e";q+="\x3ctr\x3e\x3cth scope\x3d'row'\x3e"+f.config.timeDepositeTableColumn+"\x3c/th\x3e\x3ctd\x3e"+x.description+"\x3c/td\x3e\x3c/tr\x3e";x=d.length;for(var y=0;y<x;y++){var w=!1;d[y].rateList.forEach(function(A,F){F=A.rate;var C=A.periodMin;A.periodUnit==t&&r==C&&(w=!0,g+="\x3ctd\x3e"+F+" %\x3c/td\x3e",q+="\x3ctr\x3e\x3cth scope\x3d'row'\x3e"+h[y].depositAmount+"\x3cbr\x3e\x3c/th\x3e\x3ctd\x3e"+
F+" %\x3c/td\x3e\x3c/tr\x3e")});w||(g+='\x3ctd\x3e\x3cspan aria-hidden\x3d"true"\x3e-\x3c/span\x3e\x3cspan class\x3d"visuallyhidden"\x3e'+f.config.invalid+"\x3c/span\x3e\x3c/td\x3e",q+="\x3ctr\x3e\x3cth scope\x3d'row'\x3e"+h[y].depositAmount+"\x3cbr\x3e\x3c/th\x3e\x3ctd\x3e\x3cspan aria-hidden\x3d'true'\x3e-\x3c/span\x3e\x3cspan class\x3d'visuallyhidden'\x3e"+f.config.invalid+"\x3c/span\x3e\x3c/td\x3e\x3c/tr\x3e")}u!==k.length-1&&(q+="\x3ctr aria-hidden\x3d'true' tabindex\x3d'-1' class\x3d'hidden-row'\x3e\x3cth\x3e\x3c/th\x3e\x3ctd\x3e\x3c/td\x3e\x3c/tr\x3e");
g+="\x3c/tr\x3e"});g+="\x3c/tbody\x3e";q+="\x3c/tbody\x3e";this.$timeDepositeRatesTableDesktop.find("thead,tbody").remove();this.$timeDepositeRatesTableMobile.find("thead,tbody").remove();this.$timeDepositeRatesTableDesktop.append(g);this.$timeDepositeRatesTableMobile.append(q);"HKD"==a?this.$depositRemarkCNY.addClass("hidden"):"CNY"==a&&this.$depositRemarkCNY.removeClass("hidden");this.$remark.removeClass("hidden")}}};p.prototype.getMaxSetOfDepositPeriod=function(d){var a=this,b=[];d&&d.forEach(function(f,
e){f=f.rateList;0<f.length&&(b.length=0,f.forEach(function(k,h){h=k.periodUnit;k=k.periodMin;var g="";h&&k&&("D"==h?g=1==k?TOOLS_utils.formatNumber(k)+a.config.day:TOOLS_utils.formatNumber(k)+a.config.days:"W"==h?g=1==k?TOOLS_utils.formatNumber(k)+a.config.week:TOOLS_utils.formatNumber(k)+a.config.weeks:"M"==h&&(g=1==k?TOOLS_utils.formatNumber(k)+a.config.month:TOOLS_utils.formatNumber(k)+a.config.months));b.push({depositPeriodMin:k,depositPeriodUnit:h,description:g})}))});return b};p.prototype.getMaxSetOfDepositAmount=
function(d,a){var b=[];if(d)for(var f=d.length,e=0;e<f;e++){var k=d[e].amtMin;if(e===f-1)k=this.parseFormatAmt(k,a)+"\x3cbr\x3e"+this.config.orAbove;else{var h=d[e+1].amtMin-1;k=this.parseFormatAmt(k,a)+"\x3cbr\x3e"+this.config.to+"\x3cbr\x3e"+this.parseFormatAmt(h,a)}b.push({depositAmount:k})}return b};p.prototype.handleSuccessCallBack=function(d){var a=this;this.$systemError.hide();d&&d.depositRateList&&d.depositRateList.forEach(function(b,f){"S"==b.depositType?a.createSavingsTable(b.depositRate,
d.ccyCode,b.lastUpdateTime):"F"==b.depositType&&a.createTimeDepositTable(b.depositRate,d.ccyCode,b.lastUpdateTime)})};p.prototype.handleErrorCallBack=function(){var d=this;this.$interestRateContent.addClass("hidden");this.hideAllRemark();this.$systemError.show();this.scope.set("systemError/message",this.config.errorMsg);setTimeout(function(){d.$systemError.focus()},0)};return p}(m.ToolsBase);TOOLS_utils.registerComponent({name:"interestRate",selector:".interestRate",init:function(c){return new l(c)}})})(Bootstrap.jQuery)},
function(M,Y,I){function z(l,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(l,c):l.__proto__=c)}var m=I(0),n=I(8);(function(l){var c={desktop:"currentIPO-Desktop",mobile:"currentIPO-Mobile"},p=function(d){function a(b){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");
var f=d.call(this,b);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");f=!f||"object"!==typeof f&&"function"!==typeof f?this:f;f.$elem=b;f.$config=l("[data-config]",f.$elem);f.config=f.$config.data("config");f.$systemError=l(".system.error",f.$elem);f.$heading=l("h2.heading",f.$elem);f.$ipoTableDesktop=l(".ipo_table .desktop",f.$elem);f.$ipoTableMobile=l(".ipo_table .non-desktop",f.$elem);f.$paginationPart=l(".pws-tools-generic-pagination",f.$elem);f.$pagination=
new n.Pagination(f.$paginationPart);f.$paginationHidden=l(".pagination_hidden",f.$elem);f.$applyButton=l(".apply-button",f.$elem);f.$infoButton=l(".info-button",f.$elem);f.initData();f.bindUiEvents();return f}z(a,d);a.prototype.initMustache=function(){var b;for(b in c){var f=c[b];var e=l("#"+f,this.$elem).html();!l.Mustache.has(f)&&e&&(l.Mustache.add(f,e),l("#"+f,this.$elem).remove())}};a.prototype.initData=function(){var b=this;this.initMustache();this.getAPIData(1,function(f){b.$pagination.set(f,
1);b.$pagination.pageWillChange=function(e,k){b.getAPIData(e,k);b.$heading.focus()}})};a.prototype.getAPIData=function(b,f){var e=this;b=this.config.endpointConfig.url+"/digital-pws-tools-ipo-eapi-"+this.config.endpointConfig.space+"-proxy/v1/investment/ipo/current-list?pageNo\x3d"+b+"\x26locale\x3d"+TOOLS_utils.getLocale();d.prototype.ajax.call(this,{method:"GET",url:b}).then(function(k){e.$systemError.hide();k=JSON.parse(k);k.ipos&&0<k.ipos.length?(e.handleTableHtml(k.ipos),k=Math.ceil(k.productCount/
10),1<k&&f&&f(k)):e.handleNoDataTableHtml()})["catch"](function(){e.handleErrorCallBack()})};a.prototype.handleTableHtml=function(b){for(var f=c.desktop,e=c.mobile,k=0;k<b.length;k++){var h=b[k].assetClassCode;"SEC"==b[k].assetClassCode?h=this.config.productTypeSEC?this.config.productTypeSEC:"eIPOStock":"BOND"==b[k].assetClassCode?h=this.config.productTypeBOND?this.config.productTypeBOND:"eIPOBonds":"CD"==b[k].assetClassCode&&(h=this.config.productTypeCD?this.config.productTypeCD:"eIPOCd");b[k].applyLink=
TOOLS_utils.replaceValue(this.config.applyLink,{ipoApp:h,ipoCode:b[k].productCode});b[k].productCodeDisplay=b[k].productCode?b[k].productCode:"\x3cspan aria-hidden\x3d'true'\x3eN/A\x3c/span\x3e\x3cspan class\x3d'visuallyhidden'\x3e"+this.config.dataApplicable+"\x3c/span\x3e"}b[0].firstRow=!0;b={datas:b,config:this.config};this.$ipoTableDesktop.find("tbody").remove();this.$ipoTableMobile.find("tbody").remove();this.$ipoTableDesktop.mustache(f,b);this.$ipoTableMobile.mustache(e,b)};a.prototype.bindUiEvents=
function(){var b=this;(0,m.bindButton)(l("[role\x3dbutton]",this.$elem));this.$ipoTableDesktop.on("click","a.apply-button",function(f){return b.tealiumContent(f,"apply")});this.$ipoTableDesktop.on("click","a.info-button",function(f){return b.tealiumContent(f,"info")});this.$ipoTableMobile.on("click","a.apply-button",function(f){return b.tealiumContent(f,"apply")});this.$ipoTableMobile.on("click","a.info-button",function(f){return b.tealiumContent(f,"info")})};a.prototype.tealiumContent=function(b,
f){this.TMS.trackEvent({event_category:"content",event_action:"button",event_content:f})};a.prototype.handleNoDataTableHtml=function(){this.initMustache();var b=c.desktop,f=c.mobile,e={config:this.config};this.$ipoTableDesktop.find("tbody").remove();this.$ipoTableMobile.find("tbody").remove();this.$ipoTableDesktop.mustache(b,e);this.$ipoTableMobile.mustache(f,e)};a.prototype.handleErrorCallBack=function(){var b=this;this.handleNoDataTableHtml();this.$systemError.show();this.scope.set("current_systemerror/message",
this.config.systemError);setTimeout(function(){b.$systemError.focus()},0)};return a}(m.ToolsBase);TOOLS_utils.registerComponent({name:"ipoCurrentList",selector:".ipoCurrentList",init:function(d){return new p(d)}})})(Bootstrap.jQuery)},function(M,Y,I){function z(n,l){if("function"!==typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);n.prototype=Object.create(l&&l.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});l&&
(Object.setPrototypeOf?Object.setPrototypeOf(n,l):n.__proto__=l)}var m=I(0);(function(n){var l=function(c){function p(d){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");var a=c.call(this,d);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.$elem=d;a.$config=n("[data-config]",a.$elem);a.config=a.$config.data("config");a.$tableDescription=n(".table_description",a.$elem);
a.$detailsCaption=n("caption div",a.$elem);a.$selectApply=n(".select_apply",a.$elem);a.$detailsTable=n("table tbody",a.$elem);a.stocktable=a.config.stocktable;a.bondstable=a.config.bondstable;a.cdtable=a.config.cdtable;a.assetClassCodes=TOOLS_utils.getUrlParam("assetClassCodes");a.ipoCode=TOOLS_utils.getUrlParam("ipoCode");a.fromPage=TOOLS_utils.getUrlParam("fromPage");TOOLS_utils.isEditMode()||TOOLS_utils.isPreviewMode()||(null==a.assetClassCodes||null==a.ipoCode?window.location="historical"==a.fromPage?
a.config.historicalPage:a.config.currentPage:a.getAPIData());a.updateLanguageToggle();a.bindUiEvents();return a}z(p,c);p.prototype.bindUiEvents=function(){var d=this;(0,m.bindButton)(n("[role\x3dbutton]",this.$elem));this.$selectApply.on("action",function(a){a.preventDefault();a=d.assetClassCodes;"SEC"==d.assetClassCodes?a=d.config.productTypeSEC?d.config.productTypeSEC:"eIPOStock":"BOND"==d.assetClassCodes?a=d.config.productTypeBOND?d.config.productTypeBOND:"eIPOBonds":"CD"==d.assetClassCodes&&(a=
d.config.productTypeCD?d.config.productTypeCD:"eIPOCd");a=TOOLS_utils.replaceValue(d.config.applyLink,{ipoApp:a,ipoCode:d.ipoCode});window.open(a,"ipoapp","location\x3dno,resizable\x3dyes,scrollbars\x3dyes").focus();d.TMS.trackEvent({event_category:"content",event_action:"button",event_content:"apply"})})};p.prototype.getAPIData=function(){var d=this,a=this.config.endpointConfig;a=a.url+"/digital-pws-tools-ipo-eapi-"+a.space+"-proxy/v1/investment/ipo/detail?productCode\x3d"+this.ipoCode+"\x26assetClassCodes\x3d"+
this.assetClassCodes+"\x26locale\x3d"+TOOLS_utils.getLocale();c.prototype.ajax.call(this,{method:"GET",url:a}).then(function(b){b=JSON.parse(b);d.handleTableHtml(b)})["catch"](function(b){window.location="historical"==d.fromPage?d.config.historicalPage:d.config.currentPage})};p.prototype.convertSecRow=function(d){var a="",b="",f="",e="",k="";d.currency&&d.offerPriceMin&&d.offerPriceMax&&d.unit&&(b=d.offerPriceMin==d.offerPriceMax?TOOLS_utils.replaceValue(this.stocktable.offerPriceAffix,{currency:this.config.currencyMap[d.currency],
offerPrice:d.offerPriceMin,unit:d.unit}):TOOLS_utils.replaceValue(this.stocktable.offerPriceAffix,{currency:this.config.currencyMap[d.currency],offerPrice:d.offerPriceMin+" - "+d.offerPriceMax,unit:d.unit}));d.nominalCurrency&&d.nominalValue&&d.unit&&(f=TOOLS_utils.replaceValue(this.stocktable.offerPriceAffix,{currency:this.config.currencyMap[d.nominalCurrency],offerPrice:d.nominalValue,unit:d.unit}));d.offerFrom&&d.offerTo&&(e=TOOLS_utils.replaceValue(this.stocktable.offerPeriodAffix,{offerFrom:this.formatDateAndTime(d.offerFrom,
!1),offerTo:this.formatDateAndTime(d.offerTo,!1)}));d.channelOfferFrom&&d.channelOfferTo&&(k=TOOLS_utils.replaceValue(this.stocktable.offerPeriodAffix,{offerFrom:TOOLS_utils.formatDDMMYYYYDate(d.channelOfferFrom.split("T")[0],!1),offerTo:TOOLS_utils.formatDDMMYYYYDate(d.channelOfferTo.split("T")[0],!1)}));a+=this.dataVerification(this.stocktable.stockCode,d.productCode);a+=this.dataVerification(this.stocktable.stockName,d.productName);a+=this.dataVerification(this.stocktable.offerShares,d.offerShares);
a+=this.dataVerification(this.stocktable.offerSharesHK,d.offerSharesHK);a+=this.dataVerification(this.stocktable.offerPrice,b);a+=this.dataVerification(this.stocktable.nominalValue,f);a+=this.dataVerification(this.stocktable.offerPeriod,e);a+=this.dataVerification(this.stocktable.listingDate,TOOLS_utils.formatDDMMYYYYDate(d.listingDate,!1));a+=this.dataVerification(this.stocktable.allotmentDate,TOOLS_utils.formatDDMMYYYYDate(d.allotmentDate,!1));a+=this.dataVerification(this.stocktable.refundDate,
TOOLS_utils.formatDDMMYYYYDate(d.refundDate,!1));a+=this.dataVerification(this.stocktable.servicesApplication,k);for(b=0;b<d.customFields.length;b++)a+=this.dataVerification(d.customFields[b][0],d.customFields[b][1]);d.channelOfferFrom&&d.channelOfferTo&&(a+=this.dataVerification(this.stocktable.remindTitleStock,"\x3cstrong\x3e"+this.stocktable.remindContentStock+"\x3c/strong\x3e"));this.$detailsTable.append(a)};p.prototype.convertBondRow=function(d){var a="",b="",f="",e="",k="";d.currency&&0<d.stockRange.length&&
d.stockRange[0].min&&d.offerPriceMax&&(b=TOOLS_utils.replaceValue(this.bondstable.principalAffix,{currency:this.config.currencyMap[d.currency],stockRangeMin:d.stockRange[0].min,offerPrice:d.offerPriceMax}));d.currency&&d.applicationAmount&&null!=d.handlingFee&&(f=TOOLS_utils.replaceValue(this.bondstable.minApplicationAmount,{currency:this.config.currencyMap[d.currency],applicationAmount:d.applicationAmount,minSubscriptionAmountRatio:d.minSubscriptionAmountRatio,handlingFee:d.handlingFee}));d.offerFrom&&
d.offerTo&&(e=TOOLS_utils.replaceValue(this.bondstable.subPeriodAffixBonds,{offerFrom:this.formatDateAndTime(d.offerFrom,!1),offerTo:this.formatDateAndTime(d.offerTo,!1)}));d.channelOfferFrom&&d.channelOfferTo&&(k=TOOLS_utils.replaceValue(this.bondstable.subPeriodAffixBonds,{offerFrom:TOOLS_utils.formatDDMMYYYYDate(d.channelOfferFrom.split("T")[0],!1),offerTo:TOOLS_utils.formatDDMMYYYYDate(d.channelOfferTo.split("T")[0],!1)}));a+=this.dataVerification(this.bondstable.issueName,d.productName);a+=this.dataVerification(this.bondstable.interestRateBonds,
d.interestRateDescription);d.specialFeatureType&&"C"==d.specialFeatureType?a+=this.dataVerification(this.bondstable.callableBonds,d.specialFeatureDescription):d.specialFeatureType&&"E"==d.specialFeatureType&&(a+=this.dataVerification(this.bondstable.extensionBonds,d.specialFeatureDescription));a+=this.dataVerification(this.bondstable.maturityDateBonds,TOOLS_utils.formatDDMMYYYYDate(d.maturityDate,!1));a+=this.dataVerification(this.bondstable.principalAmount,b);a+=this.dataVerification(this.bondstable.minApplicationBonds,
f);a+=this.dataVerification(this.bondstable.subPeriodBonds,e);a+=this.dataVerification(this.bondstable.priceFixingDate,TOOLS_utils.formatDDMMYYYYDate(d.priceFixingDate,!1));a+=this.dataVerification(this.bondstable.issueDateBonds,TOOLS_utils.formatDDMMYYYYDate(d.issueDate,!1));a+=this.dataVerification(this.bondstable.subPeriodViaBonds,k);for(b=0;b<d.customFields.length;b++)a+=this.dataVerification(d.customFields[b][0],d.customFields[b][1]);d.channelOfferFrom&&d.channelOfferTo&&(a+=this.dataVerification(this.bondstable.remindTitleBond,
"\x3cstrong\x3e"+this.bondstable.remindContentBond+"\x3c/strong\x3e"));this.$detailsTable.append(a)};p.prototype.convertCdRow=function(d){var a="",b="",f="",e="",k="";d.currency&&d.offerPriceMax&&(b=TOOLS_utils.replaceValue(this.cdtable.denominationAffix,{currency:this.config.currencyMap[d.currency],offerPrice:d.offerPriceMax}));d.currency&&d.applicationAmount&&(f=TOOLS_utils.replaceValue(this.cdtable.denominationAffix,{currency:this.config.currencyMap[d.currency],offerPrice:d.applicationAmount}));
d.offerFrom&&d.offerTo&&(e=TOOLS_utils.replaceValue(this.cdtable.subPeriodAffixCD,{offerFrom:this.formatDateAndTime(d.offerFrom,!1),offerTo:this.formatDateAndTime(d.offerTo,!1)}));d.channelOfferFrom&&d.channelOfferTo&&(k=TOOLS_utils.replaceValue(this.cdtable.subPeriodAffixCD,{offerFrom:TOOLS_utils.formatDDMMYYYYDate(d.channelOfferFrom.split("T")[0],!1),offerTo:TOOLS_utils.formatDDMMYYYYDate(d.channelOfferTo.split("T")[0],!1)}));a+=this.dataVerification(this.cdtable.trancheName,d.productName);a+=this.dataVerification(this.cdtable.interestRateCD,
d.interestRateDescription);d.specialFeatureType&&"C"==d.specialFeatureType?a+=this.dataVerification(this.cdtable.callableCD,d.specialFeatureDescription):d.specialFeatureType&&"E"==d.specialFeatureType&&(a+=this.dataVerification(this.cdtable.extensionCD,d.specialFeatureDescription));a+=this.dataVerification(this.cdtable.maturityDateCD,TOOLS_utils.formatDDMMYYYYDate(d.maturityDate,!1));a+=this.dataVerification(this.cdtable.CDDenomination,b);a+=this.dataVerification(this.cdtable.minApplicationCD,f);
a+=this.dataVerification(this.cdtable.subPeriodCD,e);a+=this.dataVerification(this.cdtable.issueDateCD,TOOLS_utils.formatDDMMYYYYDate(d.issueDate,!1));a+=this.dataVerification(this.cdtable.subPeriodViaCD,k);for(b=0;b<d.customFields.length;b++)a+=this.dataVerification(d.customFields[b][0],d.customFields[b][1]);d.channelOfferFrom&&d.channelOfferTo&&(a+=this.dataVerification(this.cdtable.remindTitleCD,"\x3cstrong\x3e"+this.cdtable.remindContentCD+"\x3c/strong\x3e"));this.$detailsTable.append(a)};p.prototype.handleTableHtml=
function(d){this.$detailsCaption.append(d.productName);"SEC"==d.assetClassCode?this.convertSecRow(d):"BOND"==d.assetClassCode?this.convertBondRow(d):"CD"==d.assetClassCode&&this.convertCdRow(d);d.apply?(this.$selectApply.show(),this.$selectApply.find("span.visuallyhidden").text(d.productCode)):this.$selectApply.hide();this.handleDetailDesc(d.headType,d.assetClassCode,d.headLoanRatio?d.headLoanRatio:"")};p.prototype.handleDetailDesc=function(d,a,b){if(d&&"A"==d)"SEC"==a?this.$tableDescription.append(this.config.ipoClosedStock):
this.$tableDescription.append(this.config.ipoClosed);else if(d&&"B"==d)this.$tableDescription.append(TOOLS_utils.replaceValue(this.config.ipoAmount,{loanRatio:b}));else if(d&&"C"==d)this.$tableDescription.append(this.config.ipoService);else return;this.$tableDescription.show()};p.prototype.dataVerification=function(d,a){return a&&""!=a?"\x3ctr\x3e\x3cth scope\x3d'row'\x3e"+d+"\x3c/th\x3e\x3ctd\x3e"+a+"\x3c/td\x3e\x3c/tr\x3e":""};p.prototype.formatDateAndTime=function(d,a){d=d.split("T");return TOOLS_utils.formatDDMMYYYYDate(d[0],
!1)+" "+d[1].substring(0,5)};p.prototype.updateLanguageToggle=function(){var d=n(".locale-management a[lang\x3d'zh-cn']").attr("href"),a=n(".locale-management a[lang\x3d'zh-hk']").attr("href"),b=n(".locale-management a[lang\x3d'en-hk']").attr("href");d&&(d=d.split("?")[0]+location.search,n(".locale-management a[lang\x3d'zh-cn']").attr("href",d));a&&(a=a.split("?")[0]+location.search,n(".locale-management a[lang\x3d'zh-hk']").attr("href",a));b&&(b=b.split("?")[0]+location.search,n(".locale-management a[lang\x3d'en-hk']").attr("href",
b))};return p}(m.ToolsBase);TOOLS_utils.registerComponent({name:"ipoDetails",selector:".ipoDetails",init:function(c){return new l(c)}})})(Bootstrap.jQuery)},function(M,Y,I){function z(l,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(l,c):l.__proto__=c)}var m=I(0),n=
I(8);(function(l){var c={desktop:"historicalIPO-Desktop",mobile:"historicalIPO-Mobile"},p=function(d){function a(b){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");var f=d.call(this,b);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");f=!f||"object"!==typeof f&&"function"!==typeof f?this:f;f.$elem=b;f.$config=l("[data-config]",f.$elem);f.config=f.$config.data("config");f.$systemError=l(".system.error",f.$elem);f.$heading=
l("h2.heading",f.$elem);f.$ipoTableDesktop=l(".ipo_table .desktop",f.$elem);f.$ipoTableMobile=l(".ipo_table .non-desktop",f.$elem);f.$paginationPart=l(".pws-tools-generic-pagination",f.$elem);f.$pagination=new n.Pagination(f.$paginationPart);f.$paginationHidden=l(".pagination_hidden",f.$elem);f.$applyButton=l(".apply-button",f.$elem);f.initData();f.bindUIEvents();return f}z(a,d);a.prototype.initMustache=function(){var b;for(b in c){var f=c[b];var e=l("#"+f,this.$elem).html();!l.Mustache.has(f)&&e&&
(l.Mustache.add(f,e),l("#"+f,this.$elem).remove())}};a.prototype.initData=function(){var b=this;this.initMustache();this.getAPIData(1,function(f){b.$pagination.set(f,1);b.$pagination.pageWillChange=function(e,k){b.getAPIData(e,k);b.$heading.focus()}})};a.prototype.getAPIData=function(b,f){var e=this;b=this.config.endpointConfig.url+"/digital-pws-tools-ipo-eapi-"+this.config.endpointConfig.space+"-proxy/v1/investment/ipo/historical-list?pageNo\x3d"+b+"\x26locale\x3d"+TOOLS_utils.getLocale();d.prototype.ajax.call(this,
{method:"GET",url:b}).then(function(k){e.$systemError.hide();k=JSON.parse(k);k.ipos&&0<k.ipos.length?(e.handleTableHtml(k.ipos),k=Math.ceil(k.productCount/10),1<k&&f&&f(k)):e.handleNoDataTableHtml()})["catch"](function(){e.handleErrorCallBack()})};a.prototype.handleTableHtml=function(b){for(var f=c.desktop,e=c.mobile,k=0;k<b.length;k++)b[k].productCodeDisplay=b[k].productCode?b[k].productCode:"\x3cspan aria-hidden\x3d'true'\x3eN/A\x3c/span\x3e\x3cspan class\x3d'visuallyhidden'\x3e"+this.config.dataApplicable+
"\x3c/span\x3e",b[k].listingDate=b[k].listingDate?b[k].listingDate.replace(/-/g,"/"):"\x3cspan aria-hidden\x3d'true'\x3e--\x3c/span\x3e\x3cspan class\x3d'visuallyhidden'\x3e"+this.config.dataApplicable+"\x3c/span\x3e",b[k].offerPrice=b[k].offerPrice?b[k].offerPrice:"\x3cspan aria-hidden\x3d'true'\x3e--\x3c/span\x3e\x3cspan class\x3d'visuallyhidden'\x3e"+this.config.dataApplicable+"\x3c/span\x3e",b[k].delayQuote=b[k].delayQuote?b[k].delayQuote:"\x3cspan aria-hidden\x3d'true'\x3e--\x3c/span\x3e\x3cspan class\x3d'visuallyhidden'\x3e"+
this.config.dataApplicable+"\x3c/span\x3e";b[0].firstRow=!0;b={datas:b,config:this.config};this.$ipoTableDesktop.find("tbody").remove();this.$ipoTableMobile.find("tbody").remove();this.$ipoTableDesktop.mustache(f,b);this.$ipoTableMobile.mustache(e,b)};a.prototype.bindUIEvents=function(){var b=this;(0,m.bindButton)(l("[role\x3dbutton]",this.$elem));this.$ipoTableDesktop.on("click","a.info-button",function(f){return b.tealiumContent(f)});this.$ipoTableMobile.on("click","a.info-button",function(f){return b.tealiumContent(f)})};
a.prototype.tealiumContent=function(b){this.TMS.trackEvent({event_category:"content",event_action:"button",event_content:"info"})};a.prototype.handleNoDataTableHtml=function(){this.initMustache();var b=c.desktop,f=c.mobile,e={config:this.config};this.$ipoTableDesktop.find("tbody").remove();this.$ipoTableMobile.find("tbody").remove();this.$ipoTableDesktop.mustache(b,e);this.$ipoTableMobile.mustache(f,e)};a.prototype.handleErrorCallBack=function(){var b=this;this.handleNoDataTableHtml();this.$systemError.show();
this.scope.set("historical_systemError/message",this.config.systemError);setTimeout(function(){b.$systemError.focus()},0)};return a}(m.ToolsBase);TOOLS_utils.registerComponent({name:"ipoHistoricalList",selector:".ipoHistoricalList",init:function(d){return new p(d)}})})(Bootstrap.jQuery)},function(M,Y,I){function z(l,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,
enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(l,c):l.__proto__=c)}var m=I(0),n=I(3);I(7);I(4);(function(l){var c=l(window),p={permanentResident:{type:"selection",required:!0,pattern:"Yes"},above18:{type:"selection",required:!0,pattern:"Yes"},existingCustomer:{type:"selection",required:!0,pattern:"Yes"},noBankruptcy:{type:"selection",required:!0,pattern:"Yes"},employedBefore:{type:"selection",required:!0,pattern:"Yes"},unemployedNow:{type:"selection",
required:!0,pattern:"Yes"},currentlyUnemployed:{type:"selection",required:!0,pattern:"Yes"},lostIncome:{type:"selection",required:!0,pattern:"Yes"},noOtherFacilities:{type:"selection",required:!0},noSoleProprietor:{type:"selection",required:!0,pattern:"Yes"},noThirdPartyFee:{type:"selection",required:!0,pattern:"Yes"},title:{required:!0},name:{type:"string",required:!0,maxLength:45,pattern:"[-'A-Za-z ]+"},hkid:{type:"string",required:!0},hkid_hkid:{type:"string",maxLength:8,pattern:"[A-Za-z]{1,2}[0-9]*"},
hkid_checkDigit:{type:"string",maxLength:1,pattern:"[Aa0-9]"},hsbcPayroll:{type:"selection",required:!0},district:{required:!0},occupationNature:{required:!0},businessNature:{required:!0},unemployedSince:{type:"string",required:!0,maxLength:7,pattern:"^[0-9]{4}\\/(0?[1-9]|1[0-2])$"},lossIncomeSince:{type:"string",required:!0,maxLength:7,pattern:"^[0-9]{4}\\/(0?[1-9]|1[0-2])$"},month1:{type:"string",required:!0,maxLength:7,pattern:"^[0-9]{4}\\/(0?[1-9]|1[0-2])$"},income1:{type:"string",required:!0,
maxLength:7,pattern:"^[1-9][0-9]*$"},month2:{type:"string",required:!0,maxLength:7,pattern:"^[0-9]{4}\\/(0?[1-9]|1[0-2])$"},income2:{type:"string",required:!0,maxLength:7,pattern:"^[1-9][0-9]*$"},month3:{type:"string",required:!0,maxLength:7,pattern:"^[0-9]{4}\\/(0?[1-9]|1[0-2])$"},income3:{type:"string",required:!0,maxLength:7,pattern:"^[1-9][0-9]*$"},latestEmployerName:{type:"string",required:!0,maxLength:45,pattern:"[-'A-Za-z ]+"},latestEmployerTel:{type:"string",required:!0,minLength:8,maxLength:8,
pattern:"[0-9]+"},reducedIncomeMonth1:{type:"string",maxLength:7,pattern:"^[0-9]{4}\\/(0?[1-9]|1[0-2])$"},reducedIncomeAmount1:{type:"string",maxLength:7,pattern:"^[1-9][0-9]*$"},reducedIncomeMonth2:{type:"string",maxLength:7,pattern:"^[0-9]{4}\\/(0?[1-9]|1[0-2])$"},reducedIncomeAmount2:{type:"string",maxLength:7,pattern:"^[1-9][0-9]*$"},currentEmployerName:{type:"string",maxLength:45,pattern:"[-'A-Za-z ]+"},currentEmployerTel:{type:"string",minLength:8,maxLength:8,pattern:"[0-9]+"},loanAmount:{type:"string",
required:!0,maxLength:6,pattern:"[0-9]+"},principalRepayment:{type:"selection",required:!0},repaymentAccount:{type:"string",required:!0,maxLength:13,minLength:10,pattern:"^[0-9]{0,12}$"},additionalDeclaration:{type:"string",maxLength:3E3,pattern:"^[\\w~!@#$%^\x26amp;*()+`\\-\x3d\\[\\]\\;'|,./{}\\\\:\"?\\s\\r\\n]*$"},terms:{type:"checkbox",required:!0}},d=function(a){function b(f){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");"In-bound Credit-by-Phone"==l("[data-config]",
f).data("config").channel&&(p.salesStaffID={type:"string",minLength:8,maxLength:8,pattern:"^[0-9]+$",required:!0});var e=a.call(this,f,p);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");e=!e||"object"!==typeof e&&"function"!==typeof e?this:e;e.$elem=f;e.$config=l("[data-config]",e.$elem);e.$hkid=l(".hkid",e.$elem);e.$submitButton=l(".submit-button",e.$elem);e.$printButton=l(".print-button",e.$elem);e.$systemError=l(".system.error",e.$elem);e.$step1=l(".step-1",
e.$elem);e.$step2=l(".step-2",e.$elem);e.$repaymentAccount=l("[name\x3drepaymentAccount]",e.$elem);e.$title=l("[name\x3dtitle]",e.$elem);e.$name=l("[name\x3dname]",e.$elem);e.$district=l("[name\x3ddistrict]",e.$elem);e.$occupationNature=l("[name\x3doccupationNature]",e.$elem);e.$businessNature=l("[name\x3dbusinessNature]",e.$elem);e.$unemployedSince=l("[name\x3dunemployedSince]",e.$elem);e.$successMgs=l(".message.success",e.$elem);e.config=e.$config.data("config");e.channel=e.config.channel;l.extend(!0,
p,e.config.dataModel);e.bindUiElements();e.bindUiEvents();e.TMS.trackView(e.tealiumConfig.startStep);return e}z(b,a);b.prototype.bindUiElements=function(){var f=this;(0,m.bindLink)(l("[role\x3dlink]",this.$elem));(0,m.bindButton)(l("[role\x3dbutton]",this.$elem));this.$hkid.each(function(h,g){f.registerInput(new n.HKID(g))});var e=[],k="permanentResident above18 existingCustomer noBankruptcy employedBefore unemployedNow currentlyUnemployed lostIncome noOtherFacilities noSoleProprietor noThirdPartyFee title name hkid hsbcPayroll district occupationNature businessNature unemployedSince lossIncomeSince month1 income1 month2 income2 month3 income3 latestEmployerName latestEmployerName reducedIncomeMonth1 reducedIncomeAmount1 reducedIncomeMonth2 reducedIncomeAmount2 currentEmployerName currentEmployerTel loanAmount principalRepayment repaymentAccount additionalDeclaration terms".split(" ");
"In-bound Credit-by-Phone"==this.channel&&k.push("salesStaffID");k.forEach(function(h){var g=l('[name \x3d "'+h+'"]',f.$elem);h=g.is("select")?g.attr("id")+"_"+h+"/valid":h+"/valid";g.length&&e.push(h)});c.on("tools:contentUpdated",function(h,g){h=!1;for(var q in g)if(-1!=e.indexOf(q)){h=!0;break}if(h){var x=!0;e.some(function(u){x&=f.scope.get(u);if(!x)return!0});f.$submitButton.toggleClass("disabled",!x);f.$submitButton.attr("aria-disabled",(!x).toString());f.$submitButton.find("span.visuallyhidden").attr("aria-hidden",
(!!x).toString())}});a.prototype.bindUiElements.call(this)};b.prototype.bindUiEvents=function(){var f=this;this.$repaymentAccount.on("keydown input change blur",function(){var e=f.getValue(f.$repaymentAccount);e&&10<=e.length&&12>=e.length&&setTimeout(function(){var k=f.$repaymentAccount.closest("[data-validation-status]").data("validation-status")||"error",h=f.isValidCurrentCheckDigit(e),g=f.isValidSavingsCheckDigit(e);h||g?f.setStatus(f.$repaymentAccount,"",""):f.setStatus(f.$repaymentAccount,k,
f.config.dataModel.repaymentAccount.patternMismatchError)},50)});this.$submitButton.on("action",function(){f.TMS.trackEvent({event_category:"content",event_action:"button",event_content:"submit"});if(f.validate()){var e={formType:"New Application",supportingDocuments:"Yes",permanentResident:f.scope.get("permanentResident"),above18:f.scope.get("above18"),existingCustomer:f.scope.get("existingCustomer"),noBankruptcy:f.scope.get("noBankruptcy"),employedBefore:f.scope.get("employedBefore"),unemployedNow:f.scope.get("unemployedNow"),
currentlyUnemployed:f.scope.get("currentlyUnemployed"),lostIncome:f.scope.get("lostIncome"),noOtherFacilities:f.scope.get("noOtherFacilities"),noSoleProprietor:f.scope.get("noSoleProprietor"),noThirdPartyFee:f.scope.get("noThirdPartyFee"),title:f.getValue(f.$title),name:f.getValue(f.$name),hkid:f.scope.get("hkid"),hsbcPayroll:f.scope.get("hsbcPayroll"),district:f.getValue(f.$district),occupationNature:f.getValue(f.$occupationNature),businessNature:f.getValue(f.$businessNature),unemployedSince:f.getValue(f.$unemployedSince),
lossIncomeSince:f.scope.get("lossIncomeSince"),month1:f.scope.get("month1"),income1:f.scope.get("income1"),month2:f.scope.get("month2"),income2:f.scope.get("income2"),month3:f.scope.get("month3"),income3:f.scope.get("income3"),latestEmployerName:f.scope.get("latestEmployerName"),latestEmployerTel:f.scope.get("latestEmployerTel"),reducedIncomeMonth1:f.scope.get("reducedIncomeMonth1"),reducedIncomeAmount1:f.scope.get("reducedIncomeAmount1"),reducedIncomeMonth2:f.scope.get("reducedIncomeMonth2"),reducedIncomeAmount2:f.scope.get("reducedIncomeAmount2"),
currentEmployerName:f.scope.get("currentEmployerName"),currentEmployerTel:f.scope.get("currentEmployerTel"),loanAmount:f.scope.get("loanAmount"),principalRepayment:f.scope.get("principalRepayment"),repaymentAccount:f.scope.get("repaymentAccount"),additionalDeclaration:f.scope.get("additionalDeclaration"),terms:f.scope.get("terms"),token:"null",channel:f.channel};"In-bound Credit-by-Phone"==f.channel&&(e.salesStaffID=f.scope.get("salesStaffID"));f.config.enableRecaptcha?(window.onSubmit=function(k){e.token=
k;f.submit(e)},grecaptcha.execute()):f.submit(e)}});this.$printButton.on("action",function(e){try{window.scrollTo(0,0),document.execCommand("print",!1,"")||window.print()}catch(k){window.print()}})};b.prototype.validate=function(){return a.prototype.validate.call(this)};b.prototype.submit=function(f){var e=this;if(!this.submitted){this.submitted=!0;this.scope.set("systemError/message","");this.$submitButton.addClass("disabled");this.$submitButton.addClass("loading");var k=this.config.endpointConfig;
a.prototype.ajax.call(this,{method:"POST",url:k.url+"/digital-pws-tools-plgs-papi-"+k.space+"-proxy/v1/plgs/submit",json:JSON.stringify(f)}).then(function(h){h&&(h=JSON.parse(h),h.recaptchaSuccess&&h.refNo?(l(".review-data").text(h.refNo),l(".current-step",e.$elem).removeClass("current-step"),e.$step2.addClass("current-step"),e.$successMgs.focus(),e.scrollTo(e.$successMgs[0],10),e.TMS.trackView(e.tealiumConfig.completeStep)):0==h.recaptchaSuccess&&(l(".current-step",e.$elem).removeClass("current-step"),
e.$step1.addClass("current-step"),e.scope.set("systemError/message",e.config.recaptchaError),setTimeout(function(){e.$systemError.focus()},0),grecaptcha.reset(),e.TMS.trackEvent({event_category:"error",event_subcategory:"400",event_action:"application",event_content:e.config.recaptchaError})))})["catch"](function(h){e.config.enableRecaptcha&&grecaptcha.reset();l(".current-step",e.$elem).removeClass("current-step");e.$step1.addClass("current-step");e.scope.set("systemError/message",e.config.systemError);
setTimeout(function(){e.$systemError.focus()},0);e.TMS.trackEvent({event_category:"error",event_subcategory:h&&h.status?h.status:"500",event_action:"application",event_content:e.config.systemError})}).then(function(){e.submitted=!1;e.$submitButton.removeClass("disabled");e.$submitButton.removeClass("loading")})}};b.prototype.isValidCurrentCheckDigit=function(f){var e=[1,2,1,2,1,2,1,2],k;var h=!1;if(f&&12!=f.length)return h;var g=parseInt(f.substring(8,9));for(h=k=0;8>h;h++){var q=parseInt(f.substring(h,
h+1));q*=e[h];10<=q&&(q=1+q%10);k+=q}return g==(100-k)%10};b.prototype.isValidSavingsCheckDigit=function(f){var e=[2,1,2,2,1,2,1,2,1],k,h;var g=!1;if(f&&10!=f.length)return g;var q=parseInt(f.substring(3,4));for(g=h=k=0;10>g;g++)if(3!=g){var x=parseInt(f.substring(g,g+1));x*=e[k];10<=x&&(x=1+x%10);h+=x;k++}return q==(100-h)%10};return b}(m.ToolsBase);TOOLS_utils.registerComponent({name:"PLGS",selector:".PLGS",init:function(a){return new d(a)}})})(Bootstrap.jQuery)},function(M,Y,I){function z(l,c){if("function"!==
typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(l,c):l.__proto__=c)}var m=I(0),n=I(3);I(7);I(4);(function(l){var c=l(window),p={permanentResident:{type:"selection",required:!0,pattern:"Yes"},above18:{type:"selection",required:!0,pattern:"Yes"},existingCustomer:{type:"selection",required:!0,
pattern:"Yes"},noBankruptcy:{type:"selection",required:!0,pattern:"Yes"},employedBefore:{type:"selection",required:!0,pattern:"Yes"},unemployedNow:{type:"selection",required:!0,pattern:"Yes"},currentlyUnemployed:{type:"selection",required:!0,pattern:"Yes"},lostIncome:{type:"selection",required:!0,pattern:"Yes"},noOtherFacilities:{type:"selection",required:!0},noSoleProprietor:{type:"selection",required:!0,pattern:"Yes"},noThirdPartyFee:{type:"selection",required:!0,pattern:"Yes"},supportingDocuments:{type:"selection",
required:!0,selected:"No"},title:{required:!0},name:{type:"string",required:!0,maxLength:45,pattern:"[-'A-Za-z ]+"},hkid:{type:"string",required:!0},hkid_hkid:{type:"string",maxLength:8,pattern:"[A-Za-z]{1,2}[0-9]*"},hkid_checkDigit:{type:"string",maxLength:1,pattern:"[Aa0-9]"},hsbcPayroll:{type:"selection",required:!0},district:{required:!0},occupationNature:{required:!0},businessNature:{required:!0},unemployedSince:{type:"string",required:!0,maxLength:7,pattern:"^[0-9]{4}\\/(0?[1-9]|1[0-2])$"},
lossIncomeSince:{type:"string",required:!0,maxLength:7,pattern:"^[0-9]{4}\\/(0?[1-9]|1[0-2])$"},month1:{type:"string",required:!0,maxLength:7,pattern:"^[0-9]{4}\\/(0?[1-9]|1[0-2])$"},income1:{type:"string",required:!0,maxLength:7,pattern:"^[1-9][0-9]*$"},month2:{type:"string",required:!0,maxLength:7,pattern:"^[0-9]{4}\\/(0?[1-9]|1[0-2])$"},income2:{type:"string",required:!0,maxLength:7,pattern:"^[1-9][0-9]*$"},month3:{type:"string",required:!0,maxLength:7,pattern:"^[0-9]{4}\\/(0?[1-9]|1[0-2])$"},
income3:{type:"string",required:!0,maxLength:7,pattern:"^[1-9][0-9]*$"},latestEmployerName:{type:"string",required:!0,maxLength:45,pattern:"[-'A-Za-z ]+"},latestEmployerTel:{type:"string",required:!0,minLength:8,maxLength:8,pattern:"[0-9]+"},reducedIncomeMonth1:{type:"string",maxLength:7,pattern:"^[0-9]{4}\\/(0?[1-9]|1[0-2])$"},reducedIncomeAmount1:{type:"string",maxLength:7,pattern:"^[1-9][0-9]*$"},reducedIncomeMonth2:{type:"string",maxLength:7,pattern:"^[0-9]{4}\\/(0?[1-9]|1[0-2])$"},reducedIncomeAmount2:{type:"string",
maxLength:7,pattern:"^[1-9][0-9]*$"},currentEmployerName:{type:"string",maxLength:45,pattern:"[-'A-Za-z ]+"},currentEmployerTel:{type:"string",minLength:8,maxLength:8,pattern:"[0-9]+"},loanAmount:{type:"string",required:!0,maxLength:6,pattern:"[0-9]+"},principalRepayment:{type:"selection",required:!0},repaymentAccount:{type:"string",required:!0,maxLength:13,minLength:10,pattern:"^[0-9]{0,12}$"},additionalDeclaration:{type:"string",maxLength:3E3,pattern:"^[\\w~!@#$%^\x26amp;*()+`\\-\x3d\\[\\]\\;'|,./{}\\\\:\"?\\s\\r\\n]*$"},
terms:{type:"checkbox",required:!0}},d={supportingDocuments:["supportingDocuments \x3d\x3d 'Yes'","supportingDocuments \x3d\x3d 'No'"]},a={"supportingDocuments \x3d\x3d 'Yes'":function(f){return"Yes"==f},"supportingDocuments \x3d\x3d 'No'":function(f){return"No"==f}},b=function(f){function e(k){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");"In-bound Credit-by-Phone"==l("[data-config]",k).data("config").channel&&(p.salesStaffID={type:"string",minLength:8,maxLength:8,
pattern:"^[0-9]+$",required:!0});var h=f.call(this,k,p,d,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");h=!h||"object"!==typeof h&&"function"!==typeof h?this:h;h.$elem=k;h.$config=l("[data-config]",h.$elem);h.$hkid=l(".hkid",h.$elem);h.$submitButton=l(".submit-button",h.$elem);h.$printButton=l(".print-button",h.$elem);h.$systemError=l(".system.error",h.$elem);h.$step1=l(".step-1",h.$elem);h.$step2=l(".step-2",h.$elem);h.$repaymentAccount=l("[name\x3drepaymentAccount]",
h.$elem);h.$title=l("[name\x3dtitle]",h.$elem);h.$name=l("[name\x3dname]",h.$elem);h.$district=l("[name\x3ddistrict]",h.$elem);h.$occupationNature=l("[name\x3doccupationNature]",h.$elem);h.$businessNature=l("[name\x3dbusinessNature]",h.$elem);h.$unemployedSince=l("[name\x3dunemployedSince]",h.$elem);h.$successMgs=l(".message.success",h.$elem);h.config=h.$config.data("config");h.channel=h.config.channel;l.extend(!0,p,h.config.dataModel);h.bindUiElements();h.bindUiEvents();h.TMS.trackView(h.tealiumConfig.startStep);
return h}z(e,f);e.prototype.bindUiElements=function(){var k=this;(0,m.bindLink)(l("[role\x3dlink]",this.$elem));(0,m.bindButton)(l("[role\x3dbutton]",this.$elem));this.$hkid.each(function(q,x){k.registerInput(new n.HKID(x))});var h=[],g="permanentResident above18 existingCustomer noBankruptcy employedBefore unemployedNow currentlyUnemployed lostIncome noOtherFacilities noSoleProprietor noThirdPartyFee supportingDocuments title name hkid hsbcPayroll district occupationNature businessNature unemployedSince lossIncomeSince month1 income1 month2 income2 month3 income3 latestEmployerName latestEmployerName reducedIncomeMonth1 reducedIncomeAmount1 reducedIncomeMonth2 reducedIncomeAmount2 currentEmployerName currentEmployerTel loanAmount principalRepayment repaymentAccount additionalDeclaration terms".split(" ");
"In-bound Credit-by-Phone"==this.channel&&g.push("salesStaffID");g.forEach(function(q){var x=l('[name \x3d "'+q+'"]',k.$elem);q=x.is("select")?x.attr("id")+"_"+q+"/valid":q+"/valid";x.length&&h.push(q)});c.on("tools:contentUpdated",function(q,x){q=!1;for(var u in x)if(-1!=h.indexOf(u)){q=!0;break}if(q){var r=!0;h.some(function(t){r&=k.scope.get(t);if(!r)return!0});k.$submitButton.toggleClass("disabled",!r);k.$submitButton.attr("aria-disabled",(!r).toString());k.$submitButton.find("span.visuallyhidden").attr("aria-hidden",
(!!r).toString())}});f.prototype.bindUiElements.call(this)};e.prototype.bindUiEvents=function(){var k=this;this.$repaymentAccount.on("keydown input change blur",function(){var h=k.getValue(k.$repaymentAccount);h&&10<=h.length&&12>=h.length&&setTimeout(function(){var g=k.$repaymentAccount.closest("[data-validation-status]").data("validation-status")||"error",q=k.isValidCurrentCheckDigit(h),x=k.isValidSavingsCheckDigit(h);q||x?k.setStatus(k.$repaymentAccount,"",""):k.setStatus(k.$repaymentAccount,g,
k.config.dataModel.repaymentAccount.patternMismatchError)},50)});this.$submitButton.on("action",function(){k.TMS.trackEvent({event_category:"content",event_action:"button",event_content:"submit"});if(k.validate()){var h={formType:"Top Up Application",permanentResident:k.scope.get("permanentResident"),above18:k.scope.get("above18"),existingCustomer:k.scope.get("existingCustomer"),noBankruptcy:k.scope.get("noBankruptcy"),employedBefore:k.scope.get("employedBefore"),unemployedNow:k.scope.get("unemployedNow"),
currentlyUnemployed:k.scope.get("currentlyUnemployed"),lostIncome:k.scope.get("lostIncome"),noOtherFacilities:k.scope.get("noOtherFacilities"),noSoleProprietor:k.scope.get("noSoleProprietor"),noThirdPartyFee:k.scope.get("noThirdPartyFee"),supportingDocuments:k.scope.get("supportingDocuments"),title:k.getValue(k.$title),name:k.getValue(k.$name),hkid:k.scope.get("hkid"),hsbcPayroll:k.scope.get("hsbcPayroll"),district:k.getValue(k.$district),loanAmount:k.scope.get("loanAmount"),principalRepayment:k.scope.get("principalRepayment"),
repaymentAccount:k.scope.get("repaymentAccount"),additionalDeclaration:k.scope.get("additionalDeclaration"),terms:k.scope.get("terms"),token:"null",channel:k.channel};"Yes"==k.scope.get("supportingDocuments")&&(h.occupationNature=k.getValue(k.$occupationNature),h.businessNature=k.getValue(k.$businessNature),h.unemployedSince=k.getValue(k.$unemployedSince),h.lossIncomeSince=k.scope.get("lossIncomeSince"),h.month1=k.scope.get("month1"),h.income1=k.scope.get("income1"),h.month2=k.scope.get("month2"),
h.income2=k.scope.get("income2"),h.month3=k.scope.get("month3"),h.income3=k.scope.get("income3"),h.latestEmployerName=k.scope.get("latestEmployerName"),h.latestEmployerTel=k.scope.get("latestEmployerTel"),h.reducedIncomeMonth1=k.scope.get("reducedIncomeMonth1"),h.reducedIncomeAmount1=k.scope.get("reducedIncomeAmount1"),h.reducedIncomeMonth2=k.scope.get("reducedIncomeMonth2"),h.reducedIncomeAmount2=k.scope.get("reducedIncomeAmount2"),h.currentEmployerName=k.scope.get("currentEmployerName"),h.currentEmployerTel=
k.scope.get("currentEmployerTel"));"In-bound Credit-by-Phone"==k.channel&&(h.salesStaffID=k.scope.get("salesStaffID"));k.config.enableRecaptcha?(window.onSubmit=function(g){h.token=g;k.submit(h)},grecaptcha.execute()):k.submit(h)}});this.$printButton.on("action",function(h){try{window.scrollTo(0,0),document.execCommand("print",!1,"")||window.print()}catch(g){window.print()}})};e.prototype.validate=function(){return f.prototype.validate.call(this)};e.prototype.submit=function(k){var h=this;if(!this.submitted){this.submitted=
!0;this.scope.set("systemError/message","");this.$submitButton.addClass("disabled");this.$submitButton.addClass("loading");var g=this.config.endpointConfig;f.prototype.ajax.call(this,{method:"POST",url:g.url+"/digital-pws-tools-plgs-papi-"+g.space+"-proxy/v1/plgs/submit",json:JSON.stringify(k)}).then(function(q){q&&(q=JSON.parse(q),q.recaptchaSuccess&&q.refNo?(l(".review-data").text(q.refNo),l(".current-step",h.$elem).removeClass("current-step"),h.$step2.addClass("current-step"),h.$successMgs.focus(),
h.scrollTo(h.$successMgs[0],10),h.TMS.trackView(h.tealiumConfig.completeStep)):0==q.recaptchaSuccess&&(l(".current-step",h.$elem).removeClass("current-step"),h.$step1.addClass("current-step"),h.scope.set("systemError/message",h.config.recaptchaError),setTimeout(function(){h.$systemError.focus()},0),grecaptcha.reset(),h.TMS.trackEvent({event_category:"error",event_subcategory:"400",event_action:"application",event_content:h.config.recaptchaError})))})["catch"](function(q){h.config.enableRecaptcha&&
grecaptcha.reset();l(".current-step",h.$elem).removeClass("current-step");h.$step1.addClass("current-step");h.scope.set("systemError/message",h.config.systemError);setTimeout(function(){h.$systemError.focus()},0);h.TMS.trackEvent({event_category:"error",event_subcategory:q&&q.status?q.status:"500",event_action:"application",event_content:h.config.systemError})}).then(function(){h.submitted=!1;h.$submitButton.removeClass("disabled");h.$submitButton.removeClass("loading")})}};e.prototype.isValidCurrentCheckDigit=
function(k){var h=[1,2,1,2,1,2,1,2],g;var q=!1;if(k&&12!=k.length)return q;var x=parseInt(k.substring(8,9));for(q=g=0;8>q;q++){var u=parseInt(k.substring(q,q+1));u*=h[q];10<=u&&(u=1+u%10);g+=u}return x==(100-g)%10};e.prototype.isValidSavingsCheckDigit=function(k){var h=[2,1,2,2,1,2,1,2,1],g,q;var x=!1;if(k&&10!=k.length)return x;var u=parseInt(k.substring(3,4));for(x=q=g=0;10>x;x++)if(3!=x){var r=parseInt(k.substring(x,x+1));r*=h[g];10<=r&&(r=1+r%10);q+=r;g++}return u==(100-q)%10};return e}(m.ToolsBase);
TOOLS_utils.registerComponent({name:"plgsTopUp",selector:".plgsTopUp",init:function(f){return new b(f)}})})(Bootstrap.jQuery)},function(M,Y,I){function z(n,l){if("function"!==typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);n.prototype=Object.create(l&&l.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});l&&(Object.setPrototypeOf?Object.setPrototypeOf(n,l):n.__proto__=l)}var m=I(0);(function(n){var l=function(c){function p(d){if(!(this instanceof
p))throw new TypeError("Cannot call a class as a function");var a=c.call(this,d);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.$elem=d;a.$config=n("[data-config]",a.$elem);a.config=a.$config.data("config");a.$hiborRateContent=n(".hibor_rate_content",a.$elem);a.$hiborRateDesktop=n(".hibor_rate_table .desktop",a.$elem);a.$hiborRateMobile=n(".hibor_rate_table .non-desktop",a.$elem);a.$h1=n(".A-BBST28R-RW-ALL.text-container",
a.$elem);a.$errorMessage=n(".hibor_error_msg",a.$elem);a.page_language=TOOLS_utils.getLocale();a.abbr="\x3cabbr lang\x3d'en-hk' title\x3d'Hong Kong Interbank Offered Rate'\x3eHIBOR\x3c/abbr\x3e";a.initPage();return a}z(p,c);p.prototype.initPage=function(){var d=this;this.$h1.append(this.config.title.replace("HIBOR",this.abbr));var a=this.config.endpointConfig;c.prototype.ajax.call(this,{method:"GET",url:a.url+"/digital-pws-tools-hibor-eapi-"+a.space+"-proxy/v1/hibor?year\x3d"+this.config.year}).then(function(b){b=
JSON.parse(b);d.handleSuccessCallBack(b)})["catch"](function(){d.handleErrorCallBack()})};p.prototype.handleSuccessCallBack=function(d){var a="\x3cthead\x3e\x3ctr\x3e\x3cth scope\x3d'col' class\x3d'A-TBLLAB-RW-ALL'\x3e"+d.year+this.config.tableHeader1Prefix+"\x3c/th\x3e\x3cth scope\x3d'col' class\x3d'A-TBLLAB-RW-ALL'\x3e"+this.config.tableHeader2.replace("HIBOR",this.abbr)+"\x3c/th\x3e\x3c/tr\x3e\x3c/thead\x3e\x3ctbody\x3e",b,f=d.rateTable;if(0<f.length)for(var e=0;e<f.length;e++){if(!(this.config.disableRateList&&
0<=this.config.disableRateList.indexOf(f[e].date))){var k=TOOLS_utils.formatDDMMDate(f[e].date,!1),h=f[e].rate+"%";a+="\x3ctr\x3e\x3ctd\x3e"+k+"\x3c/td\x3e\x3ctd\x3e"+h+"\x3c/td\x3e\x3c/tr\x3e";b+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+d.year+this.config.tableHeader1Prefix+"\x3c/th\x3e\x3ctd\x3e"+k+"\x3c/td\x3e\x3c/tr\x3e";b+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+this.config.tableHeader2.replace("HIBOR",this.abbr)+"\x3cbr\x3e\x3c/th\x3e\x3ctd\x3e"+
h+"\x3c/td\x3e\x3c/tr\x3e";e!=f.length-1&&(b+="\x3ctr aria-hidden\x3d'true' tabindex\x3d'-1' class\x3d'hidden-row'\x3e\x3cth\x3e\x3c/th\x3e\x3ctd\x3e\x3c/td\x3e\x3c/tr\x3e")}}else b+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+d.year+this.config.tableHeader1Prefix+"\x3c/th\x3e\x3ctd\x3e\x3c/td\x3e\x3c/tr\x3e",b+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+this.config.tableHeader2.replace("HIBOR",this.abbr)+"\x3cbr\x3e\x3c/th\x3e\x3ctd\x3e\x3c/td\x3e\x3c/tr\x3e";
b+="\x3c/tbody\x3e";this.$hiborRateDesktop.append(a+"\x3c/tbody\x3e");this.$hiborRateMobile.append(b)};p.prototype.handleErrorCallBack=function(){this.$hiborRateContent.addClass("visuallyhidden");this.$errorMessage.removeClass("visuallyhidden");this.$errorMessage.text(this.config.errorMessage)};return p}(m.ToolsBase);TOOLS_utils.registerComponent({name:"hiborRate",selector:".hiborRate",init:function(c){return new l(c)}})})(Bootstrap.jQuery)},function(M,Y,I){function z(n,l){if("function"!==typeof l&&
null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);n.prototype=Object.create(l&&l.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});l&&(Object.setPrototypeOf?Object.setPrototypeOf(n,l):n.__proto__=l)}var m=I(0);(function(n){var l=n(window),c={search_zone:{required:!0},estateKeyword:{type:"string",required:!0,maxLength:80}},p=function(d){function a(b){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");
var f=d.call(this,b,c);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");f=!f||"object"!==typeof f&&"function"!==typeof f?this:f;f.$elem=b;f.$config=n("[data-config]",f.$elem);f.config=f.$config.data("config");n.extend(!0,f.model,f.config.dataModel);f.$systemError=n(".system.error",f.$elem);f.$zone=n("select[name\x3dsearch_zone]",f.$elem);f.$estateKeyword=n("input[name\x3destateKeyword]",f.$elem);f.$searchButton=n(".search-button",f.$elem);f.$scrollWindow=
n(".scrollWindow",f.$elem);f.$resultTotal=n(".result-total",f.$elem);f.$searchresult=n(".searchresult",f.$elem);n.Mustache.add("mustache-searchResult",n(".mustache-searchResult",f.$elem).html());f.url=f.config.endpointConfig.url+"/digital-pws-tools-mortgages-eapi-"+f.config.endpointConfig.space+"-proxy/v1/mortgages";f.bindUiElements();f.bindUIEvents();f.init();return f}z(a,d);a.prototype.bindUiElements=function(){var b=this;(0,m.bindLink)(n("[role\x3dlink]",this.$elem));(0,m.bindButton)(n("[role\x3dbutton]",
this.$elem));var f=["estateKeyword/valid","estateKeyword/status"];l.on("tools:contentUpdated",function(e,k){e=!1;for(var h in k)if(-1!=f.indexOf(h)){e=!0;break}e&&(k=1&b.scope.get(f[0]),"error"==(b.scope.get(f[1])?b.scope.get(f[1]):"")&&(k=!1),k||b.getValue(b.$estateKeyword)||(b.$resultTotal.text(""),b.$searchresult.empty()),b.$searchButton.toggleClass("disabled",!k),b.$searchButton.attr("aria-disabled",(!k).toString()))});d.prototype.bindUiElements.call(this)};a.prototype.bindUIEvents=function(){var b=
this;this.$zone[0].selectize.on("change",function(){setTimeout(function(){b.$searchButton.addClass("disabled");b.$searchButton.attr("aria-disabled","true")},0);b.$estateKeyword.attr("disabled",!1);b.$estateKeyword.removeClass("input-disabled");b.getValue(b.$estateKeyword)&&b.setValue(b.$estateKeyword,"");b.removeStatus(b.$estateKeyword);b.$resultTotal.text("");b.$searchresult.empty();b.TMS.trackEvent({tool_name:"mortgage property valuation",event_category:"content",event_action:"dropdown",event_content:"search by estate keyword - zone"})});
this.$estateKeyword.on("input",function(){b.validate()&&(b.$searchButton.removeClass("disabled"),b.$searchButton.attr("aria-disabled","false"))});this.$searchButton.on("action",function(){b.getValue(b.$estateKeyword)&&!b.$searchButton.hasClass("disabled")&&b.callPropValAddress()});this.$estateKeyword.on("keydown",function(f){var e=f.which;e&&13===e&&f.preventDefault()})};a.prototype.init=function(){this.prePopulateZoneDropDown();this.$estateKeyword.attr("disabled",!0);this.$estateKeyword.addClass("input-disabled");
this.callPropValSearch()};a.prototype.callPropValSearch=function(){var b=this,f={locale:TOOLS_utils.getLocale(),locate:null,zoneId:null,districtId:null,estateId:null,blockId:null,floor:null};d.prototype.ajax.call(this,{method:"POST",url:this.url+"/property-valuation-tool",json:JSON.stringify(f)}).then(function(e){e=JSON.parse(e);b.populateZoneDropDown(e)})["catch"](function(e){b.setStatus(b.$zone,"error",b.config.dataModel.search_zone.tooShortError);b.TMS.trackEvent({tool_name:"mortgage property valuation",
event_category:"error",event_subcategory:e&&e.status?e.status:"500",event_action:"dropdown",event_content:b.config.dataModel.search_zone.tooShortError})})};a.prototype.populateZoneDropDown=function(b){this.removeZoneDropDown();this.prePopulateZoneDropDown();b&&b.zoneList&&0<b.zoneList.length?this.$zone[0].selectize.addOption(this.createOptions(b.zoneList)):this.setStatus(this.$zone,"error",this.config.dataModel.search_zone.tooShortError)};a.prototype.prePopulateZoneDropDown=function(){var b=this.config.propertyModel.search_zonePlaceholder;
this.$zone[0].selectize.addOption({value:b,text:b,disabled:"disabled"})};a.prototype.removeZoneDropDown=function(){this.removeStatus(this.$zone);this.$zone[0].selectize.clearOptions()};a.prototype.createOptions=function(b){var f=[];b.forEach(function(e){f.push({value:e.id,text:e.name})});return f};a.prototype.callPropValAddress=function(){var b=this,f={locale:TOOLS_utils.getLocale(),zoneId:this.getValue(this.$zone),estateKeyword:this.getValue(this.$estateKeyword)};d.prototype.ajax.call(this,{method:"POST",
url:this.url+"/property-valuation-address",json:JSON.stringify(f)}).then(function(e){e=JSON.parse(e);b.TMS.trackEvent({event_category:"tool",event_subcategory:"search",event_action:"complete",event_content:"search by estate keyword - search for estate",form_field_1:"zone : "+b.getLabel(b.$zone),form_field_2:"district : na",form_field_3:"estate : na",form_field_4:"address : na",search_results:e.estateAddressList?e.estateAddressList.length:"0",search_term:b.getValue(b.$estateKeyword)});b.$systemError.hide();
b.setResults(e)})["catch"](function(e){b.cleanResults();b.TMS.trackEvent({tool_name:"mortgage property valuation",event_category:"error",event_subcategory:e&&e.status?e.status:"500",event_action:"tool",event_content:b.config.loadError})})};a.prototype.setResults=function(b){this.$searchresult.empty();var f=this.getValue(this.$estateKeyword),e=b.estateAddressList,k=b.code,h=[],g="";b&&e&&"00"==k&&0<e.length?(b=this.config.resultTotal.replace("{keyword}",f).replace("{total}",e.length),this.$resultTotal.text(b),
e.forEach(function(q){h.push({resultId:"result_"+q.zone.id+"_"+q.district.id+"_"+q.estate.id,resultContent:q.estate.name+" ("+q.district.name+")"})})):(g=b&&k&&"TOO_MANY_RECORDS_RETURNED"==k?this.config.tooManyResultErr:this.config.noResultErr,this.setError());this.$searchresult.mustache("mustache-searchResult",{resultList:h,errorMessage:g});this.bindClickforResult()};a.prototype.setError=function(){this.$resultTotal.text("");this.setStatus(this.$estateKeyword,"warning",this.config.noResultWithEstate);
this.$searchButton.removeClass("disabled");this.$searchButton.attr("aria-disabled","false")};a.prototype.cleanResults=function(){var b=this;this.$searchresult.empty();this.$resultTotal.text("");this.$systemError.show();this.scope.set("propertyValuationSearchSystemError/message",this.config.loadError);setTimeout(function(){b.$systemError.focus()},0)};a.prototype.bindClickforResult=function(){var b=this;n("[id^\x3d'result_']",this.$elem).each(function(f,e){if(e)n(e).on("click",function(k){(k=e.id)&&
k.split("_")&&(l.trigger("propertyvaluation/selectzone",[{zoneId:k.split("_")[1],districtId:k.split("_")[2],estateId:k.split("_")[3]}]),b.switchTab());b.TMS.trackEvent({event_category:"tool",event_subcategory:"search",event_action:"result click",event_content:"search by estate keyword - search result click"})})})};a.prototype.switchTab=function(){TOOLS_utils.matchMedia.desktop?(n(".tab-widget-tab-content").toggleClass("hidden"),n(".tab-widget-link").toggleClass("is-active")):(n(".exp-content").toggleClass("expanded"),
n(".dropdown-text").toggleClass("expanded"))};a.prototype.validate=function(){return d.prototype.validate.call(this)};return a}(m.ToolsBase);TOOLS_utils.registerComponent({name:"propertyValuationSearch",selector:".propertyValuationSearch",init:function(d){return new p(d)}})})(Bootstrap.jQuery)},function(M,Y,I){function z(n,l){if("function"!==typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);n.prototype=Object.create(l&&l.prototype,{constructor:{value:n,
enumerable:!1,writable:!0,configurable:!0}});l&&(Object.setPrototypeOf?Object.setPrototypeOf(n,l):n.__proto__=l)}var m=I(0);(function(n){var l=n(window),c={zone:{required:!0},district:{required:!0},estate:{required:!0},block:{required:!0},floor:{required:!0},flat:{required:!0}},p=function(d){function a(b){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");var f=d.call(this,b,c);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
f=!f||"object"!==typeof f&&"function"!==typeof f?this:f;f.$elem=b;f.$config=n("[data-config]",f.$elem);f.config=f.$config.data("config");f.$systemError=n(".system.error",f.$elem);f.$zone=n("select[name\x3dzone]",f.$elem);f.$district=n("select[name\x3ddistrict]",f.$elem);f.$estate=n("select[name\x3destate]",f.$elem);f.$block=n("select[name\x3dblock]",f.$elem);f.$floor=n("select[name\x3dfloor]",f.$elem);f.$flat=n("select[name\x3dflat]",f.$elem);f.$searchButton=n(".search-button",f.$elem);f.$subtitle=
n(".subtitle",f.$elem);f.$divOpacity=n(".div-opacity",f.$elem);f.$address=n("span[data-name\x3daddress]",f.$elem);f.$valuation=n("span[data-name\x3dvaluation]",f.$elem);f.$grossFloorArea=n("span[data-name\x3dgrossFloorArea]",f.$elem);f.$saleableArea=n("span[data-name\x3dsaleableArea]",f.$elem);f.$propertyAge=n("span[data-name\x3dpropertyAge]",f.$elem);f.$valuationDate=n("span[data-name\x3dvaluationDate]",f.$elem);f.$grossFloorAreaLabel=f.$grossFloorArea.parent().prev().find("span").eq(0);f.$saleableAreaLabel=
f.$saleableArea.parent().prev().find("span").eq(0);f.selectors=[f.$zone,f.$district,f.$estate,f.$block,f.$floor,f.$flat];f.zoneName=f.$zone.attr("name");f.districtName=f.$district.attr("name");f.estateName=f.$estate.attr("name");f.blockName=f.$block.attr("name");f.floorName=f.$floor.attr("name");f.flatName=f.$flat.attr("name");f.url=f.config.endpointConfig.url+"/digital-pws-tools-mortgages-eapi-"+f.config.endpointConfig.space+"-proxy/v1/mortgages";n.extend(!0,c,f.config.dataModel);d.prototype.bindUiElements.call(f);
f.bindUIEvents();f.init();return f}z(a,d);a.prototype.init=function(){var b=this;this.$grossFloorAreaLabel.html(this.config.grossFloorArea);this.$saleableAreaLabel.html(this.config.saleableArea);this.selectors.forEach(function(f){b.prePopulateDropDown(f);f[0].selectize.disable()});this.callPropValSearch(this.zoneName);l.on("propertyvaluation/selectzone",function(f,e){e&&(b.callPropValEstateKeyword(e),b.detailsChange())})};a.prototype.bindUIEvents=function(){var b=this;this.$zone.on("change",function(){b.detailsChange();
""!=b.getValue(b.$zone)&&(b.callPropValSearch(b.districtName),b.dropdownTealium("zone"))});this.$district.on("change",function(){b.detailsChange();""!=b.getValue(b.$district)&&(b.callPropValSearch(b.estateName),b.dropdownTealium("district"))});this.$estate.on("change",function(){b.detailsChange();""!=b.getValue(b.$estate)&&(b.callPropValSearch(b.blockName),b.dropdownTealium("estate name"))});this.$block.on("change",function(){b.detailsChange();""!=b.getValue(b.$block)&&(b.callPropValSearch(b.floorName),
b.dropdownTealium("block"))});this.$floor.on("change",function(){b.detailsChange();""!=b.getValue(b.$floor)&&(b.callPropValSearch(b.flatName),b.dropdownTealium("floor"))});(0,m.bindLink)(n("[role\x3dlink]",this.$elem));(0,m.bindButton)(n("[role\x3dbutton]",this.$elem));this.$flat.on("change",function(){b.detailsChange();""!=b.getValue(b.$flat)&&(setTimeout(function(){b.validate()&&b.enableSearchButton()},100),b.dropdownTealium("flat"))});this.$searchButton.on("action",function(){b.getValue(b.$flat)&&
b.callPropValResult()})};a.prototype.disableSearchButton=function(){this.$searchButton.addClass("disabled");this.$searchButton.attr("aria-disabled",!0)};a.prototype.enableSearchButton=function(){this.$searchButton.removeClass("disabled");this.$searchButton.attr("aria-disabled",!1)};a.prototype.callPropValEstateKeyword=function(b){var f=this,e={locale:TOOLS_utils.getLocale(),locate:"search",zoneId:b.zoneId,districtId:b.districtId,estateId:b.estateId,blockId:null,floor:null};d.prototype.ajax.call(this,
{method:"POST",url:this.url+"/property-valuation-tool",json:JSON.stringify(e)}).then(function(k){k=JSON.parse(k);f.populateZoneDropDown(k,b.zoneId);f.populateDistrictDropDown(k,b.districtId);f.populateEstateDropDown(k,b.estateId);f.populateBlockDropDown(k);f.$estate[0].selectize.focus()})};a.prototype.callPropValSearch=function(b){var f=this,e=this.prePrepPropValTooSvc(b);d.prototype.ajax.call(this,{method:"POST",url:this.url+"/property-valuation-tool",json:JSON.stringify(e)}).then(function(k){k=
JSON.parse(k);f.postPrepPropValToolSvc(k,b)})["catch"](function(k){f.handleDropDownError(b,k)})};a.prototype.prePrepPropValTooSvc=function(b){var f=null,e=null,k=null,h=null,g=null,q=null;b===this.districtName?(f=this.zoneName,e=this.getValue(this.$zone)):b===this.estateName?(f=this.districtName,e=this.getValue(this.$zone),k=this.getValue(this.$district)):b===this.blockName?(f=this.estateName,e=this.getValue(this.$zone),k=this.getValue(this.$district),h=this.getValue(this.$estate)):b===this.floorName?
(f=this.blockName,e=this.getValue(this.$zone),k=this.getValue(this.$district),h=this.getValue(this.$estate),g=this.getValue(this.$block)):b===this.flatName&&(f=this.floorName,e=this.getValue(this.$zone),k=this.getValue(this.$district),h=this.getValue(this.$estate),g=this.getValue(this.$block),q=this.getValue(this.$floor));return{locale:TOOLS_utils.getLocale(),locate:f,zoneId:e,districtId:k,estateId:h,blockId:g,floor:q}};a.prototype.postPrepPropValToolSvc=function(b,f){f===this.zoneName?this.populateZoneDropDown(b):
f===this.districtName?this.populateDistrictDropDown(b):f===this.estateName?this.populateEstateDropDown(b):f===this.blockName?this.populateBlockDropDown(b):f===this.floorName?this.populateFloorDropDown(b):f===this.flatName&&this.populateFlatDropDown(b)};a.prototype.populateZoneDropDown=function(b,f){this.populateDropDown(b,f,this.$zone)};a.prototype.populateDistrictDropDown=function(b,f){this.populateDropDown(b,f,this.$district)};a.prototype.populateEstateDropDown=function(b,f){this.populateDropDown(b,
f,this.$estate)};a.prototype.populateBlockDropDown=function(b,f){this.populateDropDown(b,f,this.$block)};a.prototype.populateFloorDropDown=function(b,f){this.populateDropDown(b,f,this.$floor)};a.prototype.populateFlatDropDown=function(b,f){this.populateDropDown(b,f,this.$flat)};a.prototype.createOptions=function(b){var f=[];b.forEach(function(e){f.push({value:e.id,text:e.name})});return f};a.prototype.setResults=function(b){this.$subtitle.next("div").addClass("greybar");var f=this.config.notApplicable;
this.$address.html(b.propAddr?b.propAddr:"");var e=b.valn&&"0"!=b.valn?TOOLS_utils.numberWithCommas(b.valn):f+"\x3cbr/\x3e"+this.config.specialRemarks;this.$valuation.html(e);e=b.grossFloorArea&&"0"!=b.grossFloorArea?TOOLS_utils.numberWithCommas(b.grossFloorArea):f;this.$grossFloorArea.html(e);e=b.saleableArea&&"0"!=b.saleableArea?TOOLS_utils.numberWithCommas(b.saleableArea):f;this.$saleableArea.html(e);this.$propertyAge.html(b.propAge?b.propAge:f);b=b.valnDt?TOOLS_utils.formatDDMMYYYYDate(b.valnDt.substring(0,
10),!0):f;this.$valuationDate.html(b)};a.prototype.cleanResults=function(){this.$subtitle.next("div").removeClass("greybar");this.$address.text("");this.$valuation.text("");this.$grossFloorArea.text("");this.$saleableArea.text("");this.$propertyAge.text("");this.$valuationDate.text("")};a.prototype.callPropValResult=function(){var b=this,f={locale:TOOLS_utils.getLocale(),zoneId:this.getValue(this.$zone),districtId:this.getValue(this.$district),estateId:this.getValue(this.$estate),blockId:this.getValue(this.$block),
floor:this.getValue(this.$floor),flat:this.getValue(this.$flat)};d.prototype.ajax.call(this,{method:"POST",url:this.url+"/property-valuation",json:JSON.stringify(f)}).then(function(e){e=JSON.parse(e);b.$divOpacity.removeClass("div-opacity");b.$subtitle.attr("tabindex","0");b.$subtitle.focus();b.$systemError.hide();b.setResults(e);b.TMS.trackEvent({tool_name:"mortgage property valuation",event_category:"tool",event_subcategory:"get property valuation",event_action:"button",event_content:"property valuation search - get property valuation",
form_field_1:"zone : "+b.getLabel(b.$zone),form_field_2:"district : "+b.getLabel(b.$district),form_field_3:"estate : "+b.getLabel(b.$estate),form_field_4:"address : "+e.propAddr,start_amount:e.saleableArea?Number(e.saleableArea):0,amount:e.valn?Number(e.valn):0,term:e.propAge?Number(e.propAge):0})})["catch"](function(e){b.cleanResults();b.$systemError.show();b.scope.set("propertyValuationToolSystemError/message",b.config.errorMessage);setTimeout(function(){b.$systemError.focus()},0);b.TMS.trackEvent({tool_name:"mortgage property valuation",
event_category:"error",event_subcategory:e&&e.status?e.status:"500",event_action:"tool",event_content:b.config.errorMessage})})};a.prototype.handleDropDownError=function(b,f){var e="";b===this.zoneName?(e=this.config.dataModel.zone.tooShortError,this.setStatus(this.$zone,"error",e)):b===this.districtName?(e=this.config.dataModel.district.tooShortError,this.setStatus(this.$district,"error",e)):b===this.estateName?(e=this.config.dataModel.estate.tooShortError,this.setStatus(this.$estate,"error",e)):
b===this.blockName?(e=this.config.dataModel.block.tooShortError,this.setStatus(this.$block,"error",e)):b===this.floorName?(e=this.config.dataModel.floor.tooShortError,this.setStatus(this.$floor,"error",e)):b===this.flatName&&(e=this.config.dataModel.flat.tooShortError,this.setStatus(this.$flat,"error",e));f&&this.dropdownErrorTealium(f,e)};a.prototype.dropdownErrorTealium=function(b,f){this.TMS.trackEvent({tool_name:"mortgage property valuation",event_category:"error",event_subcategory:b&&b.status?
b.status:"500",event_action:"dropdown",event_content:f})};a.prototype.dropdownTealium=function(b){this.TMS.trackEvent({tool_name:"mortgage property valuation",event_category:"content",event_action:"dropdown",event_content:"property valuation search - "+b})};a.prototype.detailsChange=function(){this.disableSearchButton();this.$systemError.hide();this.cleanResults();this.$divOpacity.addClass("div-opacity")};a.prototype.initDropDown=function(b,f,e){var k=e.attr("name");b=b?b[k+"List"]:[];var h=!1;e[0].selectize.enable();
b&&0<b.length?(e[0].selectize.addOption(this.createOptions(b)),1==b.length&&"N/A"===b[0].id&&(h=!0),f?e[0].selectize.setValue(f,!0):h&&e[0].selectize.setValue("N/A",!1),e[0].suppressInvalidEvent=!1):this.handleDropDownError(k)};a.prototype.removeDropDown=function(b){b[0].suppressInvalidEvent=!0;b[0].selectize.clearOptions();b[0].selectize.disable();this.removeStatus(b)};a.prototype.prePopulateDropDown=function(b){var f=b.attr("name");f=this.config.propertyModel[f+"Placeholder"];b[0].selectize.addOption({value:f,
text:f,disabled:"disabled"})};a.prototype.populateDropDown=function(b,f,e){var k=this,h=this.selectors.indexOf(e);this.selectors.forEach(function(g,q){if(q<h)return!1;k.removeDropDown(g);k.prePopulateDropDown(g)});this.initDropDown(b,f,e)};a.prototype.validate=function(){return d.prototype.validate.call(this)};return a}(m.ToolsBase);TOOLS_utils.registerComponent({name:"propertyValuationTool",selector:".propertyValuationTool",init:function(d){return new p(d)}})})(Bootstrap.jQuery)},function(M,Y,I){function z(n,
l){if("function"!==typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);n.prototype=Object.create(l&&l.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});l&&(Object.setPrototypeOf?Object.setPrototypeOf(n,l):n.__proto__=l)}var m=I(0);(function(n){var l=function(c){function p(d){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");var a=c.call(this,d);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.$elem=d;a.$config=n("[data-config]",a.$elem);a.config=a.$config.data("config");a.$cumulativeDynamic=n(".cumulative_dynamic",a.$elem);a.$cumulativeStatic=n(".cumulative_static",a.$elem);a.$cumulativeLaunchDesktop=n(".cumulative_launch .desktop",a.$elem);a.$cumulativeLaunchMobile=n(".cumulative_launch .non-desktop",a.$elem);a.$cumulativeDisDesktop=n(".cumulative_dis .desktop",a.$elem);a.$cumulativeDisMobile=n(".cumulative_dis .non-desktop",a.$elem);
a.$cumulativeDynamicDesktop=n(".cumulative_dynamic .desktop",a.$elem);a.$cumulativeDynamicMobile=n(".cumulative_dynamic .non-desktop",a.$elem);a.$vcFundDynamicDesktop=n(".vc_fund_dynamic .desktop",a.$elem);a.$vcFundDynamicMobile=n(".vc_fund_dynamic .non-desktop",a.$elem);a.$launchDate=n(".cumulative_launch .launch_date",a.$elem);a.$disDate=n(".cumulative_dis .dis_date",a.$elem);a.$vcFoundDynamicDate=n(".vc_fund_dynamic .vc_fund_dynamic_date",a.$elem);a.$dynamicDate=n(".cumulative_dynamic .dynamic_date",
a.$elem);a.$lastUpdate=n(".last_update",a.$elem);a.getAPIData();return a}z(p,c);p.prototype.getAPIData=function(){var d=this,a=this.config.endpointConfig,b=[],f=a.url+"/digital-pws-tools-mpf-eapi-"+a.space+"-proxy/v1/mpf/cumulative-performances/HSBCTRUSTPLUS?locale\x3d"+TOOLS_utils.getLocale();a=a.url+"/digital-pws-tools-mpf-eapi-"+a.space+"-proxy/v1/mpf/cumulative-performances/HSBCVALUECHOICE?locale\x3d"+TOOLS_utils.getLocale();f=c.prototype.ajax.call(this,{method:"GET",url:f});a=c.prototype.ajax.call(this,
{method:"GET",url:a});b.push(f);b.push(a);Promise.all(b).then(function(e){var k=JSON.parse(e[0]);e=JSON.parse(e[1]);d.handleSuccessCallBack(k,e)})["catch"](function(e){d.handleErrorCallBack();d.TMS.trackEvent({event_category:"error",event_subcategory:e&&e.status?e.status:"500",event_action:"tool",event_content:d.config.systemError+" - cumulative performance - SuperTrust Plus"})})};p.prototype.handleSuccessCallBack=function(d,a){var b=this.config.cumulativeDescPrefix,f=this.config.launchPrefix,e=this.config.disDatePrefix,
k=this.config.dynamicPrefix,h=this.config.vcFundDynamicLaunch;d.sinceLaunchDate&&(f+=TOOLS_utils.formatDDMMYYYYDate(d.sinceLaunchDate,!1)+this.config.launchSuffix,e+=TOOLS_utils.formatDDMMYYYYDate(d.sinceLaunchDate,!1)+this.config.disDateSuffix,k+=TOOLS_utils.formatDDMMYYYYDate(d.sinceLaunchDate,!1)+this.config.dynamicSuffix,this.config.vcFundDynamicLaunch&&(h=this.config.vcFundDynamicLaunch.replace("{{sinceLaunchDate}}",TOOLS_utils.formatDDMMYYYYDate(d.sinceLaunchDate,!1))));b=d.lastUpdateDate?b+
(TOOLS_utils.formatDDMMYYYYDate(d.lastUpdateDate,!1)+this.config.cumulativeDescSuffix):"";var g=d.performances.filter(function(x){return"N"===x.disIndc}),q=d.performances.filter(function(x){return"Y"===x.disIndc});d=d.performances.filter(function(x){return"A"===x.disIndc});this.handleLaunchData(f,g);this.handleDisData(e,q);this.handleValueChoiceDisIndcIsA(h,d);a&&(a=a.performances.filter(function(x){return"V"===x.disIndc}),this.handleVCData(k,a));this.$lastUpdate.append(b)};p.prototype.handleLaunchData=
function(d,a){this.renderTable({$desktopTable:this.$cumulativeLaunchDesktop,$mobileTable:this.$cumulativeLaunchMobile,$dateField:this.$launchDate,date:d,dataArray:a,nameWithLink:!0})};p.prototype.handleDisData=function(d,a){this.renderTable({$desktopTable:this.$cumulativeDisDesktop,$mobileTable:this.$cumulativeDisMobile,$dateField:this.$disDate,date:d,dataArray:a})};p.prototype.handleValueChoiceDisIndcIsA=function(d,a){this.renderTable({$desktopTable:this.$vcFundDynamicDesktop,$mobileTable:this.$vcFundDynamicMobile,
$dateField:this.$vcFoundDynamicDate,date:d,dataArray:a})};p.prototype.handleVCData=function(d,a){this.renderTable({$desktopTable:this.$cumulativeDynamicDesktop,$mobileTable:this.$cumulativeDynamicMobile,$dateField:this.$dynamicDate,date:d,dataArray:a})};p.prototype.renderTable=function(d){var a="\x3ctbody\x3e",b="\x3ctbody\x3e",f=d.$desktopTable,e=d.$mobileTable,k=d.$dateField,h=d.date,g=d.dataArray;if(0<g.length)for(var q=0;q<g.length;q++){var x=g[q].performances,u=this.checkDataApplicable(g[q].fundName);
d.nameWithLink&&(u=this.config.linkPath+"#"+g[q].fundCode,u=this.checkDataApplicable(g[q].fundName)!=g[q].fundName?this.checkDataApplicable(g[q].fundName):"\x3ca href \x3d "+u+" rel\x3d'noopener'\x3e"+g[q].fundName+"\x3c/a\x3e");a+="\x3ctr\x3e\x3ctd\x3e"+u+"\x3c/td\x3e\x3ctd\x3e"+this.checkDataApplicable(x.p6m)+"\x3c/td\x3e\x3ctd\x3e"+this.checkDataApplicable(x.p1y)+"\x3c/td\x3e\x3ctd\x3e"+this.checkDataApplicable(x.p3y)+"\x3c/td\x3e\x3ctd\x3e"+this.checkDataApplicable(x.p5y)+"\x3c/td\x3e\x3ctd\x3e"+
this.checkDataApplicable(x.launch)+"\x3c/td\x3e\x3c/tr\x3e";b+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+this.config.fundName+"\x3c/th\x3e\x3ctd\x3e"+u+"\x3c/td\x3e\x3c/tr\x3e";b+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+this.config.p6m+"\x3c/th\x3e\x3ctd\x3e"+this.checkDataApplicable(x.p6m)+"\x3c/td\x3e\x3c/tr\x3e";b+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+this.config.p1y+"\x3c/th\x3e\x3ctd\x3e"+this.checkDataApplicable(x.p1y)+
"\x3c/td\x3e\x3c/tr\x3e";b+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+this.config.p3y+"\x3c/th\x3e\x3ctd\x3e"+this.checkDataApplicable(x.p3y)+"\x3c/td\x3e\x3c/tr\x3e";b+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+this.config.p5y+"\x3c/th\x3e\x3ctd\x3e"+this.checkDataApplicable(x.p5y)+"\x3c/td\x3e\x3c/tr\x3e";b+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+h+"\x3c/th\x3e\x3ctd\x3e"+this.checkDataApplicable(x.launch)+"\x3c/td\x3e\x3c/tr\x3e";
q!=g.length-1&&(b+="\x3ctr aria-hidden\x3d'true' tabindex\x3d'-1' class\x3d'hidden-row'\x3e\x3cth\x3e\x3c/th\x3e\x3ctd\x3e\x3c/td\x3e\x3c/tr\x3e")}else a+="\x3ctr\x3e\x3ctd colspan\x3d'6' style\x3d'text-align:center'\x3e"+this.config.noDataError+"\x3c/td\x3e\x3c/tr\x3e",b+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+this.config.fundName+"\x3c/th\x3e\x3ctd rowspan\x3d'6'\x3e"+this.config.noDataError+"\x3c/td\x3e\x3c/tr\x3e",b+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+
this.config.p6m+"\x3c/th\x3e\x3c/tr\x3e",b+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+this.config.p1y+"\x3c/th\x3e\x3c/tr\x3e",b+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+this.config.p3y+"\x3c/th\x3e\x3c/tr\x3e",b+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+this.config.p5y+"\x3c/th\x3e\x3c/tr\x3e",b+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+h+"\x3c/th\x3e\x3c/tr\x3e";a+="\x3c/tbody\x3e";b+="\x3c/tbody\x3e";
f.find("tbody").remove();e.find("tbody").remove();f.append(a);e.append(b);k.append(h)};p.prototype.checkDataApplicable=function(d){return d&&null!=d&&""!=d?d:this.config.dataApplicable?"\x3cspan aria-hidden\x3d'true'\x3e-\x3c/span\x3e\x3cspan class\x3d'visuallyhidden'\x3e"+this.config.dataApplicable+"\x3c/span\x3e":"-"};p.prototype.handleErrorCallBack=function(){this.handleLaunchError();this.handleDisError();this.handleVCError();this.scope.set(this.config.productID+"_systemError/message",this.config.systemError)};
p.prototype.handleLaunchError=function(){this.renderErrorTable({$desktopTable:this.$cumulativeLaunchDesktop,$mobileTable:this.$cumulativeLaunchMobile,$dateField:this.$launchDate,prefix:this.config.launchPrefix})};p.prototype.handleDisError=function(){this.renderErrorTable({$desktopTable:this.$cumulativeDisDesktop,$mobileTable:this.$cumulativeDisMobile,$dateField:this.$disDate,prefix:this.config.disDatePrefix})};p.prototype.handleVCError=function(){this.renderErrorTable({$desktopTable:this.$cumulativeDynamicDesktop,
$mobileTable:this.$cumulativeDynamicMobile,$dateField:this.$dynamicDate,prefix:this.config.dynamicPrefix})};p.prototype.renderErrorTable=function(d){var a=d.$desktopTable,b=d.$mobileTable,f=d.$dateField;d=d.prefix;var e="\x3ctbody\x3e\x3ctr\x3e\x3ctd colspan\x3d'6' style\x3d'text-align:center'\x3e"+this.config.noDataError+"\x3c/td\x3e\x3c/tr\x3e\x3c/tbody\x3e",k="\x3ctbody\x3e\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+this.config.fundName+"\x3c/th\x3e\x3ctd rowspan\x3d'6'\x3e"+
this.config.noDataError+"\x3c/td\x3e\x3c/tr\x3e";k+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+this.config.p6m+"\x3c/th\x3e\x3c/tr\x3e";k+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+this.config.p1y+"\x3c/th\x3e\x3c/tr\x3e";k+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+this.config.p3y+"\x3c/th\x3e\x3c/tr\x3e";k+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+this.config.p5y+"\x3c/th\x3e\x3c/tr\x3e";k+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+
d+"\x3c/th\x3e\x3c/tr\x3e\x3c/tbody\x3e";a.find("tbody").remove();b.find("tbody").remove();a.append(e);b.append(k);f.append(d)};return p}(m.ToolsBase);TOOLS_utils.registerComponent({name:"cumulativePerformance",selector:".cumulativePerformance",init:function(c){return new l(c)}})})(Bootstrap.jQuery)},function(M,Y,I){Date.vbGeneralDate=0;Date.vbLongDate=1;Date.vbShortDate=2;Date.vbLongTime=3;Date.vbShortTime=4;Date.vbUseSystemDayOfWeek=0;Date.vbSunday=1;Date.vbMonday=2;Date.vbTuesday=3;Date.vbWednesday=
4;Date.vbThursday=5;Date.vbFriday=6;Date.vbSaturday=7;Date.vbUseSystem=0;Date.vbFirstJan1=1;Date.vbFirstFourDays=2;Date.vbFirstFullWeek=3;Date.MonthNames=[null,"January","February","March","April","May","June","July","August","September","October","November","December"];Date.WeekdayNames=[null,"Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];Date.IsDate=function(z){return!isNaN(new Date(z))};Date.CDate=function(z){if(Date.IsDate(z))return new Date(z);var m=z.replace(/\-/g,"/").replace(/\./g,
"/").replace(/ /g,"/");m=m.replace(/pm$/i," pm").replace(/am$/i," am");if(Date.IsDate(m))return new Date(m);var n=m+"/"+(new Date).getFullYear();if(Date.IsDate(n))return new Date(n);if(m.indexOf(":")){m=m.replace(/ /,"/"+(new Date).getFullYear()+" ");if(Date.IsDate(m))return new Date(m);z=(new Date).toDateString()+" "+z;if(Date.IsDate(z))return new Date(z)}return!1};Date.DateAdd=function(z,m,n){if(!Date.CDate(n))return"invalid date: '"+n+"'";if(isNaN(m))return"invalid number: '"+m+"'";m=new Number(m);
n=Date.CDate(n);switch(z.toLowerCase()){case "yyyy":n.setFullYear(n.getFullYear()+m);break;case "q":n.setMonth(n.getMonth()+3*m);break;case "m":n.setMonth(n.getMonth()+m);break;case "y":case "d":case "w":n.setDate(n.getDate()+m);break;case "ww":n.setDate(n.getDate()+7*m);break;case "h":n.setHours(n.getHours()+m);break;case "n":n.setMinutes(n.getMinutes()+m);break;case "s":n.setSeconds(n.getSeconds()+m);break;case "ms":n.setMilliseconds(n.getMilliseconds()+m);break;default:return"invalid interval: '"+
z+"'"}return n};Date.DateDiff=function(z,m,n,l){if(!Date.CDate(m))return"invalid date: '"+m+"'";if(!Date.CDate(n))return"invalid date: '"+n+"'";l=isNaN(l)||0==l?Date.vbSunday:parseInt(l);var c=Date.UTC(m.getFullYear(),m.getMonth(),m.getDate(),m.getHours(),m.getMinutes(),m.getSeconds(),m.getMilliseconds()),p=Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),d=Date.CDate(m),a=Date.CDate(n);-1=="h,n,s,ms".indexOf(z.toLowerCase())&&(-1==
m.toString().indexOf(":")&&d.setUTCHours(0,0,0,0),-1==n.toString().indexOf(":")&&a.setUTCHours(0,0,0,0));m=p-c;n=a.getUTCFullYear()-d.getUTCFullYear();c=a.getUTCMonth()-d.getUTCMonth()+(0!=n?12*n:0);p=parseInt(c/3);var b=parseInt(m/1E3),f=parseInt(b/60),e=parseInt(f/60),k=parseInt(e/24),h=parseInt(k/7);if("ww"==z.toLowerCase()){var g=Date.DatePart("w",d,l)-1;g&&d.setDate(d.getDate()+7-g);(g=Date.DatePart("w",a,l)-1)&&a.setDate(a.getDate()-g);g=Date.DateDiff("w",d,a)+1}switch(z.toLowerCase()){case "yyyy":return n;
case "q":return p;case "m":return c;case "y":case "d":return k;case "w":return h;case "ww":return g;case "h":return e;case "n":return f;case "s":return b;case "ms":return m;default:return"invalid interval: '"+z+"'"}};Date.DatePart=function(z,m,n){if(!Date.CDate(m))return"invalid date: '"+m+"'";m=Date.CDate(m);switch(z.toLowerCase()){case "yyyy":return m.getFullYear();case "q":return parseInt(m.getMonth()/3)+1;case "m":return m.getMonth()+1;case "y":return Date.DateDiff("y","1/1/"+m.getFullYear(),
m)+1;case "d":return m.getDate();case "w":return Date.Weekday(m.getDay()+1,n);case "ww":return Date.DateDiff("ww","1/1/"+m.getFullYear(),m,n)+1;case "h":return m.getHours();case "n":return m.getMinutes();case "s":return m.getSeconds();case "ms":return m.getMilliseconds();default:return"invalid interval: '"+z+"'"}};Date.MonthName=function(z,m){if(isNaN(z)){if(!Date.CDate(z))return"invalid month: '"+z+"'";z=DatePart("m",Date.CDate(z))}z=Date.MonthNames[z];1==m&&(z=z.substring(0,3));return z};Date.WeekdayName=
function(z,m,n){if(isNaN(z)){if(!Date.CDate(z))return"invalid weekday: '"+z+"'";z=DatePart("w",Date.CDate(z))}n=isNaN(n)||0==n?Date.vbSunday:parseInt(n);z=(n-1+parseInt(z)-1+7)%7+1;z=Date.WeekdayNames[z];1==m&&(z=z.substring(0,3));return z};Date.Weekday=function(z,m){m=isNaN(m)||0==m?Date.vbSunday:parseInt(m);return(parseInt(z)-m+7)%7+1};Date.FormatDateTime=function(z,m){"NOW"==z.toUpperCase().substring(0,3)&&(z=new Date);if(!Date.CDate(z))return"invalid date: '"+z+"'";isNaN(m)&&(m=Date.vbGeneralDate);
var n=Date.CDate(z);switch(parseInt(m)){case Date.vbGeneralDate:return n.toString();case Date.vbLongDate:return Format(z,"DDDD, MMMM D, YYYY");case Date.vbShortDate:return Format(z,"MM/DD/YYYY");case Date.vbLongTime:return n.toLocaleTimeString();case Date.vbShortTime:return Format(z,"HH:MM:SS");default:return"invalid NamedFormat: '"+m+"'"}};Date.Format=function(z,m,n,l){if(!Date.CDate(z))return"invalid date: '"+z+"'";if(!m||""==m)return c.toString();var c=Date.CDate(z);Date.pad=function(b){1==b.toString().length&&
(b="0"+b);return b};z=12<=c.getHours()?"PM":"AM";l=c.getHours();0==l&&(l=12);12<l&&(l-=12);var p=l+":"+Date.pad(c.getMinutes())+":"+Date.pad(c.getSeconds())+" "+z,d=c.getMonth()+1+"/"+c.getDate()+"/"+(new String(c.getFullYear())).substring(2,4),a=Date.MonthName(c.getMonth()+1)+" "+c.getDate()+", "+c.getFullYear();m=m.replace(/C/gi,"CCCC");m=m.replace(/mmmm/gi,"XXXX");m=m.replace(/mmm/gi,"XXX");m=m.replace(/dddddd/gi,"AAAAAA");m=m.replace(/ddddd/gi,"AAAAA");m=m.replace(/dddd/gi,"AAAA");m=m.replace(/ddd/gi,
"AAA");m=m.replace(/timezone/gi,"ZZZZ");m=m.replace(/time24/gi,"TTTT");m=m.replace(/time/gi,"TTT");m=m.replace(/yyyy/gi,c.getFullYear());m=m.replace(/yy/gi,(new String(c.getFullYear())).substring(2,4));m=m.replace(/y/gi,Date.DatePart("y",c));m=m.replace(/q/gi,Date.DatePart("q",c));m=m.replace(/mm/gi,c.getMonth()+1);m=m.replace(/m/gi,c.getMonth()+1);m=m.replace(/dd/gi,Date.pad(c.getDate()));m=m.replace(/d/gi,c.getDate());m=m.replace(/hh/gi,Date.pad(c.getHours()));m=m.replace(/h/gi,c.getHours());m=
m.replace(/nn/gi,Date.pad(c.getMinutes()));m=m.replace(/n/gi,c.getMinutes());m=m.replace(/ss/gi,Date.pad(c.getSeconds()));m=m.replace(/s/gi,c.getSeconds());m=m.replace(/t t t t t/gi,p);m=m.replace(/am\/pm/g,12<=c.getHours()?"pm":"am");m=m.replace(/AM\/PM/g,12<=c.getHours()?"PM":"AM");m=m.replace(/a\/p/g,12<=c.getHours()?"p":"a");m=m.replace(/A\/P/g,12<=c.getHours()?"P":"A");m=m.replace(/AMPM/g,12<=c.getHours()?"pm":"am");m=m.replace(/XXXX/gi,Date.MonthName(c.getMonth()+1,!1));m=m.replace(/XXX/gi,
Date.MonthName(c.getMonth()+1,!0));m=m.replace(/AAAAAA/gi,a);m=m.replace(/AAAAA/gi,d);m=m.replace(/AAAA/gi,Date.WeekdayName(c.getDay()+1,!1,n));m=m.replace(/AAA/gi,Date.WeekdayName(c.getDay()+1,!0,n));m=m.replace(/TTTT/gi,c.getHours()+":"+Date.pad(c.getMinutes()));m=m.replace(/TTT/gi,l+":"+Date.pad(c.getMinutes())+" "+z);m=m.replace(/CCCC/gi,d+" "+p);tz=c.getTimezoneOffset();timezone=0>tz?"GMT-"+tz/60:0==tz?"GMT":"GMT+"+tz/60;return m=m.replace(/ZZZZ/gi,timezone)}},function(M,Y,I){function z(d,a){if("function"!==
typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);d.prototype=Object.create(a&&a.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(d,a):d.__proto__=a)}var m=I(0),n=I(6),l=I(22),c=I(21),p=I(5);(function(d){var a={selector:".firstConCalc",config:"[data-config]",step1:".step-1",step2:".step-2",step3:".step-3",systemError:".client.error",prfnight_select_date_error:"prfnight_select_date_error",
prfnighterrorDateMessage:"prfnightErrorDateMessage",showStep:".showStep",checked_pr_freq:"[name\x3dpr_freq]",pr_freq:"[name\x3dpr_freq]",noncal_start_day:"[name\x3dnoncal_start_day]",submitButton:".submit-button",stepTwoBackButton:".step2-back-button",stepTwoCalculatorButton:".step2-calculate-button",stepThreeReCalculateButton:".step3-re-calculate-button",stepThreeReInputIncomeButton:".step3-re-input-income-button",step3PrintButton:".step3-print-button",prfnight_start_date:"[name\x3dprfnight_start_date_dd]",
prfnight_start_month:"[name\x3dprfnight_start_date_mm]",prfnight_start_year:"[name\x3dprfnight_start_date_yyyy]",prweekly_cycle:"[name\x3dprweekly_cycle]",doe_date:"[name\x3ddoe_dd]",doe_month:"[name\x3ddoe_mm]",doe_year:"[name\x3ddoe_yyyy]",step2table1:"#step2table1",step2Table2:"#step2Table2",step2Table3:"#step2Table3",step3Table1:"#step3Table1",step3Table2:"#step3Table2",step3Table3:"#step3Table3",step3Table3Mobile:"#step3Table3Mobile",publicHolidaysId:"#publicHolidaysId",noCalendarDate:"[name\x3dnoncal_start_day]",
prfnightStartDate:"[name\x3dprfnight_start_date]",prfWeeklyCycle:"[name\x3dprweekly_cycle]",doe:"[name\x3ddoe]"},b=[8,9,13,16,17,18,20,27,33,34,35,36,37,38,39,40,45,46,91],f=function(e){function k(h){if(!(this instanceof k))throw new TypeError("Cannot call a class as a function");var g=e.call(this,h);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");g=!g||"object"!==typeof g&&"function"!==typeof g?this:g;g.$elem=h;g.$config=d(a.config,g.$elem);g.config=
g.$config.data("config");g.$stepTracker=d(a.stepTracker,g.$elem);g.$step1=d(a.step1,g.$elem);g.$step2=d(a.step2,g.$elem);g.$step3=d(a.step3,g.$elem);g.$showStep=d(a.showStep,g.$elem);g.$publicHolidaysId=d(a.publicHolidaysId,g.$elem);g.$pr_freq=d(a.pr_freq,g.$elem);g.$checked_pr_freq=d(a.checked_pr_freq,g.$elem);g.$submitButton=d(a.submitButton,g.$elem);g.$systemError=d(a.systemError,g.$elem);g.$noncal_start_day=d(a.noncal_start_day,g.$elem);g.$prfnight_start_date=d(a.prfnight_start_date,g.$elem);
g.$prfnight_start_month=d(a.prfnight_start_month,g.$elem);g.$prfnight_start_year=d(a.prfnight_start_year,g.$elem);g.$prweekly_cycle=d(a.prweekly_cycle,g.$elem);g.$doe_date=d(a.doe_date,g.$elem);g.$doe_month=d(a.doe_month,g.$elem);g.$doe_year=d(a.doe_year,g.$elem);g.$select_date_error=d(a.select_date_error,g.$elem);g.$errorDateMessage=d(a.errorDateMessage,g.$elem);g.$prfnight_select_date_error=d(a.prfnight_select_date_error,g.$elem);g.$prfnighterrorDateMessage=d(a.prfnighterrorDateMessage,g.$elem);
g.$stepTwoBackButton=d(a.stepTwoBackButton,g.$elem);g.$stepTwoCalculatorButton=d(a.stepTwoCalculatorButton,g.$elem);g.$stepThreeReCalculateButton=d(a.stepThreeReCalculateButton,g.$elem);g.$stepThreeReInputIncomeButton=d(a.stepThreeReInputIncomeButton,g.$elem);g.$stepThreePrintButton=d(a.step3PrintButton,g.$elem);g.$step2table1=d(a.step2table1,g.$elem);g.$step2Table2=d(a.step2Table2,g.$elem);g.$step2Table3=d(a.step2Table3,g.$elem);g.$step3Table1=d(a.step3Table1,g.$elem);g.$step3Table2=d(a.step3Table2,
g.$elem);g.$step3Table3=d(a.step3Table3,g.$elem);g.$step3Table3Mobile=d(a.step3Table3Mobile,g.$elem);g.$noCalendarDate=d(a.noCalendarDate,g.$elem);g.$prfnightStartDate=d(a.prfnightStartDate,g.$elem);g.$prfnightStartDateselector=new p.Dateselector(g.$prfnightStartDate.parent());g.$prfWeeklyCycle=d(a.prfWeeklyCycle,g.$elem);g.$doe=d(a.doe,g.$elem);g.$doeSelector=new p.Dateselector(g.$doe.parent());g.publicHolidays=[];g.step2Inputs=[];g.prFreq="";g.checkPrfnightStartDate="";g.checkDoeMonth="";g.cacl1=
new n.Cacl1;g.setDefaultChecked();g.bindUiElements();g.bindUiEvents();g.TMS.trackView(g.tealiumConfig.firstConSelectStep);return g}z(k,e);k.prototype.initHolidays=function(){var h=this;this.config.publicHolidays.split(",").forEach(function(g){g=g.replace(/(^\s*)|(\s*$)/g,"");if(/^(\d{1,2})\/(\d{1,2})\/(\d{4})$/.test(g))h.publicHolidays.push(g);else throw console.log("show error message"),Error("parse public holiday failure");})};k.prototype.setDefaultChecked=function(){this.$noCalendarDate[0].selectize.disableFocus();
this.$prfnightStartDateselector.disableFocus();this.$prfWeeklyCycle[0].selectize.disableFocus();this.$pr_freq[0].setAttribute("checked","checked")};k.prototype.getCheckedRadioValue=function(){for(var h=this.$checked_pr_freq,g=0;g<h.length;g++)if(h[g].checked)return h[g].value};k.prototype.checkSelectedDate=function(){return this.$systemError.hasClass("hide")};k.prototype.validateDate=function(h,g,q){return(new Date(h,g,q)).getDate()==q};k.prototype.bindUiElements=function(){(0,m.bindLink)(d("[role\x3dlink]",
this.$elem));(0,m.bindButton)(d("[role\x3dbutton]",this.$elem));this.initHolidays();this.scope.set("publicHolidays",this.publicHolidays)};k.prototype.checkDate=function(){this.prfnightStartDateValidate();this.doeMonthValidate();this.$pr_freq[3].checked&&!this.checkPrfnightStartDate?(this.showError(this.config.fortnightError),this.scope.set("prfnight_start_date/status","visuallyhidden"),this.scope.set("prfnight_start_date/message",this.config.fortnightError)):this.checkDoeMonth?(this.$prfnightStartDateselector.removeError(),
this.scope.set("prfnight_start_date/message",""),this.scope.set("doe/message",""),this.removeError()):(this.showError(this.config.doeDateError),this.scope.set("doe/status","visuallyhidden"),this.scope.set("doe/message",this.config.doeDateError))};k.prototype.showError=function(h){this.scope.set("systemError/message",h);this.$submitButton.addClass("disabled");this.$submitButton.attr("aria-disabled","false")};k.prototype.removeError=function(){this.scope.set("systemError/message","");this.$submitButton.removeClass("disabled");
this.$submitButton.attr("aria-disabled","false")};k.prototype.bindUiEvents=function(){var h=this;this.$noCalendarDate.on("change",function(g){h.$pr_freq[1].checked||(h.$pr_freq[1].checked=!0);h.$noCalendarDate[0].selectize.enableFocus();h.$prfnightStartDateselector.disableFocus();h.$prfWeeklyCycle[0].selectize.disableFocus();h.checkDate()});this.$prfnightStartDate.on("change",function(g){h.$pr_freq[3].checked||(h.$pr_freq[3].checked=!0,h.$prfnightStartDateselector.enableFocus(),h.$prfWeeklyCycle[0].selectize.disableFocus(),
h.$noCalendarDate[0].selectize.disableFocus());h.checkDate()});this.$prfWeeklyCycle.on("change",function(g){h.$pr_freq[4].checked||(h.$pr_freq[4].checked=!0);h.$prfWeeklyCycle[0].selectize.enableFocus();h.$noCalendarDate[0].selectize.disableFocus();h.$prfnightStartDateselector.disableFocus();h.checkDate()});this.$pr_freq.on("change",function(g){h.$noCalendarDate[0].selectize.disableFocus();h.$prfnightStartDateselector.disableFocus();h.$prfWeeklyCycle[0].selectize.disableFocus();h.$pr_freq[1].checked&&
(h.$noCalendarDate[0].selectize.enableFocus(),h.checkDate());h.$pr_freq[4].checked&&(h.$prfWeeklyCycle[0].selectize.enableFocus(),h.checkDate());h.$pr_freq[3].checked?(h.$prfnightStartDateselector.enableFocus(),h.checkDate()):(h.$prfnightStartDateselector.removeError(),h.doeMonthValidate(),h.checkDoeMonth?h.removeError():(h.showError(h.config.doeDateError),h.scope.set("doe/status","visuallyhidden"),h.scope.set("doe/message",h.config.doeDateError)))});this.$doe.on("change",function(g){h.checkDate()});
this.$submitButton.on("action",function(g){h.getFirstFormValues();h.calculator=new c.Calculator(h.scope);h.checkSelectedDate()&&(window.scrollTo(0,0),h.showStep2())});this.$stepTwoBackButton.on("action",function(g){h.TMS.trackEvent({event_category:"content",event_action:"button",event_content:"Back"});window.scrollTo(0,0);h.backToStep1()});this.$stepTwoCalculatorButton.on("action",function(g){h.calculator=new c.Calculator(h.scope);window.scrollTo(0,0);h.showStep3()});this.$stepThreeReCalculateButton.on("action",
function(g){h.TMS.trackEvent({event_category:"content",event_action:"button",event_content:"Re-calculate"});window.scrollTo(0,0);h.step3BackToStep1()});this.$stepThreeReInputIncomeButton.on("action",function(g){h.TMS.trackEvent({event_category:"content",event_action:"button",event_content:"Re-input income"});window.scrollTo(0,0);h.step3BackToStep2()});this.$stepThreePrintButton.on("action",function(g){h.TMS.trackEvent({event_category:"content",event_action:"button",event_content:"Print"});try{window.scrollTo(0,
0),document.execCommand("print",!1,"")||window.print()}catch(q){window.print()}});this.$step2Table3.on("input keyup change blur",function(g){var q=g.which;q&&(-1!=b.indexOf(q)||g.ctrlKey||g.altKey||g.metaKey)||(g=d(g.target).closest("tr"),(q=g.find("input[name*\x3dri]").val())&&"0.00"!=q&&(q=(q=q.match(/(0|[1-9]\d*)(\.\d{0,2})?/))?q[0]:"",12<q.length&&(q=q.substr(0,12)),g.find("input[name*\x3dri]").val(q)))})};k.prototype.step3BackToStep2=function(){this.TMS.trackView(this.tealiumConfig.firstConInputStep);
this.$step3.removeClass("showStep");this.$step2.addClass("showStep")};k.prototype.step3BackToStep1=function(){this.TMS.trackView(this.tealiumConfig.firstConSelectStep);this.$step3.removeClass("showStep");this.$step1.addClass("showStep")};k.prototype.getFirstFormValues=function(){var h=this.getCheckedRadioValue(),g=this.$noncal_start_day.val(),q=this.$prfnight_start_date.val(),x=this.$prfnight_start_month.val(),u=this.$prfnight_start_year.val(),r=this.$prweekly_cycle.val(),t=this.$doe_date.val(),y=
this.$doe_month.val(),w=this.$doe_year.val();this.scope.set("prFreq",h);this.scope.set("noncalStartDay",g);this.scope.set("prfnightStartDate",q);this.scope.set("prfnightStartMonth",x);this.scope.set("prfnightStartYear",u);this.scope.set("prweeklyCycle",r);this.scope.set("doeYear",w);this.scope.set("doeMonth",y);this.scope.set("doeDate",t);h=!1;8==Object.keys(this.config.rate).length&&(h=!0,this.scope.set("monthly_data",this.formatData(this.config.rate.monthly_data,[])),this.scope.set("non_calendar_month_data",
this.formatData(this.config.rate.non_calendar_month_data,[])),this.scope.set("semi_month_13th_data",this.formatData(this.config.rate.semi_month_13th_data,[])),this.scope.set("semi_month_14th_data",this.formatData(this.config.rate.semi_month_14th_data,[])),this.scope.set("semi_month_15th_data",this.formatData(this.config.rate.semi_month_15th_data,[])),this.scope.set("semi_month_16th_data",this.formatData(this.config.rate.semi_month_16th_data,[])),this.scope.set("fortnightly_data",this.formatData(this.config.rate.fortnightly_data,
[])),this.scope.set("weekly_data",this.formatData(this.config.rate.weekly_data,[])));this.scope.set("flag",h);this.firstCont2=new l.Firstcont2(this.scope)};k.prototype.formatData=function(h,g){h.forEach(function(q,x){g[x]=[atob(q.effectiveDate),atob(q.minRI),atob(q.maxRI),atob(q.employerRate),atob(q.employeeRate)]});return g};k.prototype.prfnightStartDateValidate=function(){var h=this.$prfnight_start_date.val(),g=this.$prfnight_start_month.val(),q=this.$prfnight_start_year.val();this.checkPrfnightStartDate=
this.validateDate(q,g,h);this.$pr_freq[3].checked&&0==this.checkPrfnightStartDate?this.$prfnightStartDateselector.addError():this.$prfnightStartDateselector.removeError()};k.prototype.doeMonthValidate=function(){var h=this.$doe_date.val(),g=this.$doe_month.val(),q=this.$doe_year.val();this.checkDoeMonth=this.validateDate(q,g,h);0==this.checkDoeMonth?this.$doeSelector.addError():this.$doeSelector.removeError()};k.prototype.showStep2=function(){var h="",g="2"!=this.firstCont2.strFormAgeGroup?this.firstCont2.cacl2.getDisplayAgeDesc(this.firstCont2.cacl2.getEEAge()):
this.config.ages18to65,q=this.firstCont2.cacl2.getDisplayPryllFeqDesc(this.firstCont2.cacl2.getPryllFrequency(),this.config);this.firstCont2.cacl2.getPryllFrequency()==this.firstCont2.cacl2.G_INT_PF_WEEKLY&&(q+="("+this.firstCont2.cacl2.getDisplayWeeklyDesc(this.firstCont2.cacl2.getWeeklyCycle(),this.config)+")");h=h+'\x3ctable\x3e\x3ccaption\x3e\x3cdiv class\x3d"visuallyhidden"\x3e'+(this.config.firstTableCaption+"\x3c/div\x3e\x3c/caption\x3e");h=h+'\x3ctr class\x3d"lightgrey"\x3e\x3cth scope\x3d"row" width\x3d"50%"\x3e'+
(this.config.payrollFrequency+"\x3c/th\x3e");h=h+'\x3ctd width\x3d"50%"\x3e'+q+"\x3c/td\x3e\x3c/tr\x3e";h+='\x3ctr class\x3d"lightgrey"\x3e';h+='\x3cth scope\x3d"row"\x3e'+this.config.dateOfEmployment+"\x3c/th\x3e";h+="\x3ctd\x3e"+this.firstCont2.cacl2.getDisplayDate(this.firstCont2.cacl2.getDOE());h+="\x3c/td\x3e";h+="\x3c/tr\x3e";h+='\x3ctr class\x3d"lightgrey"\x3e';h+='\x3cth scope\x3d"row"\x3e'+this.config.employeeAgeAsDOE+"\x3c/th\x3e";h+="\x3ctd\x3e"+g;h+="\x3c/td\x3e";h+="\x3c/tr\x3e";h+="\x3c/table\x3e";
g='\x3ctable class\x3d"hsbcTableStyle02"\x3e\x3ccaption\x3e\x3cdiv class\x3d"visuallyhidden"\x3e'+(this.config.secondTableCaption+"\x3c/div\x3e\x3c/caption\x3e");g=g+'\x3ctr class\x3d"lightgrey"\x3e\x3cth scope\x3d"row" width\x3d"50%"\x3e'+(this.config.sixtyOfEmployment+"\x3c/th\x3e");g+='\x3ctd scope\x3d"row" width\x3d"50%"\x3e'+this.displayDateOfTable2();g=g+'\x3c/td\x3e\x3c/tr\x3e\x3ctr class\x3d"lightgrey"\x3e\x3cth scope\x3d"row"\x3e'+(this.config.thirtyOfEmployment+"\x3c/th\x3e\x3ctd\x3e"+this.firstCont2.cacl2.getDisplayDate(this.firstCont2.cacl2.getThe30thDOE()));
g=g+'\x3c/td\x3e\x3c/tr\x3e\x3ctr class\x3d"lightgrey"\x3e\x3cth scope\x3d"row"\x3e'+(this.config.thirtyOneOfEmployment+"\x3c/th\x3e\x3ctd\x3e"+this.firstCont2.cacl2.getDisplayDate(this.firstCont2.cacl2.getThe31stDOE()));g+="\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e";this.$step2table1.empty();this.$step2Table2.empty();this.$step2Table3.empty();this.$step2table1.append(h);this.$step2Table2.append(g);this.$step2Table3.append(this.calculator.formTable(this.config));this.$step1.removeClass("showStep");this.$step2.addClass("showStep");
this.tealiumConfig.firstConInputStep.form_field_1="payroll frequency:"+q;this.TMS.trackView(this.tealiumConfig.firstConInputStep)};k.prototype.showStep3=function(){var h="",g="2"!=this.firstCont2.strFormAgeGroup?this.firstCont2.cacl2.getDisplayAgeDesc(this.firstCont2.cacl2.getEEAge()):this.config.ages18to65,q=this.firstCont2.cacl2.getDisplayPryllFeqDesc(this.firstCont2.cacl2.getPryllFrequency(),this.config);this.firstCont2.cacl2.getPryllFrequency()==this.firstCont2.cacl2.G_INT_PF_WEEKLY&&(q+="("+
this.firstCont2.cacl2.getDisplayWeeklyDesc(this.firstCont2.cacl2.getWeeklyCycle(),this.config)+")");h=h+'\x3ctable class\x3d"hsbcTableStyle02"\x3e\x3ccaption\x3e\x3cdiv class\x3d"visuallyhidden"\x3e'+(this.config.forthTableCaption+"\x3c/div\x3e\x3c/caption\x3e");h=h+'\x3ctr class\x3d"lightgrey"\x3e\x3cth scope\x3d"row" width\x3d"50%"\x3e'+(this.config.payrollFrequency+"\x3c/th\x3e");h=h+'\x3ctd  width\x3d"50%"\x3e'+q+"\x3c/td\x3e\x3c/tr\x3e";h+='\x3ctr class\x3d"lightgrey"\x3e';h+='\x3cth scope\x3d"row"\x3e'+
this.config.dateOfEmployment+"\x3c/th\x3e";h+="\x3ctd\x3e"+this.firstCont2.cacl2.getDisplayDate(this.firstCont2.cacl2.getDOE());h+="\x3c/td\x3e";h+="\x3c/tr\x3e";h+='\x3ctr class\x3d"lightgrey"\x3e';h+='\x3cth scope\x3d"row"\x3e'+this.config.employeeAgeAsDOE+"\x3c/th\x3e";h+="\x3ctd\x3e"+g;h+="\x3c/td\x3e";h+="\x3c/tr\x3e";h+="\x3c/table\x3e";g='\x3ctable class\x3d"hsbcTableStyle02"\x3e\x3ccaption\x3e\x3cdiv class\x3d"visuallyhidden"\x3e'+(this.config.fifthTableCaption+"\x3c/div\x3e\x3c/caption\x3e");
g=g+'\x3ctr class\x3d"lightgrey"\x3e\x3cth scope\x3d"row" width\x3d"50%"\x3e'+(this.config.sixtyOfEmployment+"\x3c/th\x3e");g+='\x3ctd scope\x3d"row" width\x3d"50%"\x3e'+this.displayDateOfTable2();g=g+'\x3c/td\x3e\x3c/tr\x3e\x3ctr class\x3d"lightgrey" \x3e\x3cth scope\x3d"row"\x3e'+(this.config.thirtyOfEmployment+"\x3c/th\x3e\x3ctd\x3e"+this.firstCont2.cacl2.getDisplayDate(this.firstCont2.cacl2.getThe30thDOE()));g=g+'\x3c/td\x3e\x3c/tr\x3e\x3ctr class\x3d"lightgrey"\x3e\x3cth scope\x3d"row"\x3e'+
(this.config.thirtyOneOfEmployment+"\x3c/th\x3e\x3ctd\x3e"+this.firstCont2.cacl2.getDisplayDate(this.firstCont2.cacl2.getThe31stDOE()));g=g+'\x3c/td\x3e\x3c/tr\x3e\x3ctr class\x3d"lightgrey"\x3e\x3cth scope\x3d"row"\x3e'+(this.config.deadlineForEnroll+"\x3c/th\x3e\x3ctd\x3e"+this.calculator.displayDate(this.calculator.deadlineofEnrolment));g=g+'\x3c/td\x3e\x3c/tr\x3e\x3ctr class\x3d"lightgrey"\x3e\x3cth scope\x3d"row"\x3e'+(this.config.employerConCommence+"\x3c/th\x3e\x3ctd\x3e"+this.firstCont2.cacl2.getDisplayDate(this.firstCont2.cacl2.getErContCommenceDate()));
g=g+'\x3c/td\x3e\x3c/tr\x3e\x3ctr class\x3d"lightgrey"\x3e\x3cth scope\x3d"row"\x3e'+(this.config.employeeConCommence+"\x3c/th\x3e\x3ctd\x3e"+this.firstCont2.cacl2.getDisplayDate(this.firstCont2.cacl2.getEeContCommenceDate()));g=g+'\x3c/td\x3e\x3c/tr\x3e\x3ctr class\x3d"lightgrey"\x3e\x3cth scope\x3d"row"\x3e\x3cstrong\x3e'+(this.config.deadlineForFirstCon+"\x3c/strong\x3e\x3c/th\x3e\x3ctd\x3e\x3cstrong\x3e"+this.calculator.displayDate(this.calculator.deadlineofPayingFirstCont));g+="\x3c/strong\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e";
for(var x=0;x<this.calculator.ContributionPeriods.length;x++){var u=document.getElementsByName("ri_"+x)[0].value;u="undefined"==u||""==u?"0":parseFloat(u)+"";this.scope.set("ri_"+x,u)}this.calculator.scope=this.scope;this.$step3Table1.empty();this.$step3Table2.empty();this.$step3Table3.empty();this.$step3Table3Mobile.empty();this.$step3Table1.append(h);this.$step3Table2.append(g);this.$step3Table3.append(this.calculator.printTable(this.firstCont2.cacl2,this.config,!1));this.$step3Table3Mobile.append(this.calculator.printTable(this.firstCont2.cacl2,
this.config,!0));this.$step2.removeClass("showStep");this.$step3.addClass("showStep");this.tealiumConfig.firstConCompleteStep.form_field_1="payroll frequency:"+q;this.TMS.trackView(this.tealiumConfig.firstConCompleteStep)};k.prototype.displayDateOfTable2=function(){var h=this.calculator.displayDate(this.calculator.days60ofEmployment);this.calculator.boolHoliday(this.calculator.days60ofEmployment)?h+="\x26nbsp; "+this.config.publicHoliday:this.calculator.boolSunday(this.calculator.days60ofEmployment)?
h+="\x26nbsp; "+this.config.sunday:this.calculator.boolSaturday(this.calculator.days60ofEmployment)&&(h+="\x26nbsp; "+this.config.saturday);return h};k.prototype.backToStep1=function(){this.TMS.trackView(this.tealiumConfig.firstConSelectStep);this.$step1.addClass("showStep");this.$step2.removeClass("showStep")};k.prototype.getHiddenInputHTML=function(){var h=this.cacl2.getPryllFnightStartDate(),g=this.cacl2.getDOE(),q=this.cacl2.getDOB();this.scope.set("contperiod_size",this.cacl2.getContPeriods().length);
this.scope.set("pr_freq",this.cacl2.getPryllFrequency());this.scope.set("noncal_start_day",this.cacl2.getNonCalStartDay());this.scope.set("prfnight_start_year",h.getFullYear());this.scope.set("prfnight_start_month",h.getMonth());this.scope.set("prfnight_start_date",h.getDate());this.scope.set("prweekly_cycle",this.cacl2.getWeeklyCycle());this.scope.set("doe_year",g.getFullYear());this.scope.set("doe_month",g.getMonth());this.scope.set("doe_date",g.getDate());this.scope.set("dob_year",q.getFullYear());
this.scope.set("dob_month",q.getMonth());this.scope.set("dob_date",q.getDate());this.scope.set("age_group",this.firstCont2.strFormAgeGroup)};return k}(m.ToolsBase);TOOLS_utils.registerComponent({name:"firstConCalc",selector:a.selector,init:function(e){return new f(e)}})})(Bootstrap.jQuery)},function(M,Y,I){function z(d,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);d.prototype=Object.create(a&&a.prototype,{constructor:{value:d,
enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(d,a):d.__proto__=a)}var m=I(0),n=I(6),l=I(24),c=I(23),p=I(5);(function(d){var a={selector:".lastConCalc",config:"[data-config]",step1:".step-1",step2:".step-2",step3:".step-3",systemError:".client.error",showStep:".showStep",checked_pr_freq:"[name\x3dpr_freq]",pr_freq:"[name\x3dpr_freq]",noncal_start_day:"[name\x3dnoncal_start_day]",submitButton:".submit-button",stepTwoBackButton:".step2-back-button",stepTwoCalculatorButton:".step2-calculate-button",
stepThreeReCalculateButton:".step3-re-calculate-button",stepThreeReInputIncomeButton:".step3-re-input-income-button",step3PrintButton:".step3-print-button",prfnight_start_date:"[name\x3dprfnight_start_date_dd]",prfnight_start_month:"[name\x3dprfnight_start_date_mm]",prfnight_start_year:"[name\x3dprfnight_start_date_yyyy]",prweekly_cycle:"[name\x3dprweekly_cycle]",doe_date:"[name\x3ddoe_dd]",doe_month:"[name\x3ddoe_mm]",doe_year:"[name\x3ddoe_yyyy]",step2table1:"#step2table1",step2Table2:"#step2Table2",
step2Table3:"#step2Table3",step3Table1:"#step3Table1",step3Table2:"#step3Table2",step3Table3:"#step3Table3",step3Table3Mobile:"#step3Table3Mobile",noCalendarDate:"[name\x3dnoncal_start_day]",prfnightStartDate:"[name\x3dprfnight_start_date]",prfWeeklyCycle:"[name\x3dprweekly_cycle]",doe:"[name\x3ddoe]"},b=[8,9,13,16,17,18,20,27,33,34,35,36,37,38,39,40,45,46,91],f=function(e){function k(h){if(!(this instanceof k))throw new TypeError("Cannot call a class as a function");var g=e.call(this,h);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
g=!g||"object"!==typeof g&&"function"!==typeof g?this:g;g.$elem=h;g.$config=d(a.config,g.$elem);g.config=g.$config.data("config");g.$stepTracker=d(a.stepTracker,g.$elem);g.$step1=d(a.step1,g.$elem);g.$step2=d(a.step2,g.$elem);g.$step3=d(a.step3,g.$elem);g.$pr_freq=d(a.pr_freq,g.$elem);g.$checked_pr_freq=d(a.checked_pr_freq,g.$elem);g.$submitButton=d(a.submitButton,g.$elem);g.$systemError=d(a.systemError,g.$elem);g.$noncal_start_day=d(a.noncal_start_day,g.$elem);g.$prfnight_start_date=d(a.prfnight_start_date,
g.$elem);g.$prfnight_start_month=d(a.prfnight_start_month,g.$elem);g.$prfnight_start_year=d(a.prfnight_start_year,g.$elem);g.$prweekly_cycle=d(a.prweekly_cycle,g.$elem);g.$doe_date=d(a.doe_date,g.$elem);g.$doe_month=d(a.doe_month,g.$elem);g.$doe_year=d(a.doe_year,g.$elem);g.$select_date_error=d(a.select_date_error,g.$elem);g.$errorDateMessage=d(a.errorDateMessage,g.$elem);g.$stepTwoBackButton=d(a.stepTwoBackButton,g.$elem);g.$stepTwoCalculatorButton=d(a.stepTwoCalculatorButton,g.$elem);g.$stepThreeReCalculateButton=
d(a.stepThreeReCalculateButton,g.$elem);g.$stepThreeReInputIncomeButton=d(a.stepThreeReInputIncomeButton,g.$elem);g.$stepThreePrintButton=d(a.step3PrintButton,g.$elem);g.$step2table1=d(a.step2table1,g.$elem);g.$step2Table2=d(a.step2Table2,g.$elem);g.$step2Table3=d(a.step2Table3,g.$elem);g.$step3Table1=d(a.step3Table1,g.$elem);g.$step3Table2=d(a.step3Table2,g.$elem);g.$step3Table3=d(a.step3Table3,g.$elem);g.$step3Table3Mobile=d(a.step3Table3Mobile,g.$elem);g.$noCalendarDate=d(a.noCalendarDate,g.$elem);
g.$prfnightStartDate=d(a.prfnightStartDate,g.$elem);g.$prfnightStartDateselector=new p.Dateselector(g.$prfnightStartDate.parent());g.$prfWeeklyCycle=d(a.prfWeeklyCycle,g.$elem);g.$doe=d(a.doe,g.$elem);g.$doeSelector=new p.Dateselector(g.$doe.parent());g.publicHolidays=[];g.step2Inputs=[];g.prFreq="";g.checkPrfnightStartDate="";g.checkDoeMonth="";g.cacl1=new n.Cacl1;g.setDefaultChecked();g.bindUiElements();g.bindUiEvents();g.TMS.trackView(g.tealiumConfig.lastConSelectStep);return g}z(k,e);k.prototype.initHolidays=
function(){var h=this;this.config.publicHolidays.split(",").forEach(function(g){g=g.replace(/(^\s*)|(\s*$)/g,"");if(/^(\d{1,2})\/(\d{1,2})\/(\d{4})$/.test(g))h.publicHolidays.push(g);else throw console.log("show error message"),Error("parse public holiday failure");})};k.prototype.setDefaultChecked=function(){this.$noCalendarDate[0].selectize.disableFocus();this.$prfnightStartDateselector.disableFocus();this.$prfWeeklyCycle[0].selectize.disableFocus();this.$pr_freq[0].setAttribute("checked","checked")};
k.prototype.getCheckedRadioValue=function(){for(var h=this.$checked_pr_freq,g=0;g<h.length;g++)if(h[g].checked)return h[g].value};k.prototype.checkSelectedDate=function(){return this.$systemError.hasClass("hide")};k.prototype.validateDate=function(h,g,q){return(new Date(h,g,q)).getDate()==q};k.prototype.bindUiElements=function(){(0,m.bindLink)(d("[role\x3dlink]",this.$elem));(0,m.bindButton)(d("[role\x3dbutton]",this.$elem));this.initHolidays();this.scope.set("publicHolidays",this.publicHolidays)};
k.prototype.checkDate=function(){this.prfnightStartDateValidate();this.doeMonthValidate();this.$pr_freq[3].checked&&!this.checkPrfnightStartDate?(this.showError(this.config.fortnightError),this.scope.set("prfnight_start_date/status","visuallyhidden"),this.scope.set("prfnight_start_date/message",this.config.fortnightError)):this.checkDoeMonth?(this.$prfnightStartDateselector.removeError(),this.scope.set("prfnight_start_date/message",""),this.scope.set("doe/message",""),this.removeError()):(this.showError(this.config.doeDateError),
this.scope.set("doe/status","visuallyhidden"),this.scope.set("doe/message",this.config.doeDateError))};k.prototype.showError=function(h){this.scope.set("systemError/message",h);this.$submitButton.addClass("disabled");this.$submitButton.attr("aria-disabled","false")};k.prototype.removeError=function(){this.scope.set("systemError/message","");this.$submitButton.removeClass("disabled");this.$submitButton.attr("aria-disabled","false")};k.prototype.bindUiEvents=function(){var h=this;this.$noCalendarDate.on("change",
function(g){h.$pr_freq[1].checked||(h.$pr_freq[1].checked=!0);h.$noCalendarDate[0].selectize.enableFocus();h.$prfnightStartDateselector.disableFocus();h.$prfWeeklyCycle[0].selectize.disableFocus();h.checkDate()});this.$prfnightStartDate.on("change",function(g){h.$pr_freq[3].checked||(h.$pr_freq[3].checked=!0,h.$prfnightStartDateselector.enableFocus(),h.$prfWeeklyCycle[0].selectize.disableFocus(),h.$noCalendarDate[0].selectize.disableFocus());h.checkDate()});this.$prfWeeklyCycle.on("change",function(g){h.$pr_freq[4].checked||
(h.$pr_freq[4].checked=!0);h.$prfWeeklyCycle[0].selectize.enableFocus();h.$noCalendarDate[0].selectize.disableFocus();h.$prfnightStartDateselector.disableFocus();h.checkDate()});this.$pr_freq.on("change",function(g){h.$noCalendarDate[0].selectize.disableFocus();h.$prfnightStartDateselector.disableFocus();h.$prfWeeklyCycle[0].selectize.disableFocus();h.$pr_freq[1].checked&&(h.$noCalendarDate[0].selectize.enableFocus(),h.checkDate());h.$pr_freq[4].checked&&(h.$prfWeeklyCycle[0].selectize.enableFocus(),
h.checkDate());h.$pr_freq[3].checked?(h.$prfnightStartDateselector.enableFocus(),h.checkDate()):(h.$prfnightStartDateselector.removeError(),h.doeMonthValidate(),h.checkDoeMonth?h.removeError():(h.showError(h.config.doeDateError),h.scope.set("doe/status","visuallyhidden"),h.scope.set("doe/message",h.config.doeDateError)))});this.$doe.on("change",function(g){h.checkDate()});this.$submitButton.on("action",function(g){h.getFirstFormValues();h.calculator=new c.Calculator1(h.scope);h.checkSelectedDate()&&
(window.scrollTo(0,0),h.showStep2())});this.$stepTwoBackButton.on("action",function(g){h.TMS.trackEvent({event_category:"content",event_action:"button",event_content:"Back"});window.scrollTo(0,0);h.backToStep1()});this.$stepTwoCalculatorButton.on("action",function(g){h.calculator=new c.Calculator1(h.scope);window.scrollTo(0,0);h.showStep3()});this.$stepThreeReCalculateButton.on("action",function(g){h.TMS.trackEvent({event_category:"content",event_action:"button",event_content:"Re-calculate"});window.scrollTo(0,
0);h.step3BackToStep1()});this.$stepThreeReInputIncomeButton.on("action",function(g){h.TMS.trackEvent({event_category:"content",event_action:"button",event_content:"Re-input income"});window.scrollTo(0,0);h.step3BackToStep2()});this.$stepThreePrintButton.on("action",function(g){h.TMS.trackEvent({event_category:"content",event_action:"button",event_content:"Print"});try{window.scrollTo(0,0),document.execCommand("print",!1,"")||window.print()}catch(q){window.print()}});this.$step2Table3.on("input keyup change blur",
function(g){var q=g.which;q&&(-1!=b.indexOf(q)||g.ctrlKey||g.altKey||g.metaKey)||(g=d(g.target).closest("tr"),(q=g.find("input[name*\x3dri]").val())&&"0.00"!=q&&(q=(q=q.match(/(0|[1-9]\d*)(\.\d{0,2})?/))?q[0]:"",12<q.length&&(q=q.substr(0,12)),g.find("input[name*\x3dri]").val(q)))})};k.prototype.step3BackToStep2=function(){this.TMS.trackView(this.tealiumConfig.lastConInputStep);this.$step3.removeClass("showStep");this.$step2.addClass("showStep")};k.prototype.step3BackToStep1=function(){this.TMS.trackView(this.tealiumConfig.lastConSelectStep);
this.$step3.removeClass("showStep");this.$step1.addClass("showStep")};k.prototype.getFirstFormValues=function(){var h=this.getCheckedRadioValue(),g=this.$noncal_start_day.val(),q=this.$prfnight_start_date.val(),x=this.$prfnight_start_month.val(),u=this.$prfnight_start_year.val(),r=this.$prweekly_cycle.val(),t=this.$doe_date.val(),y=this.$doe_month.val(),w=this.$doe_year.val();this.scope.set("prFreq",h);this.scope.set("noncalStartDay",g);this.scope.set("prfnightStartDate",q);this.scope.set("prfnightStartMonth",
x);this.scope.set("prfnightStartYear",u);this.scope.set("prweeklyCycle",r);this.scope.set("doeYear",w);this.scope.set("doeMonth",y);this.scope.set("doeDate",t);h=!1;8==Object.keys(this.config.rate).length&&(h=!0,this.scope.set("monthly_data",this.formatData(this.config.rate.monthly_data,[])),this.scope.set("non_calendar_month_data",this.formatData(this.config.rate.non_calendar_month_data,[])),this.scope.set("semi_month_13th_data",this.formatData(this.config.rate.semi_month_13th_data,[])),this.scope.set("semi_month_14th_data",
this.formatData(this.config.rate.semi_month_14th_data,[])),this.scope.set("semi_month_15th_data",this.formatData(this.config.rate.semi_month_15th_data,[])),this.scope.set("semi_month_16th_data",this.formatData(this.config.rate.semi_month_16th_data,[])),this.scope.set("fortnightly_data",this.formatData(this.config.rate.fortnightly_data,[])),this.scope.set("weekly_data",this.formatData(this.config.rate.weekly_data,[])));this.scope.set("flag",h);this.lastCont2=new l.Lastcont2(this.scope)};k.prototype.formatData=
function(h,g){h.forEach(function(q,x){g[x]=[atob(q.effectiveDate),atob(q.minRI),atob(q.maxRI),atob(q.employerRate),atob(q.employeeRate)]});return g};k.prototype.prfnightStartDateValidate=function(){var h=this.$prfnight_start_date.val(),g=this.$prfnight_start_month.val(),q=this.$prfnight_start_year.val();this.checkPrfnightStartDate=this.validateDate(q,g,h);this.$pr_freq[3].checked&&0==this.checkPrfnightStartDate?this.$prfnightStartDateselector.addError():this.$prfnightStartDateselector.removeError()};
k.prototype.doeMonthValidate=function(){var h=this.$doe_date.val(),g=this.$doe_month.val(),q=this.$doe_year.val();this.checkDoeMonth=this.validateDate(q,g,h);0==this.checkDoeMonth?this.$doeSelector.addError():this.$doeSelector.removeError()};k.prototype.showStep2=function(){var h="",g=this.lastCont2.cacl2.getDisplayPryllFeqDesc(this.lastCont2.cacl2.getPryllFrequency(),this.config);this.lastCont2.cacl2.getPryllFrequency()==this.lastCont2.cacl2.G_INT_PF_WEEKLY&&(g+="("+this.lastCont2.cacl2.getDisplayWeeklyDesc(this.lastCont2.cacl2.getWeeklyCycle(),
this.config)+")");h=h+'\x3ctable\x3e\x3ccaption\x3e\x3cdiv class\x3d"visuallyhidden"\x3e'+(this.config.firstTableCaption+"\x3c/div\x3e\x3c/caption\x3e");h=h+'\x3ctr class\x3d"lightgrey"\x3e\x3cth scope\x3d"row" width\x3d"50%"\x3e'+(this.config.payrollFrequency+"\x3c/th\x3e");h=h+'\x3ctd scope\x3d"row" width\x3d"50%"\x3e'+g+"\x3c/td\x3e\x3c/tr\x3e";h+='\x3ctr class\x3d"lightgrey"\x3e';h+='\x3cth scope\x3d"row"\x3e'+this.config.lastDoe+"\x3c/th\x3e";h+="\x3ctd\x3e"+this.lastCont2.cacl2.getDisplayDate(this.lastCont2.cacl2.getLastDOE());
h+="\x3c/td\x3e";h+="\x3c/tr\x3e";h+="\x3c/table\x3e";this.$step2table1.empty();this.$step2Table3.empty();this.$step2table1.append(h);this.$step2Table3.append(this.lastCont2.getRelevantIncomeTableHTML(this.config));this.$step1.removeClass("showStep");this.$step2.addClass("showStep");this.tealiumConfig.lastConInputStep.form_field_1="payroll frequency:"+g;this.TMS.trackView(this.tealiumConfig.lastConInputStep)};k.prototype.showStep3=function(){var h="",g=this.lastCont2.cacl2.getDisplayPryllFeqDesc(this.lastCont2.cacl2.getPryllFrequency(),
this.config);this.lastCont2.cacl2.getPryllFrequency()==this.lastCont2.cacl2.G_INT_PF_WEEKLY&&(g+="("+this.lastCont2.cacl2.getDisplayWeeklyDesc(this.lastCont2.cacl2.getWeeklyCycle(),this.config)+")");h=h+'\x3ctable class\x3d"hsbcTableStyle02"\x3e\x3ccaption\x3e\x3cdiv class\x3d"visuallyhidden"\x3e'+(this.config.thirdTableCaption+"\x3c/div\x3e\x3c/caption\x3e");h=h+'\x3ctr class\x3d"lightgrey"\x3e\x3cth scope\x3d"row" width\x3d"50%"\x3e'+(this.config.payrollFrequency+"\x3c/th\x3e");h=h+'\x3ctd scope\x3d"row" width\x3d"50%"\x3e'+
g+"\x3c/td\x3e\x3c/tr\x3e";h+='\x3ctr class\x3d"lightgrey"\x3e';h+='\x3cth scope\x3d"row"\x3e'+this.config.lastDoe+"\x3c/th\x3e";h+="\x3ctd\x3e"+this.lastCont2.cacl2.getDisplayDate(this.lastCont2.cacl2.getLastDOE());h+="\x3c/td\x3e";h+="\x3c/tr\x3e";h+='\x3ctr class\x3d"lightgrey"\x3e';h+='\x3cth scope\x3d"row"\x3e'+this.config.deadlineForLastCon+"\x3c/th\x3e";h+="\x3ctd\x3e"+this.lastCont2.cacl2.getDisplayDate(this.lastCont2.cacl2.getDeadlineForLastCont());h+="\x3c/td\x3e";h+="\x3c/tr\x3e";h+="\x3c/table\x3e";
var q=document.getElementsByName("ri_0")[0].value;q=isNaN(Number(q))||""==q?"0":parseFloat(q)+"";this.calculator.scope=this.scope;this.$step3Table1.empty();this.$step3Table2.empty();this.$step3Table3.empty();this.$step3Table3Mobile.empty();this.$step3Table1.append(h);this.$step3Table2.append("");this.$step3Table3.append(this.calculator.getContributionTableHTML(this.lastCont2.cacl2,q,this.config,!1));this.$step3Table3Mobile.append(this.calculator.getContributionTableHTML(this.lastCont2.cacl2,q,this.config,
!0));this.$step2.removeClass("showStep");this.$step3.addClass("showStep");this.tealiumConfig.lastConCompleteStep.form_field_1="payroll frequency:"+g;this.TMS.trackView(this.tealiumConfig.lastConCompleteStep)};k.prototype.backToStep1=function(){this.TMS.trackView(this.tealiumConfig.lastConSelectStep);this.$step1.addClass("showStep");this.$step2.removeClass("showStep")};return k}(m.ToolsBase);TOOLS_utils.registerComponent({name:"lastConCalc",selector:a.selector,init:function(e){return new f(e)}})})(Bootstrap.jQuery)},
function(M,Y,I){var z=I(2);(function(m){function n(){m(c.formClass).trigger(p.AEMLayerChanged)}var l,c=(l={form:"form",input:"input",formClass:".simulatorForm",step:".step",row:".row",prevButton:".prev-button",nextButton:".next-button",submitButton:".submit-button",stepInfoRow:".step-info-row",stepContentRow:".step-content-row",stepContent:".step-content",stepContentFocusableElements:".step-content :focusable",contentObj:".main-grid",bulletContainer:".step-bullets",paddingTop:".padding-top",mainGrid:".main-grid",
inputSliderClass:".O-INPUTSLDR-RW-SIM",inputConfig:".calc-slider-field",retirementAgeInput:"[name\x3dretirementAge]",header:".header"},l.contentObj=".main-grid",l.bottomBar=".O-CTA2COL-RW-SIM",l.tealiumConfig="[data-tealium-config]",l),p={AEMLayerChanged:"formSteps:AEMLayerChanged"},d=m("body"),a=function(){function b(f){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.$elem=m(f);this.$form=this.$elem.find(c.form);this.$steps=this.$elem.find(c.step);this.$input=
this.$elem.find(c.input);this.$prevButtons=this.$elem.find(c.prevButton);this.$nextButtons=this.$elem.find(c.nextButton);this.$submitButton=this.$elem.find(c.submitButton);this.bulletContainer=this.$elem.find(c.bulletContainer);this.$header=m(c.header);this.$bottomBar=m(c.bottomBar);this.$contentObj=m(c.contentObj);this.$activeStep={$elem:null,$infoRow:null,$contentRow:null};this.rowHeight=this.$elem.find(c.row);this.mainGrid=d.find(c.mainGrid);this.paddingTop=d.find(c.paddingTop);this.allSteps=d.find(c.bulletContainer);
this.initTealiumConfig(f);this.bindUIEvents();this.checkLayerMode();this.changeFooterPositionAndBgHeight();this.changeBgHeight();this.retirementAgeField=this.$elem.find(c.inputSliderClass).filter(function(e,k){return 0<m(k).find(c.retirementAgeInput).length});this.retirementAgeFieldConfig=this.retirementAgeField.find(c.inputConfig);this.retirementAgeMin=parseInt(this.retirementAgeFieldConfig.data("min"))}b.prototype.initTealiumConfig=function(f){this.$tealiumConfig=m(c.tealiumConfig,f);this.tealiumConfig=
this.$tealiumConfig.data("tealium-config");this.tealiumScope=this.$tealiumConfig.data("tealium-scope");this.TMS=(0,z.Tealium)(this.tealiumScope)};b.prototype.bindUIEvents=function(){var f=this;this.$nextButtons.removeAttr("disabled");this.$nextButtons.on("click",function(e){return f.nextStep(e)});this.$prevButtons.on("click",function(e){return f.prevStep(e)});this.$submitButton.on("click",function(e){return f.resultStep(e)});this.$elem.on(p.AEMLayerChanged,function(){return f.checkLayerMode()});this.$elem.find(c.inputSliderClass).on("fieldUpdated",
function(e,k){"age"==k.name&&(f.age=k.value)});this.$form.submit(function(){f.$form.find(c.input).each(function(e,k){k.value=k.value.replace(/,/g,"")})});this.$input.focus(function(){f.$input.each(function(e,k){k&&k.createTextRange&&(e=k.createTextRange(),e.move("character",10),e.collapse(!0),e.select())})});m(window).on({resize:function(){f.changeFooterPositionAndBgHeight();f.changeBgHeight()}})};b.prototype.setActiveStep=function(f){var e=f.data("page-title");document.title=e;this.tealiumConfig.page_url=
f.data("page-url");this.tealiumConfig.funnel_step=f.data("funnel-step");this.tealiumConfig.funnel_name=f.data("funnel-name");this.tealiumConfig.funnel_step_name=f.data("step-name");this.TMS.trackView(this.tealiumConfig);this.$activeStep.$elem=f;this.$activeStep.$infoRow=f.find(c.stepInfoRow);this.$activeStep.$contentRow=f.find(c.stepContentRow);this.$activeStep.$bulletContainer=f.find(c.bulletContainer);f.find(c.stepContentFocusableElements).first().focus();f.find(c.stepContentFocusableElements).first()[0]&&
f.find(c.stepContentFocusableElements).first()[0].createTextRange&&(f=f.find(c.stepContentFocusableElements).first()[0].createTextRange(),f.move("character",10),f.collapse(!0),f.select())};b.prototype.changeFooterPositionAndBgHeight=function(){this.$contentObj.css("height","auto");this.$contentObj.css("min-height","auto");if(!TOOLS_utils.isEditMode()&&!TOOLS_utils.isPreviewMode())if(TOOLS_utils.matchMedia.mobile)this.$contentObj.css("min-height","auto");else{m("body").innerHeight();var f=this.$header.outerHeight(!0)||
0,e=this.$contentObj.outerHeight(!0)||0,k=this.$bottomBar.outerHeight(!0)||0,h=k=e+k;window.innerHeight>f+e&&(h=TOOLS_utils.matchMedia.tablet?"auto":window.innerHeight-f);h<k&&(h=k);this.$contentObj.css("height",h);this.$contentObj.css("min-height",h)}};b.prototype.changeBgHeight=function(){if(!TOOLS_utils.isEditMode()&&!TOOLS_utils.isPreviewMode()){this.$activeStep.$infoRow.css("min-height","auto");this.$activeStep.$bulletContainer.css("height","auto");var f=this.mainGrid.outerHeight(!0)||0;TOOLS_utils.matchMedia.mobile||
TOOLS_utils.matchMedia.tablet?this.$activeStep.$bulletContainer.css("max-height","auto"):this.$activeStep.$bulletContainer.css("height",f)}if(TOOLS_utils.isEditMode()||TOOLS_utils.isPreviewMode()){if(TOOLS_utils.matchMedia.desktop){f=this.allSteps.length;for(var e=0;e<f;e++){var k=this.allSteps.eq(e).closest(this.rowHeight).outerHeight();this.allSteps.eq(e).css("height",k)}}else this.allSteps.css("height","auto");this.paddingTop.css("padding",0)}else f=this.$activeStep.$bulletContainer.outerHeight(!0),
this.$activeStep.$bulletContainer.css("height","auto"),this.$activeStep.$bulletContainer.css("height",f),this.paddingTop.css("padding","auto")};b.prototype.checkLayerMode=function(){TOOLS_utils.isEditMode()?this.showAllStep():(this.hideAllStep(),this.showFirstStep(),m(window).trigger("resize"))};b.prototype.showFirstStep=function(){this.setActiveStep(this.$steps.eq(0));this.changeBgHeight();this.$steps.eq(0).show()};b.prototype.hideAllStep=function(){this.$steps.hide()};b.prototype.showAllStep=function(){this.$steps.show()};
b.prototype.nextStep=function(f){var e=m(f.target).closest(c.step),k=e.next();f.preventDefault();this.TMS.trackEvent({event_category:"content",event_action:"button",event_content:e.data("event-content")});this.age&&(this.retirementAgeFieldConfig.data("min",Math.max(this.retirementAgeMin,this.age+1)),this.retirementAgeField.find(".slider-field-label .left").text(Math.max(this.retirementAgeMin,this.age+1)),this.retirementAgeField.trigger("update"));k.length&&(e.hide(),k.show(),this.setActiveStep(k),
m(window).trigger("resize"))};b.prototype.prevStep=function(f){var e=m(f.target).closest(c.step),k=e.prev();f.preventDefault();k.length&&(e.hide(),k.show(),this.setActiveStep(k),m(window).trigger("resize"))};b.prototype.resultStep=function(f){f=m(f.target).closest(c.step);this.TMS.trackEvent({event_category:"content",event_action:"button",event_content:f.data("event-content")})};return b}();TOOLS_utils.registerComponent({name:"formSteps",selector:c.formClass,init:function(b){new a(b)},switchToEditHandler:n,
switchToPreviewHandler:n})})(Bootstrap.jQuery)},function(M,Y,I){(function(z){var m=function(){function n(l){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this.$elem=z(l);this.$sliderConfig=this.$elem.find(".calc-slider-field");this.$slider=this.$elem.find(".calc-slider");this.$sliderHandle=this.$elem.find(".ui-slider-handle");this.$input=this.$elem.find("input").eq(0);this.fieldSettings={name:this.$sliderConfig.data("name"),range:{min:parseInt(this.$sliderConfig.data("min")),
max:parseInt(this.$sliderConfig.data("max"))},step:parseInt(this.$sliderConfig.data("step")),value:parseInt(this.$sliderConfig.data("value"))};this.createSlider();this.bindUIEvents();this.setValue(this.fieldSettings.value)}n.prototype.createSlider=function(){var l=this;this.$slider.slider({range:"min",value:this.fieldSettings.value,min:this.fieldSettings.range.min,max:this.fieldSettings.range.max,step:this.fieldSettings.step,slide:function(c,p){l.lastValue!==p.value&&(l.setValue(p.value),l.lastValue=
p.value)},create:function(){l.lastValue=l.fieldSettings.value}});this.$minusButton=z(".minus-button",this.$elem);this.$plusButton=z(".plus-button",this.$elem);this.$minusButton.on("click",function(){l.fieldSettings.value-=l.fieldSettings.step;l.fieldSettings.value<l.fieldSettings.range.min&&(l.fieldSettings.value=l.fieldSettings.range.min);l.setValue(l.fieldSettings.value)});this.$plusButton.on("click",function(){l.fieldSettings.value+=l.fieldSettings.step;l.fieldSettings.value>l.fieldSettings.range.max&&
(l.fieldSettings.value=l.fieldSettings.range.max);l.setValue(l.fieldSettings.value)})};n.prototype.setValue=function(l){var c=this;l<this.fieldSettings.range.min?l=this.fieldSettings.range.min:l>this.fieldSettings.range.max&&(l=this.fieldSettings.range.max);this.fieldSettings.value=l;this.$input.val(l.toLocaleString("en"));this.$slider.slider({value:l});this.$elem.trigger("fieldUpdated",{name:this.fieldSettings.name,value:this.fieldSettings.value});setTimeout(function(){c.setAriaOnSlider()},0)};n.prototype.bindUIEvents=
function(){var l=this;this.$input.focus();this.$input[0].selectionStart=2;this.$input[0].selectionEnd=this.$input[0].value.length;this.$input.on("keyup click",function(){return l.setOnlyNumbers()});this.$input.on("change",function(){return l.changeSliderVal()});this.$input.on("blur",function(){return l.changeSliderVal()});this.$input.on("keydown",function(c){if("13"==(window.event?c.keyCode:c.which).toString())return!1});this.$elem.on("update",function(){l.fieldSettings.range={min:parseInt(l.$sliderConfig.data("min")),
max:parseInt(l.$sliderConfig.data("max"))};l.$slider.slider({min:l.fieldSettings.range.min,max:l.fieldSettings.range.max});l.setValue(l.fieldSettings.value)})};n.prototype.changeSliderVal=function(){this.setOnlyNumbers();var l=parseInt(this.$input.val())||0;this.setValue(l)};n.prototype.setOnlyNumbers=function(){var l=this.$input.val();/\D/g.test(l)&&this.$input.val(l.replace(/\D/g,""))};n.prototype.setAriaOnSlider=function(){this.$sliderHandle.attr({role:"slider","aria-valuemin":this.fieldSettings.range.min,
"aria-valuemax":this.fieldSettings.range.max,"aria-valuenow":this.fieldSettings.value})};return n}();TOOLS_utils.registerComponent({name:"inputSlider",selector:".O-INPUTSLDR-RW-SIM",init:function(n){new m(n)}})})(Bootstrap.jQuery)},function(M,Y,I){(function(z){function m(){z(n.className).trigger(l.AEMLayerChanged)}var n={className:".O-RISKIND-RW-SIM",triangleElement:".triangle-element",input:"input",slider:".calc-slider-field",calcSlider:".calc-slider",sliderHandle:".ui-slider-handle",indicatorStep:".indicatorStep",
indicatorStepIn:".step-indicator",chooser:".chooser",infoText:".info-text",listOption:"ul li",showContainer:"showContainer",step:".step"},l={AEMLayerChanged:"formSteps:AEMLayerChanged"},c=function(){function p(d){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");this.$elem=z(d);this.$sliderConfig=this.$elem.find(n.slider);this.$slider=this.$elem.find(n.calcSlider);this.$sliderHandle=this.$elem.find(n.sliderHandle);this.$input=this.$elem.find(n.input).eq(0);this.indicatorStep=
this.$elem.find(n.indicatorStep);this.infoText=this.$elem.find(n.infoText);this.step=this.$elem.closest(n.step);this.fieldSettings={name:this.$sliderConfig.data("name"),range:{min:parseInt(this.$sliderConfig.data("min")),max:parseInt(this.$sliderConfig.data("max"))},step:parseInt(this.$sliderConfig.data("step")),value:parseInt(this.$sliderConfig.data("value")),labels:this.$sliderConfig.data("labels").split(",")};this.createSlider();this.lateCachedElem();this.checkLayerMode();this.bindUIEvents()}p.prototype.lateCachedElem=
function(){this.triangleElem=this.$elem.find(n.triangleElement);this.listOption=this.infoText.find(n.listOption);(this.step.is(":visible")||"block"===this.step.css("display"))&&this.setValue(this.fieldSettings.value)};p.prototype.bindUIEvents=function(){var d=this;this.$elem.on(l.AEMLayerChanged,function(){return d.checkLayerMode()});this.listOption.on({click:function(a){a=z(a.target).closest("li");a=d.listOption.index(a);d.setValue(a)}});z(window).on({resize:function(){d.lateCachedElem()}})};p.prototype.createSlider=
function(){var d=this;this.$slider.slider({range:"min",value:this.fieldSettings.value,min:this.fieldSettings.range.min,max:this.fieldSettings.range.max,step:this.fieldSettings.step,slide:function(a,b){if(d.lastValue!==b.value){d.setValue(b.value);d.lastValue=b.value;var f=d.fieldSettings.value-d.fieldSettings.range.min;d.$slider.find(".snap-point").each(function(e,k){z(k).toggleClass("filled",e<=f)})}},create:function(){d.lastValue=d.fieldSettings.value;var a=(d.fieldSettings.range.max-d.fieldSettings.range.min)/
d.fieldSettings.step,b=d.fieldSettings.value-d.fieldSettings.range.min,f=z("\x3cdiv/\x3e");f.addClass("snap-points");for(var e=0;e<=a;e++){var k=z("\x3cdiv/\x3e");k.addClass("snap-point");k.toggleClass("filled",e<=b);k.css("left",(e/a*100).toFixed(2)+"%");f.append(k)}d.$slider.prepend(f)}})};p.prototype.setValue=function(d){var a=this;this.fieldSettings.value=d;this.$input.val(d);this.$slider.slider({value:d});this.indicatorStep.removeClass(n.showContainer);this.indicatorStep.eq(d).addClass(n.showContainer);
this.listOption.css("font-weight","normal");this.listOption.eq(d).css("font-weight","bold");this.counterElemPrevMode(d);setTimeout(function(){a.setAriaOnSlider()},0)};p.prototype.counterElemPrevMode=function(d){var a=this.indicatorStep.length,b=100/(a-1)*d,f=Math.ceil((a+1)/a*1E4)/100,e=(100-f)/2;a=Math.floor(1E4/a)/100;this.triangleElem.eq(d).css("left",b.toFixed(2)+"%");this.infoText.css({width:f.toFixed(2)+"%","margin-left":e.toFixed(2)+"%"});this.listOption.css("width",a.toFixed(2)+"%")};p.prototype.setAriaOnSlider=
function(){this.$sliderHandle.attr({role:"slider","aria-valuemin":this.fieldSettings.range.min,"aria-valuemax":this.fieldSettings.range.max,"aria-valuenow":this.fieldSettings.value,"aria-valuetext":this.fieldSettings.labels[this.fieldSettings.value]+" "+this.indicatorStep.eq(this.fieldSettings.value).find(".add-space").text()})};p.prototype.onEditMode=function(){};p.prototype.onPrevMode=function(){};p.prototype.checkLayerMode=function(){if(TOOLS_utils.isEditMode())this.onEditMode();else this.onPrevMode()};
return p}();TOOLS_utils.registerComponent({name:"riskIndicator",selector:n.className,init:function(p){new c(p)},switchToEditHandler:m,switchToPreviewHandler:m})})(Bootstrap.jQuery)},function(M,Y,I){(function(z,m){if(!TOOLS_utils.isIE8orLower()){var n=function(){function c(p){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.el=p;this.$el=z(p);this.$wrapper=this.$el.find(".wrapper");this.$pagination=this.$el.find(".pagination");this.setCurrent(0);this.length=this.$el.find(".result-table-row").length;
this.bindUiEvents()}c.prototype.bindUiEvents=function(){var p=this;m(this.el).on("swiperight",function(){return p.prev()});m(this.el).on("swipeleft",function(){return p.next()});this.$pagination.find(".button").on("click",function(d){d=Array.prototype.indexOf.call(p.$pagination.find(".button"),d.target);-1!=d&&p.select(d)})};c.prototype.getLength=function(){return this.length};c.prototype.getCurrent=function(){return this.current};c.prototype.setCurrent=function(p){this.current=p;this.$pagination.find(".button.selected").removeClass("selected");
this.$pagination.find(".button").eq(p).addClass("selected");this.$wrapper.css("margin-left",-100*this.current+"%")};c.prototype.prev=function(){this.select(this.current-1)};c.prototype.next=function(){this.select(this.current+1)};c.prototype.select=function(p){var d=this;0>p?p=0:p>this.length-1&&(p=this.length-1);this.setCurrent(p);setTimeout(function(){d.$el.find(".result-table-row").eq(d.current).focus()},400)};return c}(),l={name:"ResultTableMobile",selector:".result-table-mobile",init:function(c){return new n(c)}};
z(window).on("load",function(){return TOOLS_utils.registerComponent(l)})}})(Bootstrap.jQuery,"undefined"!==typeof Hammer?Hammer:null)},function(M,Y,I){Y.__esModule=!0;M=function(){function z(){if(!(this instanceof z))throw new TypeError("Cannot call a class as a function");}z.prototype.consturctor=function(){};z.prototype.listen=function(m,n,l){if(m=document.querySelectorAll('[name\x3d"'+m+'"]')[0])return m.addEventListener(n,l)};z.prototype.getParameter=function(m){return TOOLS_utils.getUrlParam(m)};
z.prototype.getValue=function(m){if(m=document.querySelectorAll('[name\x3d"'+m+'"]')[0])return m.value};z.prototype.setValue=function(m,n){if(m=document.querySelectorAll('[name\x3d"'+m+'"]')[0])m.value=n};z.prototype.setPlaceholder=function(m,n){Array.prototype.forEach.call(document.querySelectorAll('[data-placeholder\x3d"'+m+'"]'),function(l){l.innerHTML=n})};z.prototype.format=function(m,n){"string"==typeof n&&(n=this[n]);if("function"==typeof n)return n.call(null,m,Array.prototype.splice.call(arguments,
2))};z.prototype.significantFigures=function(m,n){0!=m&&(n=Math.pow(10,Math.floor(Math.log(Math.abs(m))/Math.log(10))-n+1),m=Math.floor(m/n)*n);return m};return z}();Y.CalculatorBase=M},function(M,Y,I){function z(d,a){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!==typeof a&&"function"!==typeof a?d:a}function m(d,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);
d.prototype=Object.create(a&&a.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(d,a):d.__proto__=a)}var n=I(28),l=I(27),c=I(26),p=I(2);(function(d){var a=d(window),b=["circle","triangle","tile"],f=function(e){function k(h){if(!(this instanceof k))throw new TypeError("Cannot call a class as a function");var g=z(this,e.call(this));g.$element=h;g.config=h.data("config");g.tealiumConfig=h.data("tealium-config");g.tealiumScope=
h.data("tealium-scope");g.config.markets.forEach(function(q){q.rates=JSON.parse(atob(q.rates))});g.initTealiumConfig();g.chart=new l.LineChart(h.find(".chart-container")[0]);g.chart.setCursorValueFormatter(function(q){return g.config.currencySymbol+" "+g.format(q,g.significantFigures,3).toLocaleString()});g.calculator=h.find(".calculator-content");g.mobileCalculatorContainer=h.find(".calculator-expander .exp-panel");g.tabletCalculatorContainer=h.find(".calculator-modal .modal-content");g.desktopCalculatorContainer=
h.find(".calculator-desktop");g.tabularResultTable=h.find(".tabular-result");h.find(".result-table-modal .modal-content").append(g.tabularResultTable);g.defaultRiskProfile=g.verifyParameterValue(g.getParameter("riskProfile"),g.config.riskProfile);g.defaultAge=g.verifyParameterValue(g.getParameter("age"),g.config.age);g.defaultTotalSaving=g.verifyParameterValue(g.getParameter("totalSaving"),g.config.totalSaving);g.defaultMonthlySaving=g.verifyParameterValue(g.getParameter("monthlySaving"),g.config.monthlySavings);
g.defaultRetirementAge=g.verifyParameterValue(g.getParameter("retirementAge"),g.config.retirementAge);g.defaultAge>=g.defaultRetirementAge&&(g.defaultRetirementAge=g.defaultAge+1);g.defaultMonthlyIncome=g.verifyParameterValue(g.getParameter("monthlyIncome"),g.config.monthlyIncome);g.defaultMortality=g.config.mortality;g.$backToTableTopLink=h.find(".A-LNKAU-RW-ALL");g.$scrollElement=h.find(".close-trigger").first();g.printMedia=!1;new c.InputWithSliderField(h,{name:"totalSaving",value:g.defaultTotalSaving,
range:{min:g.config.totalSaving.min,max:g.config.totalSaving.max},step:g.config.totalSaving.step});new c.InputWithSliderField(h,{name:"monthlySavings",value:g.defaultMonthlySaving,range:{min:g.config.monthlySavings.min,max:g.config.monthlySavings.max},step:g.config.monthlySavings.step});new c.InputWithSliderField(h,{name:"risk",value:g.defaultRiskProfile,range:{min:g.config.riskProfile.min,max:g.config.riskProfile.max},step:g.config.riskProfile.step,labels:g.config.riskProfile.labels});new c.InputWithSliderField(h,
{name:"monthlyIncome",value:g.defaultMonthlyIncome,range:{min:g.config.monthlyIncome.min,max:g.config.monthlyIncome.max},step:g.config.monthlyIncome.step});new c.InputWithSliderField(h,{name:"retirementAge",value:g.defaultRetirementAge,range:{min:Math.max(g.config.retirementAge.min,g.defaultAge+1),max:g.config.retirementAge.max},step:g.config.retirementAge.step});h.on("fieldUpdated",function(q,x){switch(x.name){case "totalSaving":g.setTotalSaving(x.value);break;case "monthlySavings":g.setMonthlySaving(x.value);
break;case "risk":g.setRiskProfile(x.value);break;case "monthlyIncome":g.setMonthlyIncome(x.value);break;case "retirementAge":g.setRetirementAge(x.value)}g.calculate()});g.reset();g.bindUIEvents();g.resize();return g}m(k,e);k.prototype.initTealiumConfig=function(){this.TMS=(0,p.Tealium)(this.tealiumScope);this.TMS.trackView(this.tealiumConfig)};k.prototype.verifyParameterValue=function(h,g){var q=g.max,x=g.min;g=g.defaultValue;if(!/^(0|\+?[1-9][0-9]*)$/.test(h))h=g;else if(h>q||h<x)h=g;return parseInt(h)};
k.prototype.reset=function(){this.setRiskProfile(this.defaultRiskProfile);this.setAge(this.defaultAge);this.setTotalSaving(this.defaultTotalSaving);this.setMonthlySaving(this.defaultMonthlySaving);this.setRetirementAge(this.defaultRetirementAge);this.setAnnuityPurchaseAtRetirement(0);this.setMonthlyIncome(this.defaultMonthlyIncome);this.setMortality(this.defaultMortality)};k.prototype.resize=function(h){this.placeCalculator(h)};k.prototype.bindUIEvents=function(){var h=this;d(window).on("load",function(){h.chart.redraw()});
window.addEventListener("resize",function(g){TOOLS_utils.isMobileAndroid||h.resize(h.printMedia)});window.addEventListener("beforeprint",function(){h.TMS.trackEvent({event_category:"content",event_action:"button",event_content:"print"});h.printMedia=!0;h.resize(h.printMedia)});window.addEventListener("afterprint",function(){h.printMedia=!1;h.resize(h.printMedia)});window.addEventListener("orientationchange",function(g){TOOLS_utils.isMobileAndroid&&setTimeout(function(){h.resize(h.printMedia)},1E3)});
this.$element.find(".calculator-modal .options.close-trigger").on("click",function(g){g.stopImmediatePropagation();g.preventDefault();location.href=h.config.startPageHref});this.$element.find(".calculator-modal .continue").on("click",function(g){g.stopImmediatePropagation();g.preventDefault();h.$element.find(".calculator-modal .close-trigger").first().click()});this.$backToTableTopLink.on("click",function(g){g.preventDefault();h.$scrollElement.animate({scrollTop:0},400,void 0,h.$scrollElement.focus())})};
k.prototype.placeCalculator=function(h){TOOLS_utils.matchMedia.desktop||h?this.desktopCalculatorContainer.append(this.calculator):TOOLS_utils.matchMedia.mobile?this.mobileCalculatorContainer.append(this.calculator):this.tabletCalculatorContainer.append(this.calculator)};k.prototype.setAge=function(h){this.age=h};k.prototype.setTotalSaving=function(h){this.setValue("totalSaving",h.toLocaleString());this.totalSaving=h};k.prototype.setRiskProfile=function(h){this.setValue("risk",h);this.riskProfile=
h};k.prototype.setMonthlySaving=function(h){this.setValue("monthlySavings",h.toLocaleString());this.monthlySaving=h};k.prototype.setAnnuityPurchaseAtRetirement=function(h){this.annuityPurchaseAtRetirement=h};k.prototype.setMonthlyIncome=function(h){this.setValue("monthlyIncome",h.toLocaleString());this.monthlyIncome=h};k.prototype.setRetirementAge=function(h){this.setValue("retirementAge",h);this.retirementAge=h};k.prototype.setMortality=function(h){this.mortality=h};k.prototype.calculate=function(){var h=
this,g=12*(this.retirementAge-this.age),q=12*(this.mortality-this.age),x=12*(100-this.age),u=[],r={};this.config.markets.forEach(function(w,A){for(var F=h.totalSaving,C=[],J=!1,B=0,G=0,E=100,v=0;v<=x;v++){var D=Math.floor(v/12),K=h.age+D,P=0;w.rates[h.riskProfile]instanceof Array&&(P=w.rates[h.riskProfile][Math.min(D,w.rates[h.riskProfile].length-1)]);0==v%12&&("undefined"==typeof r[K]&&(r[K]=[]),r[K][A]=F);var Q=F;J||(0<v&&0>=Q&&(J=!0,Q=0),C.push({x:h.age+v/12,y:Q}));v==g&&(B=F);v==q&&(G=F);Q=0;
v<g?Q+=h.monthlySaving:v==g&&(Q-=F*h.annuityPurchaseAtRetirement/100);F=(F+Q)*(1+P);v>=g&&(F-=h.monthlyIncome*Math.pow(1+h.config.inflationRate,D));100==E&&0>=F&&(E=K)}w.shortfallAge=E;w.shortfallToMortality=h.mortality-E;w.wealthAtMortality=Math.max(G,0);w.wealthAtRetirement=Math.max(B,0);h.setPlaceholder("retirementPlanner."+w.id+"TotalTarget",h.format(w.wealthAtRetirement,h.significantFigures,3).toLocaleString());h.setPlaceholder("retirementPlanner."+w.id+"ShortfallSign",0<=w.wealthAtMortality?
"+":"-");h.setPlaceholder("retirementPlanner."+w.id+"ShortfallAmount",h.format(Math.abs(w.wealthAtMortality),h.significantFigures,3).toLocaleString());h.setPlaceholder("retirementPlanner."+w.id+"ShortfallAge",w.shortfallAge);u.push({name:w.label,data:C,className:"series"+(A+1),marker:b[A]})});var t=this.mortality;u.forEach(function(w){w=Math.ceil(w.data[w.data.length-1].x);w>t&&(t=w)});this.chart.setLines(u);this.chart.setHorizontalAxisMin(this.age);this.chart.setHorizontalAxisMax(t);this.chart.redraw();
this.tabularResultTable.find("tr:not(:first-child)").each(function(w,A){w=d(A);var F=w.find("td"),C=parseInt(d(A).find("th").eq(0).text());C>=h.age&&100>=C?h.config.markets.forEach(function(J,B){J=Math.max(r[C][B],0);J=h.format(J,h.significantFigures,3).toLocaleString();F.eq(B).text(h.config.currencySymbol+" "+J)}):w.remove()});var y=0<this.config.markets[1].wealthAtMortality;a.trigger("tools:contentUpdated",{currencySymbol:this.config.currencySymbol,lumpSum:this.totalSaving,regularContributions:this.monthlySaving,
ageNow:this.age,retirementAge:this.retirementAge,incomeDrawn:this.monthlyIncome,riskProfile:this.riskProfile,onTrack:y,offTrack:!y,lowShortfallAge:this.config.markets[0].shortfallAge,lowShortfallToMortality:this.config.markets[0].shortfallToMortality,lowWealthAtRetirement:this.config.markets[0].wealthAtRetirement,lowWealthAtMortality:this.config.markets[0].wealthAtMortality,mediumShortfallAge:this.config.markets[1].shortfallAge,mediumShortfallToMortality:this.config.markets[1].shortfallToMortality,
mediumWealthAtRetirement:this.config.markets[1].wealthAtRetirement,mediumWealthAtMortality:this.config.markets[1].wealthAtMortality,highShortfallAge:this.config.markets[2].shortfallAge,highShortfallToMortality:this.config.markets[2].shortfallToMortality,highWealthAtRetirement:this.config.markets[2].wealthAtRetirement,highWealthAtMortality:this.config.markets[2].wealthAtMortality})};return k}(n.CalculatorBase);TOOLS_utils.registerComponent({name:"retirementPlanner",selector:".retirement-planner",init:function(e){e=
d(e);(new f(e)).calculate()}})})(Bootstrap.jQuery)},function(M,Y,I){(function(z){var m=function(){function n(l){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this.$el=z(l);this.bindUIElements();this.bindUIEvents();this.changeFooterPositionAndBgHeight()}n.prototype.bindUIElements=function(){this.$header=z(".header");this.$bottomBar=z(".O-CTA2COL-RW-SIM");this.$simForm=z(".O-FORM-RW-SIM");this.$contentObj=z(".main-grid")};n.prototype.changeFooterPositionAndBgHeight=
function(){if(0!=this.$bottomBar.length||0!=this.$simForm.length)if(this.$contentObj.css("height","auto"),this.$contentObj.css("min-height","auto"),!TOOLS_utils.isEditMode()&&!TOOLS_utils.isPreviewMode())if(TOOLS_utils.matchMedia.mobile)this.$contentObj.css("min-height","auto");else{z("body").innerHeight();var l=this.$header.outerHeight(!0)||0,c=this.$contentObj.outerHeight(!0)||0,p=this.$bottomBar.outerHeight(!0)||0,d=p=c+p;window.innerHeight>l+c&&(d=TOOLS_utils.matchMedia.tablet?window.innerHeight-
l-60:window.innerHeight-l);d<p&&(d=p);this.$contentObj.css("height",d);this.$contentObj.css("min-height",d)}};n.prototype.bindUIEvents=function(){var l=this;z(window).on({resize:function(){l.changeFooterPositionAndBgHeight()}})};return n}();TOOLS_utils.registerComponent({name:"simulatorStart",selector:".simulatorStart",init:function(n){return new m(n)}})})(Bootstrap.jQuery)},function(M,Y,I){function z(l,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+
typeof c);l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(l,c):l.__proto__=c)}var m=I(0),n=I(5);(function(l){var c=function(p){function d(a){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");var b=p.call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");b=!b||"object"!==typeof b&&"function"!==typeof b?this:b;
b.$elem=a;b.$config=l("[data-config]",b.$elem);b.config=b.$config.data("config");b.$selectDateError=l(".selectDateError.error",b.$elem);b.$downloadError=l(".downloadError.error",b.$elem);b.$systemError=l(".system.error",b.$elem);b.$selectDate=l("[name*\x3dselectDate]",b.$elem);b.$selectDateselector=new n.Dateselector(b.$selectDate.parent());b.$startDate=l("[name*\x3dstartDate]",b.$elem);b.$startDateselector=new n.Dateselector(b.$startDate.parent());b.$endDate=l("[name*\x3dendDate]",b.$elem);b.$endDateselector=
new n.Dateselector(b.$endDate.parent());b.$fundType=l("[name*\x3dfundType]",b.$elem);b.$tableDescription=l(".table_description",b.$elem);b.$unitSuperTrustPlusDesktop=l(".unit_prices_table .desktop tbody",b.$elem);b.$unitSuperTrustPlusMobile=l(".unit_prices_table .non-desktop",b.$elem);b.$selectDateButton=l(".selectdate-button",b.$elem);b.$downloadButton=l(".download-button",b.$elem);b.messages=b.config.messages;b.selectDateValid;b.startDateValid;b.endDateValid;b.fundTypeValid;b.lastUpdateDate=b.config.currentDate;
b.getAPIData("init");b.initDateDropdown(b.config.currentDate);b.bindUiEvents();return b}z(d,p);d.prototype.bindUiEvents=function(){var a=this;(0,m.bindButton)(l("[role\x3dbutton]",this.$elem));this.$selectDateButton.on("action",function(b){a.$selectDateButton.hasClass("disabled")||a.getAPIData()});this.$downloadButton.on("action",function(b){a.$downloadButton.hasClass("disabled")||a.downLoadFile()});this.$selectDate.on("change",function(b){a.verificationSelectDate()});this.$startDate.on("change",
function(b){a.verificationStartDate()});this.$endDate.on("change",function(b){a.verificationEndDate()});this.$fundType.on("change",function(){a.verificationFundType()})};d.prototype.verificationSelectDate=function(){10==this.$selectDate[0].options[0].value.length&&(this.dateValidation(this.$selectDate[0].options[0].value)?(this.clearSystemError("selectDate"),0>this.compareDate(this.$selectDate[0].options[0].value,this.lastUpdateDate)?(this.selectDateValid=this.messages.dateMaxErr,this.setSystemError(this.messages.dateMaxErr,
"selectDate")):(this.clearSystemError("selectDate"),("HSBCTRUSTPLUS"==this.config.productID||"HSBCTRUST"==this.config.productID)&&0>this.compareDate("2000-12-01",this.$selectDate[0].options[0].value)?(this.selectDateValid=this.messages.dateMin1Err,this.setSystemError(this.messages.dateMin1Err,"selectDate")):(this.clearSystemError("selectDate"),"HSBCSIMPLECHOICE"==this.config.productID&&0>this.compareDate("2008-01-01",this.$selectDate[0].options[0].value)?(this.selectDateValid=this.messages.dateMin2Err,
this.setSystemError(this.messages.dateMin2Err,"selectDate")):(this.clearSystemError("selectDate"),"HSBCVALUECHOICE"==this.config.productID&&0>this.compareDate("2011-03-24",this.$selectDate[0].options[0].value)?(this.selectDateValid=this.messages.dateMin3Err,this.setSystemError(this.messages.dateMin3Err,"selectDate")):this.clearSystemError("selectDate"))))):(this.selectDateValid=this.messages.invalidDateErr,this.setSystemError(this.messages.invalidDateErr,"selectDate")))};d.prototype.verificationStartDate=
function(){10==this.$selectDate[0].options[0].value.length&&(this.dateValidation(this.$startDate[0].options[0].value)?(this.clearSystemError("startDate"),("HSBCTRUSTPLUS"==this.config.productID||"HSBCTRUST"==this.config.productID)&&0>this.compareDate("2000-12-01",this.$startDate[0].options[0].value)?(this.startDateValid=this.messages.dateMin1Err,this.setSystemError(this.messages.dateMin1Err,"startDate")):(this.clearSystemError("startDate"),"HSBCSIMPLECHOICE"==this.config.productID&&0>this.compareDate("2008-01-01",
this.$startDate[0].options[0].value)?(this.startDateValid=this.messages.dateMin2Err,this.setSystemError(this.messages.dateMin2Err,"startDate")):(this.clearSystemError("startDate"),"HSBCVALUECHOICE"==this.config.productID&&0>this.compareDate("2011-03-24",this.$startDate[0].options[0].value)?(this.startDateValid=this.messages.dateMin3Err,this.setSystemError(this.messages.dateMin3Err,"startDate")):(this.clearSystemError("startDate"),0>this.compareDate(this.$startDate[0].options[0].value,this.lastUpdateDate)?
(this.startDateValid=this.messages.dateMaxErr,this.setSystemError(this.messages.dateMaxErr,"startDate")):(this.clearSystemError("startDate"),0>=this.compareDate(this.$startDate[0].options[0].value,this.$endDate[0].options[0].value)?(this.startDateValid=this.messages.dateEarlierErr,this.setSystemError(this.messages.dateEarlierErr,"startDate")):(this.endDateValid==this.messages.dateEarlierErr&&this.clearSystemError("endDate"),this.clearSystemError("startDate"),("HSBCTRUSTPLUS"==this.$fundType[0].options[0].value||
"HSBCVALUECHOICE"==this.$fundType[0].options[0].value||"HSBCTRUST"==this.$fundType[0].options[0].value||"HSBCSIMPLECHOICE"==this.$fundType[0].options[0].value)&&30<this.compareDate(this.$startDate[0].options[0].value,this.$endDate[0].options[0].value)?(this.startDateValid=this.messages.moreThanMonthErr,this.setSystemError(this.messages.moreThanMonthErr,"startDate")):(this.endDateValid==this.messages.moreThanMonthErr&&this.clearSystemError("endDate"),this.fundTypeValid==this.messages.moreThanMonthErr&&
this.clearSystemError("fundType"),this.clearSystemError("startDate"),"HSBCTRUSTPLUS"!=this.$fundType[0].options[0].value&&"HSBCVALUECHOICE"!=this.$fundType[0].options[0].value&&"HSBCTRUST"!=this.$fundType[0].options[0].value&&"HSBCSIMPLECHOICE"!=this.$fundType[0].options[0].value&&365<this.compareDate(this.$startDate[0].options[0].value,this.$endDate[0].options[0].value)?(this.startDateValid=this.messages.moreThanYearErr,this.setSystemError(this.messages.moreThanYearErr,"startDate")):(this.endDateValid==
this.messages.moreThanYearErr&&this.clearSystemError("endDate"),this.fundTypeValid==this.messages.moreThanYearErr&&this.clearSystemError("fundType"),this.clearSystemError("startDate"))))))))):(this.startDateValid=this.messages.invalidDateErr,this.setSystemError(this.messages.invalidDateErr,"startDate")))};d.prototype.verificationEndDate=function(){10==this.$selectDate[0].options[0].value.length&&(this.dateValidation(this.$endDate[0].options[0].value)?(this.clearSystemError("endDate"),("HSBCTRUSTPLUS"==
this.config.productID||"HSBCTRUST"==this.config.productID)&&0>this.compareDate("2000-12-01",this.$endDate[0].options[0].value)?(this.endDateValid=this.messages.dateMin1Err,this.setSystemError(this.messages.dateMin1Err,"endDate")):(this.clearSystemError("endDate"),"HSBCSIMPLECHOICE"==this.config.productID&&0>this.compareDate("2008-01-01",this.$endDate[0].options[0].value)?(this.endDateValid=this.messages.dateMin2Err,this.setSystemError(this.messages.dateMin2Err,"endDate")):(this.clearSystemError("endDate"),
"HSBCVALUECHOICE"==this.config.productID&&0>this.compareDate("2011-03-24",this.$endDate[0].options[0].value)?(this.endDateValid=this.messages.dateMin3Err,this.setSystemError(this.messages.dateMin3Err,"endDate")):(this.clearSystemError("endDate"),0>this.compareDate(this.$endDate[0].options[0].value,this.lastUpdateDate)?(this.endDateValid=this.messages.dateMaxErr,this.setSystemError(this.messages.dateMaxErr,"endDate")):(this.clearSystemError("endDate"),0>=this.compareDate(this.$startDate[0].options[0].value,
this.$endDate[0].options[0].value)?(this.endDateValid=this.messages.dateEarlierErr,this.setSystemError(this.messages.dateEarlierErr,"endDate")):(this.startDateValid==this.messages.dateEarlierErr&&this.clearSystemError("startDate"),this.clearSystemError("endDate"),("HSBCTRUSTPLUS"==this.$fundType[0].options[0].value||"HSBCVALUECHOICE"==this.$fundType[0].options[0].value||"HSBCTRUST"==this.$fundType[0].options[0].value||"HSBCSIMPLECHOICE"==this.$fundType[0].options[0].value)&&30<this.compareDate(this.$startDate[0].options[0].value,
this.$endDate[0].options[0].value)?(this.endDateValid=this.messages.moreThanMonthErr,this.setSystemError(this.messages.moreThanMonthErr,"endDate")):(this.startDateValid==this.messages.moreThanMonthErr&&this.clearSystemError("startDate"),this.clearSystemError("endDate"),"HSBCTRUSTPLUS"!=this.$fundType[0].options[0].value&&"HSBCVALUECHOICE"!=this.$fundType[0].options[0].value&&"HSBCTRUST"!=this.$fundType[0].options[0].value&&"HSBCSIMPLECHOICE"!=this.$fundType[0].options[0].value&&365<this.compareDate(this.$startDate[0].options[0].value,
this.$endDate[0].options[0].value)?(this.endDateValid=this.messages.moreThanYearErr,this.setSystemError(this.messages.moreThanYearErr,"endDate")):(this.startDateValid==this.messages.moreThanYearErr&&this.clearSystemError("startDate"),this.clearSystemError("endDate"))))))))):(this.endDateValid=this.messages.invalidDateErr,this.setSystemError(this.messages.invalidDateErr,"endDate")))};d.prototype.verificationFundType=function(){10==this.$selectDate[0].options[0].value.length&&(("HSBCTRUSTPLUS"==this.$fundType[0].options[0].value||
"HSBCVALUECHOICE"==this.$fundType[0].options[0].value||"HSBCTRUST"==this.$fundType[0].options[0].value||"HSBCSIMPLECHOICE"==this.$fundType[0].options[0].value)&&30<this.compareDate(this.$startDate[0].options[0].value,this.$endDate[0].options[0].value)?(this.fundTypeValid=this.messages.moreThanMonthErr,this.setSystemError(this.messages.moreThanMonthErr,"fundType")):(this.verificationStartDate(),this.verificationEndDate(),this.clearSystemError("fundType"),"HSBCTRUSTPLUS"!=this.$fundType[0].options[0].value&&
"HSBCVALUECHOICE"!=this.$fundType[0].options[0].value&&"HSBCTRUST"!=this.$fundType[0].options[0].value&&"HSBCSIMPLECHOICE"!=this.$fundType[0].options[0].value&&365<this.compareDate(this.$startDate[0].options[0].value,this.$endDate[0].options[0].value)?(this.fundTypeValid=this.messages.moreThanYearErr,this.setSystemError(this.messages.moreThanYearErr,"fundType")):(this.verificationStartDate(),this.verificationEndDate(),this.clearSystemError("fundType"))))};d.prototype.getAPIData=function(a){var b=
this,f=this.config.endpointConfig;f=f.url+"/digital-pws-tools-mpf-eapi-"+f.space+"-proxy/v1/mpf/unit-prices/"+this.config.productID;f+="?locale\x3d"+TOOLS_utils.getLocale();"init"!=a&&(f+="\x26date\x3d"+this.$selectDate[0].options[0].value);p.prototype.ajax.call(this,{method:"GET",url:f}).then(function(e){b.clearSystemError();e=JSON.parse(e);b.handleSuccessCallBack(a,e)})["catch"](function(e){b.handleErrorCallBack(a,e)})};d.prototype.downLoadFile=function(){var a=this,b=this.config.endpointConfig,
f=b.url+"/digital-pws-tools-mpf-eapi-"+b.space+"-proxy/v1/mpf/unit-prices/download/"+this.config.productID+"?";b=this.$fundType[0].options[0].value;var e="";"HSBCTRUSTPLUS"!=b&&"HSBCVALUECHOICE"!=b&&"HSBCTRUST"!=b&&"HSBCSIMPLECHOICE"!=b&&(e+="fund\x3d"+b+"\x26");e+="startDate\x3d"+this.$startDate[0].options[0].value+"\x26endDate\x3d"+this.$endDate[0].options[0].value;e+="\x26locale\x3d"+TOOLS_utils.getLocale();f+=e+"\x26token\x3d"+btoa(e);p.prototype.ajax.call(this,{method:"GET",url:f}).then(function(k){a.clearSystemError();
window.location.href=f;a.TMS.trackEvent({event_category:"tool",event_subcategory:"table",event_action:"button",event_content:"download data - unit prices - "+a.config.productName+" - "+a.$fundType.text()+" - "+a.$startDate[0].options[0].value+" : "+a.$endDate[0].options[0].value})})["catch"](function(k){try{var h=JSON.parse(k.responseText).errorInfo[0];a.handleSystemResponseError(h.code)}catch(g){k&&k.status&&a.handleSystemResponseError()}a.TMS.trackEvent({event_category:"error",event_subcategory:k&&
k.status?k.status:"500",event_action:"tool",event_content:a.messages.systemError+" - download data - unit prices - "+a.config.productName})})};d.prototype.handleSuccessCallBack=function(a,b){b&&b.funds&&0<b.funds.length?(this.handleTableHtml(b.funds),this.initfundTypeDropdown(b.funds)):this.handleNoRecordTableHtml();b&&b.lastUpdateDate&&(this.lastUpdateDate=b.lastUpdateDate);"init"==a?this.setDateDefaultValue():this.TMS.trackEvent({event_category:"tool",event_subcategory:"table",event_action:"button",
event_content:"view data - unit prices - "+this.config.productName+" - "+this.$selectDate[0].options[0].value});a=this.config.captionSuffix?this.config.captionSuffix:" ";a="\x3cspan\x3e"+this.config.tableCaption+TOOLS_utils.formatDDMMYYYYDate(this.$selectDate[0].options[0].value,!1)+a+"\x3c/span\x3e";this.$tableDescription.find("span").remove();this.$tableDescription.append(a)};d.prototype.handleErrorCallBack=function(a,b){"init"==a&&this.setDateDefaultValue();a=this.config.captionSuffix?this.config.captionSuffix:
" ";a="\x3cspan\x3e"+this.config.tableCaption+TOOLS_utils.formatDDMMYYYYDate(this.$selectDate[0].options[0].value,!1)+a+"\x3c/span\x3e";this.$tableDescription.find("span").remove();this.$tableDescription.append(a);this.handleNoRecordTableHtml();try{var f=JSON.parse(b.response).errorInfo[0];this.handleSystemResponseError(f.code)}catch(e){this.handleSystemResponseError()}this.TMS.trackEvent({event_category:"error",event_subcategory:b&&b.status?b.status:"500",event_action:"tool",event_content:this.messages.systemError+
" - unit prices - "+this.config.productName})};d.prototype.setSystemError=function(a,b){var f=this;"selectDate"==b?(this.$selectDateButton.addClass("disabled"),this.$selectDateButton.attr("aria-disabled","true"),this.$selectDateselector.addError(),this.scope.set(this.$selectDate.attr("name")+"/status","visuallyhidden"),this.scope.set(this.$selectDate.attr("name")+"/message",a),this.scope.set(this.$selectDateError.data("for")+"/message",a)):"startDate"==b?(this.$downloadButton.addClass("disabled"),
this.$downloadButton.attr("aria-disabled","false"),this.$startDateselector.addError(),this.scope.set(this.$startDate.attr("name")+"/status","visuallyhidden"),this.scope.set(this.$startDate.attr("name")+"/message",a),this.scope.set(this.$downloadError.data("for")+"/message",a)):"endDate"==b?(this.$downloadButton.addClass("disabled"),this.$downloadButton.attr("aria-disabled","false"),this.$endDateselector.addError(),this.scope.set(this.$endDate.attr("name")+"/status","visuallyhidden"),this.scope.set(this.$endDate.attr("name")+
"/message",a),this.scope.set(this.$downloadError.data("for")+"/message",a)):"fundType"==b?(this.$downloadButton.addClass("disabled"),this.$downloadButton.attr("aria-disabled","false"),this.$endDateselector.addError(),this.scope.set(this.$fundType.attr("id")+"_"+this.$fundType.attr("name")+"/status","visuallyhidden"),this.scope.set(this.$fundType.attr("id")+"_"+this.$fundType.attr("name")+"/message",a),this.scope.set(this.$downloadError.data("for")+"/message",a)):(this.scope.set(this.$systemError.data("for")+
"/message",a),setTimeout(function(){f.$systemError.focus()},0))};d.prototype.clearSystemError=function(a){"selectDate"==a?(this.selectDateValid="",this.$selectDateButton.removeClass("disabled"),this.$selectDateButton.attr("aria-disabled","false"),this.$selectDateselector.removeError(),this.scope.set(this.$selectDate.attr("name")+"/message",""),this.scope.set(this.$selectDateError.data("for")+"/message","")):"startDate"==a?(this.startDateValid="",this.$startDateselector.removeError(),this.scope.set(this.$startDate.attr("name")+
"/message","")):"endDate"==a?(this.endDateValid="",this.$endDateselector.removeError(),this.scope.set(this.$endDate.attr("name")+"/message","")):"fundType"==a?(this.fundTypeValid="",this.scope.set(this.$fundType.attr("id")+"_"+this.$fundType.attr("name")+"/message",""),""==this.endDateValid&&this.$endDateselector.removeError()):this.scope.set(this.$systemError.data("for")+"/message","");""!=this.startDateValid?this.scope.set(this.$downloadError.data("for")+"/message",this.startDateValid):""!=this.endDateValid?
this.scope.set(this.$downloadError.data("for")+"/message",this.endDateValid):(this.$downloadButton.removeClass("disabled"),this.$downloadButton.attr("aria-disabled","false"),this.scope.set(this.$downloadError.data("for")+"/message",""),this.scope.set(this.$fundType.attr("id")+"_"+this.$fundType.attr("name")+"/message",""))};d.prototype.handleSystemResponseError=function(a){a?"mpf_e03"==a?this.setSystemError(this.messages.invalidDateErr,"system"):"mpf_e04"==a?this.setSystemError(this.messages.dateMin1Err,
"system"):"mpf_e05"==a?this.setSystemError(this.messages.dateMin2Err,"system"):"mpf_e06"==a?this.setSystemError(this.messages.dateMin3Err,"system"):"mpf_e01"==a?this.setSystemError(this.messages.dateMaxErr,"system"):"mpf_e08"==a?this.setSystemError(this.messages.moreThanMonthErr,"system"):"mpf_e07"==a?this.setSystemError(this.messages.moreThanYearErr,"system"):"mpf_e02"==a?this.setSystemError(this.messages.dateEarlierErr,"system"):this.setSystemError(this.messages.systemError,"system"):this.setSystemError(this.messages.systemError,
"system")};d.prototype.setDateDefaultValue=function(){var a=new Date(this.lastUpdateDate);a.setDate(a.getDate()-30);var b=a.getMonth()+1;b=10>b?"0"+b:b;var f=a.getDate();f=10>f?"0"+f:f;a=a.getFullYear()+"-"+b+"-"+f;this.$selectDateselector.setSelectedValue(this.lastUpdateDate);this.$startDateselector.setSelectedValue(a);this.$endDateselector.setSelectedValue(this.lastUpdateDate)};d.prototype.initDateDropdown=function(a){var b=[];for(a=a.split("-")[0];1999<a;a--){var f={};f.text=a;f.value=a;b.push(f)}this.$selectDateselector.addYearOption(b);
this.$startDateselector.addYearOption(b);this.$endDateselector.addYearOption(b)};d.prototype.initfundTypeDropdown=function(a){for(var b=[],f=0;f<a.length;f++){var e={};e.text=this.checkDataApplicable(a[f].fundName);e.value=a[f].fundCode;b.push(e)}this.$fundType[0].selectize.addOption(b);this.$fundType[0].selectize.setValue(this.config.productID)};d.prototype.handleTableHtml=function(a){for(var b="",f="\x3ctbody\x3e",e=0;e<a.length;e++){var k=this.config.detalPath;k+="#"+a[e].fundCode;for(var h=a[e].prices,
g=0;g<h.length;g++)var q=this.checkDataApplicable(h[g].bidPrice),x=this.checkDataApplicable(h[g].offerPrice);k=this.checkDataApplicable(a[e].fundName)!=a[e].fundName?this.checkDataApplicable(a[e].fundName):"\x3ca href \x3d "+k+" rel\x3d'noopener'\x3e"+a[e].fundName+"\x3c/a\x3e";b+="\x3ctr\x3e\x3ctd\x3e"+k+"\x3c/td\x3e\x3ctd\x3e"+q+"\x3c/td\x3e\x3ctd\x3e"+x+"\x3c/td\x3e\x3c/tr\x3e";f+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+this.config.fundName+"\x3c/th\x3e\x3ctd\x3e"+k+"\x3c/td\x3e\x3c/tr\x3e";
f+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+this.config.bidPrice+"\x3c/th\x3e\x3ctd\x3e"+q+"\x3c/td\x3e\x3c/tr\x3e";f+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+this.config.offerPrice+"\x3c/th\x3e\x3ctd\x3e"+x+"\x3c/td\x3e\x3c/tr\x3e";e!=a.length-1&&(f+="\x3ctr aria-hidden\x3d'true' tabindex\x3d'-1' class\x3d'hidden-row'\x3e\x3cth\x3e\x3c/th\x3e\x3ctd\x3e\x3c/td\x3e\x3c/tr\x3e")}f+="\x3c/tbody\x3e";this.$unitSuperTrustPlusDesktop.find("tr").remove();
this.$unitSuperTrustPlusMobile.find("tbody").remove();this.$unitSuperTrustPlusDesktop.append(b);this.$unitSuperTrustPlusMobile.append(f)};d.prototype.checkDataApplicable=function(a){return a&&null!=a&&""!=a?a:this.config.dataApplicable?"\x3cspan aria-hidden\x3d'true'\x3e-\x3c/span\x3e\x3cspan class\x3d'visuallyhidden'\x3e"+this.config.dataApplicable+"\x3c/span\x3e":"-"};d.prototype.handleNoRecordTableHtml=function(){var a="\x3ctr\x3e\x3ctd colspan\x3d'3' style\x3d'text-align:center'\x3e"+this.config.noDataError+
"\x3c/td\x3e\x3c/tr\x3e",b="\x3ctbody\x3e\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+this.config.fundName+"\x3c/th\x3e\x3ctd rowspan\x3d'3'\x3e"+this.config.noDataError+"\x3c/td\x3e\x3c/tr\x3e";b+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+this.config.bidPrice+"\x3c/th\x3e\x3c/tr\x3e";b+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+this.config.offerPrice+"\x3c/th\x3e\x3c/tr\x3e\x3c/tbody\x3e";this.$unitSuperTrustPlusDesktop.find("tr").remove();
this.$unitSuperTrustPlusMobile.find("tbody").remove();this.$unitSuperTrustPlusDesktop.append(a);this.$unitSuperTrustPlusMobile.append(b)};d.prototype.dateValidation=function(a){if(a=/^([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])$/.exec(a)){var b=parseInt(a[1],10),f=parseInt(a[2],10)-1,e=parseInt(a[3],10);a=new Date(b,f,e);return a.getFullYear()==b&&a.getMonth()==f&&a.getDate()==e?!!a:!1}return!1};d.prototype.compareDate=function(a,b){return(new Date(b)-new Date(a))/864E5};return d}(m.ToolsBase);
TOOLS_utils.registerComponent({name:"unitPrices",selector:".unitPrices",init:function(p){return new c(p)}})})(Bootstrap.jQuery)},function(M,Y,I){function z(n,l){if("function"!==typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);n.prototype=Object.create(l&&l.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});l&&(Object.setPrototypeOf?Object.setPrototypeOf(n,l):n.__proto__=l)}var m=I(0);(function(n){var l=function(c){function p(d){if(!(this instanceof
p))throw new TypeError("Cannot call a class as a function");var a=c.call(this,d);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.$elem=d;a.$config=n("[data-config]",a.$elem);a.config=a.$config.data("config");a.$cumulativeDynamic=n(".cumulative_dynamic",a.$elem);a.$cumulativeStatic=n(".cumulative_static",a.$elem);a.$cumulativeLaunchDesktop=n(".cumulative_launch .desktop",a.$elem);a.$cumulativeLaunchMobile=
n(".cumulative_launch .non-desktop",a.$elem);a.$cumulativeDisDesktop=n(".cumulative_dis .desktop",a.$elem);a.$cumulativeDisMobile=n(".cumulative_dis .non-desktop",a.$elem);a.$cumulativeDynamicDesktop=n(".cumulative_dynamic .desktop",a.$elem);a.$cumulativeDynamicMobile=n(".cumulative_dynamic .non-desktop",a.$elem);a.$vcFundDynamicDesktop=n(".vc_fund_dynamic .desktop",a.$elem);a.$vcFundDynamicMobile=n(".vc_fund_dynamic .non-desktop",a.$elem);a.$launchDate=n(".cumulative_launch .launch_date",a.$elem);
a.$disDate=n(".cumulative_dis .dis_date",a.$elem);a.$vcFoundDynamicDate=n(".vc_fund_dynamic .vc_fund_dynamic_date",a.$elem);a.$dynamicDate=n(".cumulative_dynamic .dynamic_date",a.$elem);a.$lastUpdate=n(".last_update",a.$elem);a.$launchTitle=n(".orso_launch_title",a.$elem);a.$launchDescription=n(".cumulative_launch .launchDescription p",a.$elem);a.getAPIData();return a}z(p,c);p.prototype.getAPIData=function(){var d=this,a=this.config.endpointConfig;c.prototype.ajax.call(this,{method:"GET",url:a.url+
"/wpb-gpbw-mmw-hk-hbap-pa-wpp-market-data-"+a.space+("-proxy/v0/v1/pensions-pws-fund-performances?schemeIdentifier\x3d"+this.config.productID)}).then(function(b){b=JSON.parse(b);d.handleSuccessCallBack(b)})["catch"](function(b){d.handleErrorCallBack();d.TMS.trackEvent({event_category:"error",event_subcategory:b&&b.status?b.status:"500",event_action:"tool",event_content:d.config.systemError+" - cumulative performance - SuperTrust Plus"})})};p.prototype.handleSuccessCallBack=function(d){d.data&&d.data[0]&&
(d=d.data[0],this.handleLaunchData(d.fundPerformanceDate,d.fundPerformanceLists))};p.prototype.handleLaunchData=function(d,a){this.renderTable({$desktopTable:this.$cumulativeLaunchDesktop,$mobileTable:this.$cumulativeLaunchMobile,$dateField:this.$launchDate,date:d,dataArray:a,nameWithLink:!1})};p.prototype.renderTable=function(d){var a="\x3ctbody\x3e",b="\x3ctbody\x3e",f=d.$desktopTable,e=d.$mobileTable,k=d.date;d=d.dataArray;if(0<d.length){var h=this.getORSOLang();console.log(d,"data",h);for(var g=
0;g<d.length;g++){var q=d[g].performance,x=this.checkDataApplicable(d[g].fundNames[0][h]),u=this.getORSOTableDate(d[g].fundStartDate),r=q.find(function(B){return"1 month"===B.durationValue}).value,t=q.find(function(B){return"3 months"===B.durationValue}).value,y=q.find(function(B){return"Year to date"===B.durationValue}).value,w=q.find(function(B){return"1 year"===B.durationValue}).value,A=q.find(function(B){return"3 years"===B.durationValue}).value,F=q.find(function(B){return"5 years"===B.durationValue}).value;
q=q.find(function(B){return"Inception to date"===B.durationValue}).value;r=this.checkDataApplicable(r);t=this.checkDataApplicable(t);y=this.checkDataApplicable(y);w=this.checkDataApplicable(w);A=this.checkDataApplicable(A);F=this.checkDataApplicable(F);q=this.checkDataApplicable(q);var C=d[g].fundCurrencyCode;C=this.config.currencyMap[C];C=this.checkDataApplicable(C);var J="";"WMFS"===this.config.productID&&(J="fund-name");a+="\x3ctr\x3e\x3ctd class\x3d"+J+"\x3e "+x+" \x3c/td\x3e\x3ctd\x3e"+C+"\x3c/td\x3e\x3ctd\x3e"+
r+"\x3c/td\x3e\x3ctd\x3e"+t+"\x3c/td\x3e\x3ctd\x3e"+w+"\x3c/td\x3e\x3ctd\x3e"+A+"\x3c/td\x3e\x3ctd\x3e"+F+"\x3c/td\x3e\x3ctd\x3e"+y+"\x3c/td\x3e\x3ctd\x3e"+q+"\x3c/td\x3e\x3ctd\x3e"+u+"\x3c/td\x3e\x3c/tr\x3e";b+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+this.config.fundName+"\x3c/th\x3e\x3ctd\x3e"+x+"\x3c/td\x3e\x3c/tr\x3e";b+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+this.config.currency+"\x3c/th\x3e\x3ctd\x3e"+C+"\x3c/td\x3e\x3c/tr\x3e";b+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+
this.config.p1m+"\x3c/th\x3e\x3ctd\x3e"+r+"\x3c/td\x3e\x3c/tr\x3e";b+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+this.config.p3m+"\x3c/th\x3e\x3ctd\x3e"+t+"\x3c/td\x3e\x3c/tr\x3e";b+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+this.config.p1y+"\x3c/th\x3e\x3ctd\x3e"+w+"\x3c/td\x3e\x3c/tr\x3e";b+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+this.config.p3y+"\x3c/th\x3e\x3ctd\x3e"+A+"\x3c/td\x3e\x3c/tr\x3e";b+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+
this.config.p5y+"\x3c/th\x3e\x3ctd\x3e"+F+"\x3c/td\x3e\x3c/tr\x3e";b+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+this.config.pyd+"\x3c/th\x3e\x3ctd\x3e"+y+"\x3c/td\x3e\x3c/tr\x3e";b+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+this.config.launchPrefix+"\x3c/th\x3e\x3ctd\x3e"+q+"\x3c/td\x3e\x3c/tr\x3e";b+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+this.config.dataOfInception+"\x3c/th\x3e\x3ctd\x3e"+u+"\x3c/td\x3e\x3c/tr\x3e";g!=d.length-
1&&(b+="\x3ctr aria-hidden\x3d'true' tabindex\x3d'-1' class\x3d'hidden-row'\x3e\x3cth\x3e\x3c/th\x3e\x3ctd\x3e\x3c/td\x3e\x3c/tr\x3e")}}else a+="\x3ctr\x3e\x3ctd colspan\x3d'9' style\x3d'text-align:center'\x3e"+this.config.noDataError+"\x3c/td\x3e\x3c/tr\x3e",b+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+this.config.fundName+"\x3c/th\x3e\x3ctd rowspan\x3d'9'\x3e"+this.config.noDataError+"\x3c/td\x3e\x3c/tr\x3e",b+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+
this.config.currency+"\x3c/th\x3e\x3c/tr\x3e",b+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+this.config.p1m+"\x3c/th\x3e\x3c/tr\x3e",b+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+this.config.p3m+"\x3c/th\x3e\x3c/tr\x3e",b+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+this.config.p1y+"\x3c/th\x3e\x3c/tr\x3e",b+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+this.config.p3y+"\x3c/th\x3e\x3c/tr\x3e",b+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+
this.config.p5y+"\x3c/th\x3e\x3c/tr\x3e",b+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+this.config.pyd+"\x3c/th\x3e\x3c/tr\x3e",b+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+this.config.launchPrefix+"\x3c/th\x3e\x3c/tr\x3e",b+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+this.config.dataOfInception+"\x3c/th\x3e\x3c/tr\x3e";a+="\x3c/tbody\x3e";b+="\x3c/tbody\x3e";f.find("tbody").remove();e.find("tbody").remove();f.append(a);e.append(b);
this.setCurrentDate(k)};p.prototype.checkDataApplicable=function(d){return d&&null!=d&&""!=d&&"-999999.99"!=d?d:this.config.dataApplicable?"\x3cspan aria-hidden\x3d'true'\x3e-\x3c/span\x3e\x3cspan class\x3d'visuallyhidden'\x3e"+this.config.dataApplicable+"\x3c/span\x3e":"-"};p.prototype.handleErrorCallBack=function(){this.handleLaunchError();this.scope.set(this.config.productID+"_systemError/message",this.config.systemError)};p.prototype.handleLaunchError=function(){this.renderErrorTable({$desktopTable:this.$cumulativeLaunchDesktop,
$mobileTable:this.$cumulativeLaunchMobile,$dateField:this.$launchDate,prefix:this.config.launchPrefix})};p.prototype.renderErrorTable=function(d){var a=d.$desktopTable,b=d.$mobileTable,f=d.$dateField;d=d.prefix;var e="\x3ctbody\x3e\x3ctr\x3e\x3ctd colspan\x3d'10' style\x3d'text-align:center'\x3e"+this.config.noDataError+"\x3c/td\x3e\x3c/tr\x3e\x3c/tbody\x3e",k="\x3ctbody\x3e\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+this.config.fundName+"\x3c/th\x3e\x3ctd rowspan\x3d'10'\x3e"+
this.config.noDataError+"\x3c/td\x3e\x3c/tr\x3e";k+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+this.config.currency+"\x3c/th\x3e\x3c/tr\x3e";k+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+this.config.p1m+"\x3c/th\x3e\x3c/tr\x3e";k+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+this.config.p3m+"\x3c/th\x3e\x3c/tr\x3e";k+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+this.config.pyd+"\x3c/th\x3e\x3c/tr\x3e";k+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+
this.config.p1y+"\x3c/th\x3e\x3c/tr\x3e";k+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+this.config.p3y+"\x3c/th\x3e\x3c/tr\x3e";k+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+this.config.p5y+"\x3c/th\x3e\x3c/tr\x3e";k+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+this.config.launchPrefix+"\x3c/th\x3e\x3c/tr\x3e";k+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+this.config.dataOfInception+"\x3c/th\x3e\x3c/tr\x3e\x3c/tbody\x3e";
a.find("tbody").remove();b.find("tbody").remove();a.append(e);b.append(k);f.append(d)};p.prototype.getORSOTableDate=function(d){if(8===d.length){var a=d.substring(0,4),b=d.substring(4,6);return d.substring(6,8)+"/"+b+"/"+a}return"-"};p.prototype.getORSOLang=function(){var d=TOOLS_utils.getLocale();return["zh","zh_CN","zh_cn","zh-CN","zh-cn"].includes(d)?"zh-CN":["zh_HK","zh-HK","zh-hk"].includes(d)?"zh-HK":"en-US"};p.prototype.setCurrentDate=function(d){if(8!=d.length)return"-";var a=d.substring(0,
4),b=d.substring(4,6);d=d.substring(6,8);d=this.config.launchDescription.replace("DD",d);d=d.replace("MM",b);d=d.replace("YYYY",a);this.$launchDescription.html(d)};return p}(m.ToolsBase);TOOLS_utils.registerComponent({name:"orsoCumulativePerformance",selector:".orsoCumulativePerformance",init:function(c){return new l(c)}})})(Bootstrap.jQuery)},function(M,Y,I){function z(l,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);
l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(l,c):l.__proto__=c)}var m=I(0),n=I(5);(function(l){var c=function(p){function d(a){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");var b=p.call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");b=!b||"object"!==typeof b&&"function"!==typeof b?this:b;b.$elem=a;
b.$config=l("[data-config]",b.$elem);b.config=b.$config.data("config");b.$selectDateError=l(".selectDateError.error",b.$elem);b.$downloadError=l(".downloadError.error",b.$elem);b.$systemError=l(".system.error",b.$elem);b.$selectDate=l("[name*\x3dselectDate]",b.$elem);b.$startDate=l("[name*\x3dstartDate]",b.$elem);b.$startDateselector=new n.Dateselector(b.$startDate.parent());b.$endDate=l("[name*\x3dendDate]",b.$elem);b.$endDateselector=new n.Dateselector(b.$endDate.parent());b.$fundType=l("[name*\x3dfundType]",
b.$elem);b.$tableDescription=l(".table_description",b.$elem);b.$unitSuperTrustPlusDesktop=l(".unit_prices_table .desktop tbody",b.$elem);b.$unitSuperTrustPlusMobile=l(".unit_prices_table .non-desktop",b.$elem);b.$selectDateButton=l(".selectdate-button",b.$elem);b.$downloadButton=l(".download-button",b.$elem);b.messages=b.config.messages;b.selectDateValid;b.startDateValid;b.endDateValid;b.fundTypeValid;b.lastUpdateDate=b.config.currentDate;b.getAPIData("init");b.initDateDropdown(b.config.currentDate);
b.bindUiEvents();return b}z(d,p);d.prototype.getSelectCalendar=function(){return this.$selectDate.attr("format-date")};d.prototype.bindUiEvents=function(){var a=this;(0,m.bindButton)(l("[role\x3dbutton]",this.$elem));this.$selectDateButton.on("action",function(b){a.$selectDateButton.hasClass("disabled")||a.getAPIData()});this.$downloadButton.on("action",function(b){a.$downloadButton.hasClass("disabled")||a.downLoadFile()});this.$selectDate.on("change",function(b){a.verificationSelectDate()});this.$startDate.on("change",
function(b){a.verificationStartDate()});this.$endDate.on("change",function(b){a.verificationEndDate()});this.$fundType.on("change",function(){a.verificationFundType()})};d.prototype.verificationSelectDate=function(){var a=this.getSelectCalendar();10===a.length&&this.dateValidation(a)?0>this.compareDate(a,this.lastUpdateDate)?(this.selectDateValid=this.messages.dateMaxErr,this.setSystemError(this.messages.dateMaxErr,"selectDate")):365<this.compareDate(a,this.config.currentDate)?this.setSystemError(this.messages.dateMaxOneYearErr,
"selectDate"):this.clearSystemError("selectDate"):(this.selectDateValid=this.messages.invalidDateErr,this.setSystemError(this.messages.invalidDateErr,"selectDate"))};d.prototype.verificationStartDate=function(){var a=this.$startDate[0].options[0].value,b=this.$endDate[0].options[0].value;this.getSelectCalendar();var f="ALL"===this.$fundType[0].options[0].value;10===a.length&&this.dateValidation(a)?365<this.compareDate(a,this.config.currentDate)?(this.startDateValid=this.messages.dateMaxOneYearErr,
this.setSystemError(this.messages.dateMaxOneYearErr,"startDate")):0>this.compareDate(a,this.lastUpdateDate)?(this.startDateValid=this.messages.dateMaxErr,this.setSystemError(this.messages.dateMaxErr,"startDate")):0>=this.compareDate(a,b)?(this.startDateValid=this.messages.dateEarlierErr,this.setSystemError(this.messages.dateEarlierErr,"startDate")):(this.endDateValid==this.messages.dateEarlierErr&&this.clearSystemError("endDate"),f&&30<this.compareDate(a,b)?(this.startDateValid=this.messages.moreThanMonthErr,
this.setSystemError(this.messages.moreThanMonthErr,"startDate")):(this.endDateValid==this.messages.moreThanMonthErr&&this.clearSystemError("endDate"),this.fundTypeValid==this.messages.moreThanMonthErr&&this.clearSystemError("fundType"),!f&&365<this.compareDate(a,b)?(this.startDateValid=this.messages.moreThanYearErr,this.setSystemError(this.messages.moreThanYearErr,"startDate")):(this.endDateValid==this.messages.moreThanYearErr&&this.clearSystemError("endDate"),this.fundTypeValid==this.messages.moreThanYearErr&&
this.clearSystemError("fundType"),this.clearSystemError("startDate")))):(this.startDateValid=this.messages.invalidDateErr,this.setSystemError(this.messages.invalidDateErr,"startDate"))};d.prototype.verificationEndDate=function(){var a=this.$startDate[0].options[0].value,b=this.$endDate[0].options[0].value;this.getSelectCalendar();var f="ALL"===this.$fundType[0].options[0].value;10===b.length&&this.dateValidation(b)?365<this.compareDate(b,this.config.currentDate)?(this.endDateValid=this.messages.dateMaxOneYearErr,
this.setSystemError(this.messages.dateMaxOneYearErr,"endDate")):0>this.compareDate(b,this.lastUpdateDate)?(this.endDateValid=this.messages.dateMaxErr,this.setSystemError(this.messages.dateMaxErr,"endDate")):0>=this.compareDate(a,b)?(this.endDateValid=this.messages.dateEarlierErr,this.setSystemError(this.messages.dateEarlierErr,"endDate")):(this.startDateValid==this.messages.dateEarlierErr&&this.clearSystemError("startDate"),f&&30<this.compareDate(a,b)?(this.endDateValid=this.messages.moreThanMonthErr,
this.setSystemError(this.messages.moreThanMonthErr,"endDate")):(this.startDateValid==this.messages.moreThanMonthErr&&this.clearSystemError("startDate"),!f&&365<this.compareDate(a,b)?(this.endDateValid=this.messages.moreThanYearErr,this.setSystemError(this.messages.moreThanYearErr,"endDate")):(this.startDateValid==this.messages.moreThanYearErr&&this.clearSystemError("startDate"),this.clearSystemError("endDate")))):(this.endDateValid=this.messages.invalidDateErr,this.setSystemError(this.messages.invalidDateErr,
"startDate"))};d.prototype.verificationFundType=function(){var a=this.$startDate[0].options[0].value,b=this.$endDate[0].options[0].value,f=this.getSelectCalendar(),e="ALL"===this.$fundType[0].options[0].value;10===f.length&&(e&&30<this.compareDate(a,b)?(this.fundTypeValid=this.messages.moreThanMonthErr,this.setSystemError(this.messages.moreThanMonthErr,"fundType")):!e&&365<this.compareDate(a,b)?(this.fundTypeValid=this.messages.moreThanYearErr,this.setSystemError(this.messages.moreThanYearErr,"fundType")):
(this.verificationStartDate(),this.verificationEndDate(),this.clearSystemError("fundType")))};d.prototype.getAPIData=function(a){var b=this,f=this.getSelectCalendar(),e=this.config.endpointConfig;p.prototype.ajax.call(this,{method:"GET",url:e.url+"/wpb-gpbw-mmw-hk-hbap-pa-wpp-market-data-"+e.space+"-proxy/v0/v1/pensions-pws-fund-prices?endDate\x3d"+(f+"\x26schemeIdentifier\x3d"+this.config.productID+"\x26product\x3dORSO")}).then(function(k){k=JSON.parse(k);k.errorInfo&&k.errorInfo[0]?b.handleSystemResponseError(k.errorInfo[0].code):
(b.clearSystemError(),b.handleSuccessCallBack(a,k))})["catch"](function(k){b.handleErrorCallBack(a,k)})};d.prototype.downLoadFile=function(){var a=this,b=this.$fundType[0].options[0].value,f=this.$startDate[0].options[0].value,e=this.$endDate[0].options[0].value;b="ALL"===b?"":b;var k=this.config.productID,h=this.getORSOLang(),g=this.config.endpointConfig,q=g.url+"/wpb-gpbw-mmw-hk-hbap-pa-wpp-market-data-"+g.space+"-proxy/v0/v1/pensions-pws-fund-price-csv-downloads?schemeIdentifier\x3d"+(k+"\x26startDate\x3d"+
f+"\x26endDate\x3d"+e+"\x26product\x3dORSO\x26language\x3d"+h);b&&(q+="\x26fundIdentifier\x3d"+b);p.prototype.ajax.call(this,{method:"GET",url:q}).then(function(x){a.clearSystemError();window.location.href=q;a.TMS.trackEvent({event_category:"tool",event_subcategory:"table",event_action:"button",event_content:"download data - unit prices - "+a.config.productName+" - "+a.$fundType.text()+" - "+f+" : "+e})})["catch"](function(x){try{var u=JSON.parse(x.responseText).errorInfo[0];a.handleSystemResponseError(u.code)}catch(r){x&&
a.handleSystemResponseError()}a.TMS.trackEvent({event_category:"error",event_subcategory:x&&x.status?x.status:"500",event_action:"tool",event_content:a.messages.systemError+" - download data - unit prices - "+a.config.productName})})};d.prototype.handleSuccessCallBack=function(a,b){if((b=b.data)&&b[0].fundPriceList&&b[0].fundPriceList.length){var f=b[0].fundPriceList;this.handleTableHtml(f);this.initfundTypeDropdown(f)}else this.handleNoRecordTableHtml();b&&b.lastUpdateDate&&(this.lastUpdateDate=
b.lastUpdateDate);"init"==a?this.setDateDefaultValue():this.TMS.trackEvent({event_category:"tool",event_subcategory:"table",event_action:"button",event_content:"view data - unit prices - "+this.config.productName+" - "+this.getSelectCalendar()});a=this.config.captionSuffix?this.config.captionSuffix:" ";a="\x3cspan\x3e"+this.config.tableCaption+TOOLS_utils.formatDDMMYYYYDate(this.getSelectCalendar(),!1)+a+"\x3c/span\x3e";this.$tableDescription.find("span").remove();this.$tableDescription.append(a)};
d.prototype.handleErrorCallBack=function(a,b){"init"==a&&this.setDateDefaultValue();a=this.config.captionSuffix?this.config.captionSuffix:" ";a="\x3cspan\x3e"+this.config.tableCaption+TOOLS_utils.formatDDMMYYYYDate(this.getSelectCalendar(),!1)+a+"\x3c/span\x3e";this.$tableDescription.find("span").remove();this.$tableDescription.append(a);this.handleNoRecordTableHtml();try{var f=JSON.parse(b.response).errorInfo[0];this.handleSystemResponseError(f.code)}catch(e){this.handleSystemResponseError()}this.TMS.trackEvent({event_category:"error",
event_subcategory:b&&b.status?b.status:"500",event_action:"tool",event_content:this.messages.systemError+" - unit prices - "+this.config.productName})};d.prototype.setSystemError=function(a,b){var f=this;"selectDate"==b?(this.$selectDateButton.addClass("disabled"),this.$selectDateButton.attr("aria-disabled","true"),this.addSelectDateError(),this.scope.set(this.$selectDate.attr("name")+"/status","visuallyhidden"),this.scope.set(this.$selectDate.attr("name")+"/message",a),this.scope.set(this.$selectDateError.data("for")+
"/message",a)):"startDate"==b?(this.$downloadButton.addClass("disabled"),this.$downloadButton.attr("aria-disabled","false"),this.$startDateselector.addError(),this.scope.set(this.$startDate.attr("name")+"/status","visuallyhidden"),this.scope.set(this.$startDate.attr("name")+"/message",a),this.scope.set(this.$downloadError.data("for")+"/message",a)):"endDate"==b?(this.$downloadButton.addClass("disabled"),this.$downloadButton.attr("aria-disabled","false"),this.$endDateselector.addError(),this.scope.set(this.$endDate.attr("name")+
"/status","visuallyhidden"),this.scope.set(this.$endDate.attr("name")+"/message",a),this.scope.set(this.$downloadError.data("for")+"/message",a)):"fundType"==b?(this.$downloadButton.addClass("disabled"),this.$downloadButton.attr("aria-disabled","false"),this.$endDateselector.addError(),this.scope.set(this.$fundType.attr("id")+"_"+this.$fundType.attr("name")+"/status","visuallyhidden"),this.scope.set(this.$fundType.attr("id")+"_"+this.$fundType.attr("name")+"/message",a),this.scope.set(this.$downloadError.data("for")+
"/message",a)):(this.scope.set(this.$systemError.data("for")+"/message",a),setTimeout(function(){f.$systemError.focus()},0))};d.prototype.clearSystemError=function(a){"selectDate"==a?(this.selectDateValid="",this.$selectDateButton.removeClass("disabled"),this.$selectDateButton.attr("aria-disabled","false"),this.removeSelectDateError(),this.scope.set(this.$selectDate.attr("name")+"/message",""),this.scope.set(this.$selectDateError.data("for")+"/message","")):"startDate"==a?(this.startDateValid="",
this.$startDateselector.removeError(),this.scope.set(this.$startDate.attr("name")+"/message","")):"endDate"==a?(this.endDateValid="",this.$endDateselector.removeError(),this.scope.set(this.$endDate.attr("name")+"/message","")):"fundType"==a?(this.fundTypeValid="",this.scope.set(this.$fundType.attr("id")+"_"+this.$fundType.attr("name")+"/message",""),""==this.endDateValid&&this.$endDateselector.removeError()):this.scope.set(this.$systemError.data("for")+"/message","");""!=this.startDateValid?this.scope.set(this.$downloadError.data("for")+
"/message",this.startDateValid):""!=this.endDateValid?this.scope.set(this.$downloadError.data("for")+"/message",this.endDateValid):(this.$downloadButton.removeClass("disabled"),this.$downloadButton.attr("aria-disabled","false"),this.scope.set(this.$downloadError.data("for")+"/message",""),this.scope.set(this.$fundType.attr("id")+"_"+this.$fundType.attr("name")+"/message",""))};d.prototype.addSelectDateError=function(){this.$selectDate.addClass("calendar-error")};d.prototype.removeSelectDateError=
function(){this.$selectDate.removeClass("calendar-error")};d.prototype.handleSystemResponseError=function(a){a?"E505"==a||"E511"==a?this.setSystemError(this.messages.dateMin1Err,"system"):"E505"==a?this.setSystemError(this.messages.dateMin1Err,"system"):"E506"==a?this.setSystemError(this.messages.dateEarlierErr,"system"):(a=this.messages.dateCodeErr.replace("XXX",a),this.setSystemError(a,"system")):this.setSystemError(this.messages.systemError,"system")};d.prototype.setDateDefaultValue=function(){var a=
new Date(this.lastUpdateDate);a.setDate(a.getDate()-30);var b=a.getMonth()+1;b=10>b?"0"+b:b;var f=a.getDate();f=10>f?"0"+f:f;a=a.getFullYear()+"-"+b+"-"+f;this.$startDateselector.setSelectedValue(a);this.$endDateselector.setSelectedValue(this.lastUpdateDate)};d.prototype.initDateDropdown=function(a){var b=1992;"HSBCPPP"===this.config.productID&&(b=1992);"WMFS"===this.config.productID&&(b=1989);--b;var f=[];for(a=a.split("-")[0];a>b;a--){var e={};e.text=a;e.value=a;f.push(e)}this.$startDateselector.addYearOption(f);
this.$endDateselector.addYearOption(f)};d.prototype.initfundTypeDropdown=function(a){for(var b=[],f=[],e={},k=0;k<a.length;k++){var h=this.getORSOLang();h=this.checkDataApplicable(a[k].fundNames[0][h]);var g=a[k].fundIdentifier,q=a[k].fundCurrencyCode;e[h]?e[h]++:e[h]=1;f.push({text:h,value:g,fundCurrencyCode:q})}for(a=0;a<f.length;a++)k=f[a],h=k.text,"-"!==h&&1!==e[h]&&(k.text=k.text+"("+this.config.currencyMap[k.fundCurrencyCode]+")"),b.push(k);this.$fundType[0].selectize.addOption(b);this.$fundType[0].selectize.setValue("ALL")};
d.prototype.handleTableHtml=function(a){for(var b="",f="\x3ctbody\x3e",e=0;e<a.length;e++){var k=a[e],h=k.fundNames,g=k.fundCurrencyCode,q=k.bidAmount,x=k.offerAmount;k=k.priceDate;var u=this.getORSOLang();h=h[0][u];k=10===k.length?k.replaceAll("-","/"):"-";g=this.config.currencyMap[g];u=Number(q).toFixed(2);"HSBCPPP"===this.config.productID&&(u=Number(q).toFixed(5));u=this.checkDataApplicable(u);q=Number(x).toFixed(2);"HSBCPPP"===this.config.productID&&(q=Number(x).toFixed(5));q=this.checkDataApplicable(q);
this.checkDataApplicable(h)!=h&&(h=this.checkDataApplicable(h));x="";"WMFS"===this.config.productID&&(x="fund-name");b+="\x3ctr\x3e\x3ctd class\x3d"+x+"\x3e"+h+"\x3c/td\x3e\x3ctd\x3e"+g+"\x3c/td\x3e\x3ctd\x3e"+k+"\x3c/td\x3e\x3ctd\x3e"+u+"\x3c/td\x3e\x3ctd\x3e"+q+" \x3c/td\x3e\x3c/tr\x3e";f+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+this.config.fundName+"\x3c/th\x3e\x3ctd\x3e"+h+"\x3c/td\x3e\x3c/tr\x3e";f+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+this.config.currency+
"\x3c/th\x3e\x3ctd\x3e"+g+"\x3c/td\x3e\x3c/tr\x3e";f+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+this.config.pricingDate+"\x3c/th\x3e\x3ctd\x3e"+k+"\x3c/td\x3e\x3c/tr\x3e";f+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+this.config.bidPrice+"\x3c/th\x3e\x3ctd\x3e"+u+"\x3c/td\x3e\x3c/tr\x3e";f+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+this.config.offerPrice+" \x3c/th\x3e\x3ctd\x3e"+q+"\x3c/td\x3e\x3c/tr\x3e";e!=a.length-1&&(f+="\x3ctr aria-hidden\x3d'true' tabindex\x3d'-1' class\x3d'hidden-row'\x3e\x3cth\x3e\x3c/th\x3e\x3ctd\x3e\x3c/td\x3e\x3c/tr\x3e")}f+=
"\x3c/tbody\x3e";this.$unitSuperTrustPlusDesktop.find("tr").remove();this.$unitSuperTrustPlusMobile.find("tbody").remove();this.$unitSuperTrustPlusDesktop.append(b);this.$unitSuperTrustPlusMobile.append(f)};d.prototype.checkDataApplicable=function(a){return a&&null!=a&&""!=a&&"-999999.99"!=a?a:this.config.dataApplicable?"\x3cspan aria-hidden\x3d'true'\x3e-\x3c/span\x3e\x3cspan class\x3d'visuallyhidden'\x3e"+this.config.dataApplicable+"\x3c/span\x3e":"-"};d.prototype.getORSOLang=function(){var a=TOOLS_utils.getLocale();
return["zh","zh_CN","zh_cn","zh-CN","zh-cn"].includes(a)?"zh-CN":["zh_HK","zh-HK","zh-hk"].includes(a)?"zh-HK":"en-US"};d.prototype.handleNoRecordTableHtml=function(){var a="\x3ctr\x3e\x3ctd colspan\x3d'5' style\x3d'text-align:center'\x3e"+this.config.noDataError+"\x3c/td\x3e\x3c/tr\x3e",b="\x3ctbody\x3e\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+this.config.fundName+"\x3c/th\x3e\x3ctd rowspan\x3d'5'\x3e"+this.config.noDataError+"\x3c/td\x3e\x3c/tr\x3e";b+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+
this.config.currency+"\x3c/th\x3e\x3c/tr\x3e";b+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+this.config.pricingDate+"\x3c/th\x3e\x3c/tr\x3e";b+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+this.config.bidPrice+"\x3c/th\x3e\x3c/tr\x3e";b+="\x3ctr\x3e\x3cth scope\x3d'row' class\x3d'A-TBLLAB-RW-ALL'\x3e"+this.config.offerPrice+"\x3c/th\x3e\x3c/tr\x3e\x3c/tbody\x3e";this.$unitSuperTrustPlusDesktop.find("tr").remove();this.$unitSuperTrustPlusMobile.find("tbody").remove();
this.$unitSuperTrustPlusDesktop.append(a);this.$unitSuperTrustPlusMobile.append(b)};d.prototype.dateValidation=function(a){if(a=/^([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])$/.exec(a)){var b=parseInt(a[1],10),f=parseInt(a[2],10)-1,e=parseInt(a[3],10);a=new Date(b,f,e);return a.getFullYear()==b&&a.getMonth()==f&&a.getDate()==e?!!a:!1}return!1};d.prototype.compareDate=function(a,b){return(new Date(b)-new Date(a))/864E5};return d}(m.ToolsBase);TOOLS_utils.registerComponent({name:"orsoUnitPrices",
selector:".orsoUnitPrices",init:function(p){return new c(p)}})})(Bootstrap.jQuery)},function(M,Y,I){function z(b,f){if("function"!==typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);b.prototype=Object.create(f&&f.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});f&&(Object.setPrototypeOf?Object.setPrototypeOf(b,f):b.__proto__=f)}var m=(M=I(93))&&M.__esModule?M:{default:M},n=I(0),l=I(12),c=I(9),p=I(4),d=I(3),a=I(29);
(function(b){var f=b(window),e={name:{type:"string",required:!0,maxLength:45,pattern:"[-'A-Za-z ]+"},idType:{type:"selection",required:!0,selected:"HKID"},permanentHkid:{type:"selection",required:!0},hkid:{type:"string",required:!0},hkid_hkid:{type:"string",maxLength:8,pattern:"[A-Za-z]{1,2}[0-9]*"},hkid_checkDigit:{type:"string",maxLength:1,pattern:"[Aa0-9]"},passport:{type:"string",required:!0,minLength:3,maxLength:12,pattern:"[A-Za-z0-9]+"},fileUpload:{type:"fileset",required:!0}},k={idType:["idType \x3d\x3d 'HKID'",
"idType \x3d\x3d 'Passport'","idType \x3d\x3d 'Passport' || permanentHkid \x3d\x3d 'No'"],permanentHkid:["idType \x3d\x3d 'Passport' || permanentHkid \x3d\x3d 'No'"]},h={"idType \x3d\x3d 'HKID'":function(q){return"HKID"==q},"idType \x3d\x3d 'Passport'":function(q){return"Passport"==q},"idType \x3d\x3d 'Passport' || permanentHkid \x3d\x3d 'No'":function(){return"Passport"==this.get("idType")||"No"==this.get("permanentHkid")}},g=function(q){function x(u){if(!(this instanceof x))throw new TypeError("Cannot call a class as a function");
"card"==b("[data-config]",u).data("config").pageClassification&&(e.refNumber={type:"string",minLength:12,maxLength:64,pattern:"(^[0-9]{0,12}$)|(^[0-9]{12}(,[0-9]{12})*$)"});var r=q.call(this,u,e,k,h);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");r=!r||"object"!==typeof r&&"function"!==typeof r?this:r;r.$elem=u;r.$config=b("[data-config]",r.$elem);r.$stepTracker=b(".step-tracker",r.$elem);r.$step1=b(".step-1",r.$elem);r.$step2=b(".step-2",r.$elem);r.$hkid=
b(".hkid",r.$elem);r.$idType=b("[name\x3didType]",r.$elem);r.$permanentHkid=b("[name\x3dpermanentHkid]",r.$elem);r.$dropTarget=b(".drop-target",r.$elem);r.$submitButton=b(".submit-button",r.$elem);r.$systemError=b(".system.error",r.$elem);r.$remark=b(".remark",r.$elem);r.$reviewModal=b(".review-modal .modal-overlay",r.$elem);r.reviewModal=new c.Modal(r.$submitButton,r.$reviewModal);r.fileInputs=[];r.config=r.$config.data("config");r.pageClassification=r.config.pageClassification;b.extend(!0,e,r.config.dataModel);
r.maxNumberOfFiles=r.config.maxNumberOfFiles;r.maxFileSize=r.config.maxFileSize;r.reminderFileSize=r.config.reminderFileSize;r.fileUpload=b("[name\x3dfileUpload]",r.$elem)[0];r.fileUpload.name="fileUpload";r.fileUpload.value="";e.fileUpload.maxLength=r.maxNumberOfFiles;r.reviewCount=0;r.changePermanentHkid=!1;r.bindUiElements();r.bindUiEvents();r.TMS.trackView(r.tealiumConfig.startStep);return r}z(x,q);x.prototype.bindUiElements=function(){var u=this;this.stepTracker=new p.StepTracker(this.$stepTracker[0]);
this.stepTracker.reset();this.$hkid.each(function(y,w){u.registerInput(new d.HKID(w))});this.$dropTarget.each(function(y,w){y=new a.FileInput(w,u.maxFileSize,["image/png","image/jpeg","image/gif","application/pdf"]);e[y.name]={type:"file"};u.registerInput(y);u.fileInputs.push(y)});(0,n.bindLink)(b("[role\x3dlink]",this.$elem));(0,n.bindButton)(b("[role\x3dbutton]",this.$elem));var r=["fileUpload/valid"],t=["name","idType","permanentHkid","hkid","passport"];"card"==this.pageClassification&&t.push("refNumber");
t.forEach(function(y){b('input[name\x3d"'+y+'"]',u.$elem).length&&r.push(y+"/valid")});this.fileInputs.forEach(function(y){r.push(y.name+"/valid")});f.on("tools:contentUpdated",function(y,w){y=!1;for(var A in w)if(-1!=r.indexOf(A)){y=!0;break}if(y){var F=!0;r.some(function(C){F&=u.scope.get(C);if(!F)return!0});u.$submitButton.toggleClass("disabled",!F);u.$submitButton.attr("aria-disabled",(!F).toString());u.$submitButton.find("span.visuallyhidden").attr("aria-hidden",(!!F).toString())}});q.prototype.bindUiElements.call(this)};
x.prototype.extractFilename=function(u){return"string"===typeof u&&(u=u.match(/[^\\\/]+$/))&&u[0]||""};x.prototype.bindUiEvents=function(){var u=this;this.fileInputs.forEach(function(r){r.$elem.on("change",function(){var t=u.getNumberOfFiles();t>=u.maxNumberOfFiles?u.fileInputs.forEach(function(y){y.disableInput();u.setStatus(y.name+"_message","warning",y.messages.reachedMaximumNumberOfFiles)}):u.fileInputs.forEach(function(y){y.enableInput();u.setStatus(y.name+"_message","warning","")});u.fileUpload.value=
" ".repeat(t);u.fileUpload.control.setValue(u.fileUpload.value);u.fileUpload.checkValidity();b(u.fileUpload).trigger("change")})});this.$idType.on("change",function(r){u.clearInputFiles()});this.$permanentHkid.on("change",function(r){u.changePermanentHkid?u.clearInputFiles():u.changePermanentHkid=!0});this.$reviewModal.on("close",function(r){u.reviewCount=0;u.TMS.trackView(u.tealiumConfig.startStep);u.$remark.attr("aria-hidden","false");b(".footer-legal-regulatory").attr("aria-hidden","false")});
this.$reviewModal.on("cancel",function(r){u.TMS.trackView(u.tealiumConfig.startStep);u.$remark.attr("aria-hidden","false");b(".footer-legal-regulatory").attr("aria-hidden","false")});this.$reviewModal.on("continue",function(r,t){t.preventDefault();u.reviewModal.hide();u.$remark.attr("aria-hidden","false");b(".footer-legal-regulatory").attr("aria-hidden","false");u.submit()});this.$submitButton.on("action",function(){u.$step1.data("validation-status","error");0==u.reviewCount?u.review():u.submit()})};
x.prototype.clearInputFiles=function(){this.fileInputs.forEach(function(u){0!=u.$fileList[0].childElementCount&&(u.files=[],u.invalidFiles=[],u.$elem.trigger("change"),u.checkValidity(),u.$fileList.empty())})};x.prototype.getNumberOfFiles=function(){var u=0;this.fileInputs.forEach(function(r){u+=r.files.length});return u};x.prototype.getTotalFileSize=function(){var u=0;this.fileInputs.forEach(function(r){r.files.forEach(function(t){u+=t.size})});return u/1048576};x.prototype.validate=function(){return q.prototype.validate.call(this)};
x.prototype.review=function(){if(this.validate()){var u=this.getTotalFileSize();this.scope.set("enableFileSizeReminder",u>=this.reminderFileSize);this.reviewModal.open();this.$remark.attr("aria-hidden","true");b(".footer-legal-regulatory").attr("aria-hidden","true");this.reviewCount++;this.TMS.trackView(this.tealiumConfig.reviewStep)}};x.prototype.submit=function(){var u=this;this.validate()&&!this.submitted&&(this.submitted=!0,this.scope.set("systemError/message",""),this.$submitButton.addClass("disabled"),
this.fileInputs.forEach(function(r,t){u.scope.set("numberOfFiles"+t,r.files.length)}),this.$submitButton.addClass("loading"),(this.config.endpoints.docUpload.dummy||this.config.endpoints.fnfDocUpload.dummy?new Promise(function(r){return setTimeout(r,5E3)}):this.upload(this.fileInputs).then(function(r){try{var t=u.config.endpoints.fnfDocUpload,y=t.headers;y.push({name:"Accept-Language",value:TOOLS_utils.getLocale()});y.push({name:"X-HSBC-Request-Correlation-Id",value:(0,m["default"])()});var w=t.json;
w=w.replace("{{documentIds}}",JSON.stringify(r.map(function(A){return A.response.uploadedDocuments[0].documentUploadId})));w=w.replace("{{idNumber}}",JSON.stringify("HKID"==u.scope.get("idType")?u.scope.get("hkid").replace(/[\(\)]/g,""):u.scope.get("passport")));"card"==u.pageClassification?w=w.replace("{{appRefNo}}",JSON.stringify(u.scope.get("refNumber")?u.scope.get("refNumber"):" ")):(w=w.replace("{{customerID}}",JSON.stringify("HKID"==u.scope.get("idType")?u.scope.get("hkid").replace(/[\(\)]/g,
""):u.scope.get("passport"))),w=w.replace("{{customerName}}",JSON.stringify(u.scope.get("name"))),w=w.replace("{{idType}}",JSON.stringify("HKID"==u.scope.get("idType")?"ID":"Passport"==u.scope.get("idType")?"Passport":"Others")));return(new l.RequestHelper(function(){return q.prototype.ajax.call(u,{method:"POST",url:t.url,headers:y,json:w})},1,1E3)).start()}catch(A){return Promise.reject()}})).then(function(r){b(".current-step",u.$elem).removeClass("current-step");u.$step2.addClass("current-step");
u.stepTracker.next();u.scrollTo(u.$stepTracker[0]);u.$stepTracker.focus();"card"!=u.pageClassification||u.scope.get("refNumber")||(b(".review \x3e .refNumberText").hide(),b(".review \x3e .refNumberLabel").hide());u.tealiumConfig.completeStep.form_field_1=u.getTealiumValue("idType");"HKID"==u.scope.get("idType")&&(u.tealiumConfig.completeStep.form_field_2=u.getTealiumValue("permanentHkid"));var t="upload";u.fileInputs.forEach(function(y,w){t="Income Proof"==y.documentType?t+(" - income:"+y.files.length):
"Employment Proof"==y.documentType?t+(" - employment:"+y.files.length):"Identity Proof"==y.documentType?t+(" - identity:"+y.files.length):"Residentital Address Proof"==y.documentType?t+(" - residentital_address:"+y.files.length):"Permanent Address Proof"==y.documentType?t+(" - permanent_address:"+y.files.length):t+(" - others:"+y.files.length)});u.tealiumConfig.completeStep.form_field_3=t;u.TMS.trackView(u.tealiumConfig.completeStep)})["catch"](function(r){u.scope.set("systemError/message",u.config.messages.systemError);
setTimeout(function(){u.$systemError.focus()},0);u.TMS.trackEvent({event_category:"error",event_subcategory:r&&r.status?r.status:"500",event_action:"application",event_content:u.config.messages.systemError})}).then(function(){u.submitted=!1;u.$submitButton.removeClass("disabled");u.$submitButton.removeClass("loading")}))};x.prototype.upload=function(u){var r=this,t=this.config.endpoints.docUpload,y=t.headers;y.push({name:"Accept-Language",value:TOOLS_utils.getLocale()});y.push({name:"X-HSBC-Request-Correlation-Id",
value:(0,m["default"])()});var w=t.json;"card"==this.pageClassification?w=w.replace("{{idValue}}",JSON.stringify("HKID"==this.scope.get("idType")?this.scope.get("hkid").replace(/[\(\)]/g,""):this.scope.get("passport"))):(w=w.replace("{{idType}}",JSON.stringify("HKID"==this.scope.get("idType")?"ID":"Passport"==this.scope.get("idType")?"Passport":"Others")),w=w.replace("{{idValue}}",JSON.stringify("HKID"==this.scope.get("idType")?this.scope.get("hkid"):this.scope.get("passport"))));var A=[];this.fileInputs.forEach(function(F){var C=
JSON.parse(w);F.files.forEach(function(J){var B={},G=[];B.convertToPdfIndicator=!1;B.documentCategoryCode=F.documentType;B.documentIndex=1;var E=r.extractFilename(J.name);B.documentName=E;E=E.substring(E.lastIndexOf(".")+1);B.documentFileType=E;B.documentByteStream=J.fileByteArray;G.push(B);C.documentDetails=G;var v=JSON.stringify(C);A.push(function(){return q.prototype.ajax.call(r,{method:"POST",url:t.url,headers:y,json:v}).then(function(D){D=JSON.parse(D);var K={file:J,response:D};return"SUCCESS"!=
D.uploadedDocuments[0].documentUploadStatus?Promise.reject(K):K})})})});return(new l.RequestHelper(A,1,1E3,2)).start()};return x}(n.ToolsBase);TOOLS_utils.registerComponent({name:"DocumentUpload",selector:".DocumentUpload",init:function(q){return new g(q)}})})(Bootstrap.jQuery)},function(M,Y,I){function z(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,
writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var m=I(0),n=I(12),l=I(9),c=I(4),p=I(3),d=I(31);(function(a){var b=a(window),f={name:{type:"string",required:!0,maxLength:45,pattern:"[-'A-Za-z ]+"},hkid:{type:"string",required:!0},hkid_hkid:{type:"string",maxLength:8,pattern:"[A-Za-z]{1,2}[0-9]*"},hkid_checkDigit:{type:"string",maxLength:1,pattern:"[Aa0-9]"},fileUpload:{type:"fileset",required:!0}},e=function(k){function h(g){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");
var q=k.call(this,g,f);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");q=!q||"object"!==typeof q&&"function"!==typeof q?this:q;q.$elem=g;q.$config=a("[data-config]",q.$elem);q.$stepTracker=a(".step-tracker",q.$elem);q.$step1=a(".step-1",q.$elem);q.$step2=a(".step-2",q.$elem);q.$hkid=a(".hkid",q.$elem);q.$dropTarget=a(".drop-target",q.$elem);q.$submitButton=a(".submit-button",q.$elem);q.$systemError=a(".system.error",q.$elem);q.$remark=a(".remark",q.$elem);
q.$reviewModal=a(".review-modal .modal-overlay",q.$elem);q.reviewModal=new l.Modal(q.$submitButton,q.$reviewModal);q.fileInputs=[];q.config=q.$config.data("config");a.extend(!0,f,q.config.dataModel);q.maxNumberOfFiles=q.config.maxNumberOfFiles;q.maxFileSize=q.config.maxFileSize;q.reminderFileSize=q.config.reminderFileSize;q.fileUpload=a("[name\x3dfileUpload]",q.$elem)[0];q.fileUpload.name="fileUpload";q.fileUpload.value="";f.fileUpload.maxLength=q.maxNumberOfFiles;q.reviewCount=0;q.bindUiElements();
q.bindUiEvents();q.TMS.trackView(q.tealiumConfig.startStep);q.disableButton=!1;return q}z(h,k);h.prototype.bindUiElements=function(){var g=this;this.stepTracker=new c.StepTracker(this.$stepTracker[0]);this.stepTracker.reset();this.$hkid.each(function(x,u){g.registerInput(new p.HKID(u))});this.$dropTarget.each(function(x,u){x=new d.FileInput(u,g.maxFileSize,["image/jpeg","application/pdf"]);f[x.name]={type:"file"};g.registerInput(x);g.fileInputs.push(x)});(0,m.bindLink)(a("[role\x3dlink]",this.$elem));
(0,m.bindButton)(a("[role\x3dbutton]",this.$elem));var q=["fileUpload/valid"];["name","hkid"].forEach(function(x){a('input[name\x3d"'+x+'"]',g.$elem).length&&q.push(x+"/valid")});this.fileInputs.forEach(function(x){q.push(x.name+"/valid")});b.on("tools:contentUpdated",function(x,u){x=!1;for(var r in u)if(-1!=q.indexOf(r)){x=!0;break}if(x){var t=!0;q.some(function(y){t&=g.scope.get(y);if(!t)return!0});g.$submitButton.toggleClass("disabled",!t);g.$submitButton.attr("aria-disabled",(!t).toString());
g.$submitButton.find("span.visuallyhidden").attr("aria-hidden",(!!t).toString())}});k.prototype.bindUiElements.call(this)};h.prototype.extractFilename=function(g){return"string"===typeof g&&(g=g.match(/[^\\\/]+$/))&&g[0]||""};h.prototype.bindUiEvents=function(){var g=this;this.fileInputs.forEach(function(q){q.$elem.on("change",function(){var x=g.getNumberOfFiles();x>=g.maxNumberOfFiles?g.fileInputs.forEach(function(u){u.disableInput();g.setStatus(u.name+"_message","warning",u.messages.reachedMaximumNumberOfFiles)}):
g.fileInputs.forEach(function(u){u.enableInput();g.setStatus(u.name+"_message","warning","")});g.fileUpload.value=" ".repeat(x);g.fileUpload.control.setValue(g.fileUpload.value);g.fileUpload.checkValidity();a(g.fileUpload).trigger("change")})});this.$reviewModal.on("close",function(q){g.reviewCount=0;g.TMS.trackView(g.tealiumConfig.startStep);g.$remark.attr("aria-hidden","false");a(".footer-legal-regulatory").attr("aria-hidden","false")});this.$reviewModal.on("cancel",function(q){g.TMS.trackView(g.tealiumConfig.startStep);
g.$remark.attr("aria-hidden","false");a(".footer-legal-regulatory").attr("aria-hidden","false")});this.$reviewModal.on("continue",function(q,x){x.preventDefault();g.reviewModal.hide();g.$remark.attr("aria-hidden","false");a(".footer-legal-regulatory").attr("aria-hidden","false");g.submit()});this.$submitButton.on("action",function(){g.$step1.data("validation-status","error");0==g.reviewCount?g.review():g.submit()})};h.prototype.clearInputFiles=function(){this.fileInputs.forEach(function(g){0!=g.$fileList[0].childElementCount&&
(g.files=[],g.invalidFiles=[],g.$elem.trigger("change"),g.checkValidity(),g.$fileList.empty())});this.disableButton=!0};h.prototype.getNumberOfFiles=function(){var g=0;this.fileInputs.forEach(function(q){g+=q.files.length});return g};h.prototype.getTotalFileSize=function(){var g=0;this.fileInputs.forEach(function(q){q.files.forEach(function(x){g+=x.size})});return g/1048576};h.prototype.validate=function(){return k.prototype.validate.call(this)};h.prototype.review=function(){if(this.validate()){var g=
this.getTotalFileSize();this.scope.set("enableFileSizeReminder",g>=this.reminderFileSize);this.reviewModal.open();this.$remark.attr("aria-hidden","true");a(".footer-legal-regulatory").attr("aria-hidden","true");this.reviewCount++;this.TMS.trackView(this.tealiumConfig.reviewStep)}};h.prototype.submit=function(){var g=this;this.validate()&&!this.submitted&&(this.submitted=!0,this.scope.set("systemError/message",""),this.$submitButton.addClass("disabled"),this.fileInputs.forEach(function(q,x){g.scope.set("numberOfFiles"+
x,q.files.length)}),this.$submitButton.addClass("loading"),(this.config.endpoints.docUpload.dummy||this.config.endpoints.fnfDocUpload.dummy?new Promise(function(q){return setTimeout(q,5E3)}):this.checkFileValidation().then(function(q){return q.allFilesValid?g.upload(g.fileInputs).then(function(x){try{var u=g.config.endpoints.fnfDocUpload,r=u.json;r=r.replace("{{externalReference}}",JSON.stringify("-"));r=r.replace("{{documentIds}}",JSON.stringify(x.map(function(t){return t.response.documentUploadId})));
r=r.replace("{{idNumber}}",JSON.stringify(g.scope.get("hkid").replace(/[\(\)]/g,"")));r=r.replace("{{customerName}}",JSON.stringify(g.scope.get("name")));return(new n.RequestHelper(function(){return k.prototype.ajax.call(g,{method:"POST",url:u.url,headers:u.headers,json:r})},1,1E3)).start()}catch(t){return Promise.reject()}}):Promise.reject({invalidFileError:!0,status:"0"})})).then(function(q){a(".current-step",g.$elem).removeClass("current-step");g.$step2.addClass("current-step");g.stepTracker.next();
g.scrollTo(g.$stepTracker[0]);g.$stepTracker.focus();var x="upload";g.fileInputs.forEach(function(u,r){"identityFile"==u.name?x+=" - identity:"+u.files.length:"unemploymentFile"==u.name?x+=" - unemployment:"+u.files.length:"incomeFile"==u.name?x+=" - income:"+u.files.length:"others"==u.name&&(x+=" - others:"+u.files.length)});g.tealiumConfig.completeStep.form_field_3=x;g.TMS.trackView(g.tealiumConfig.completeStep);g.disableButton=!1})["catch"](function(q){var x=g.config.messages.systemError;if(TOOLS_utils.isMobileAndroid||
TOOLS_utils.isMobileIOS)q instanceof Array?q.find(function(u){return u.status&&400===u.status})&&(g.clearInputFiles(),x=g.config.messages.lostFileError):q&&q.invalidFileError&&(g.clearInputFiles(),x=g.config.messages.invalidFileError);g.scope.set("systemError/message",x);setTimeout(function(){g.$systemError.focus()},0);g.TMS.trackEvent({event_category:"error",event_subcategory:q&&q.status?q.status:"500",event_action:"application",event_content:x})}).then(function(){g.submitted=!1;g.$submitButton.toggleClass("disabled",
g.disableButton);g.$submitButton.removeClass("loading")}))};h.prototype.upload=function(g){var q=this,x=this.config.endpoints.docUpload,u=x.json;u=u.replace("{{idType}}",JSON.stringify("ID"));u=u.replace("{{idValue}}",JSON.stringify(this.scope.get("hkid")));var r=[];this.fileInputs.forEach(function(t){var y=u;y=y.replace("{{documentType}}",JSON.stringify(t.documentType));var w="";"identityFile"==t.name?w="HKID":"unemploymentFile"==t.name?w="UNEMP":"incomeFile"==t.name?w="INCMP":"others"==t.name&&
(w="OTHERS");y=y.replace("PL2GO",w);t.files.forEach(function(A){var F=q.extractFilename(A.name),C=new FormData;C.append("requestJson",y);C.append("file",A,F);r.push(function(){return k.prototype.ajax.call(q,{method:"POST",url:x.url,headers:x.headers,formData:C}).then(function(J){J=JSON.parse(J);var B={file:A,response:J};return J.documentUploadId&&"RECEIVED"==J.status?B:Promise.reject(B)})})})});return(new n.RequestHelper(r,1,1E3,2)).start()};h.prototype.checkFileValidation=function(){var g=this;return new Promise(function(q,
x){if(TOOLS_utils.isMobileAndroid||TOOLS_utils.isMobileIOS){var u=[];g.fileInputs.forEach(function(r){r.files.forEach(function(t){u.push(new Promise(function(y,w){k.prototype.ajax.call(g,{method:"GET",url:URL.createObjectURL(t)}).then(function(){return y({valid:!0,fileName:t.name})})["catch"](function(A){return y({valid:!1,fileName:t.name,xhrObject:A.target})})}))})});Promise.all(u).then(function(r){r=r.find(function(t){return!1===t.valid});q({allFilesValid:!r,fileName:r?r.fileName:"",errorCode:r?
r.xhrObject.status:""})})["catch"](function(r){x(r)})}else q({allFilesValid:!0})})};return h}(m.ToolsBase);TOOLS_utils.registerComponent({name:"PLGSDocUpload",selector:".PLGSDocUpload",init:function(k){return new e(k)}})})(Bootstrap.jQuery)},function(M,Y,I){var z=[];for(Y=0;256>Y;++Y)z[Y]=(Y+256).toString(16).substr(1);M.exports=function(m,n){n=n||0;return[z[m[n++]],z[m[n++]],z[m[n++]],z[m[n++]],"-",z[m[n++]],z[m[n++]],"-",z[m[n++]],z[m[n++]],"-",z[m[n++]],z[m[n++]],"-",z[m[n++]],z[m[n++]],z[m[n++]],
z[m[n++]],z[m[n++]],z[m[n++]]].join("")}},function(M,Y,I){var z="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(z){var m=new Uint8Array(16);M.exports=function(){z(m);return m}}else{var n=Array(16);M.exports=function(){for(var l=0,c;16>l;l++)0===(l&3)&&(c=4294967296*Math.random()),n[l]=c>>>((l&3)<<3)&255;return n}}},function(M,Y,I){var z=
I(92),m=I(91);M.exports=function(n,l,c){c=l&&c||0;"string"==typeof n&&(l="binary"===n?Array(16):null,n=null);n=n||{};n=n.random||(n.rng||z)();n[6]=n[6]&15|64;n[8]=n[8]&63|128;if(l)for(var p=0;16>p;++p)l[c+p]=n[p];return l||m(n)}},,function(M,Y,I){I(10);I(37);I(5);I(38);I(7);I(1);I(39);I(40);I(41);I(42);I(43);I(44);I(45);I(46);I(3);I(47);I(15);I(48);I(49);I(4);I(50);I(51);I(52);I(8);I(53);I(54);I(11);I(55);I(56);I(57);I(58);I(59);I(60);I(16);I(17);I(18);I(9);I(19);I(12);I(20);I(2);I(0);I(61);I(62);
I(63);I(64);I(65);I(66);I(67);I(68);I(69);I(70);I(71);I(72);I(73);I(74);I(75);I(6);I(13);I(21);I(76);I(77);I(22);I(14);I(23);I(78);I(24);I(79);I(80);I(81);I(25);I(26);I(82);I(27);I(83);I(28);I(84);I(85);I(86);I(87);I(88);I(89);I(29);I(30);I(90);I(31);M.exports=I(32)}]);